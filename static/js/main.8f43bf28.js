/*! For license information please see main.8f43bf28.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{c(t,y,v)}catch(_){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||w(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},763:(e,t,n)=>{"use strict";e.exports=n(983)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function $(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Te=null;function Ce(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ie(e){Se?Te?Te.push(e):Te=[e]:Se=e}function ke(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(Pe(),ke())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,o,s,a,l){Me=!1,Ue=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,Tt,Ct,It=!1,kt=[],At=null,Pt=null,Rt=null,Nt=new Map,xt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Rt&&Ft(Rt)&&(Rt=null),Nt.forEach(jt),xt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),xt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Ht.transition=o}}function Kt(e,t,n,r){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Ht.transition=o}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Mt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=U({},cn,{view:0,detail:0}),dn=on(hn),fn=U({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(U({},fn,{dataTransfer:0})),gn=on(U({},hn,{relatedTarget:0})),yn=on(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(vn),bn=on(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var In=U({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(In),An=on(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(U({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Nn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Un=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Cr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=Cr("animationend"),kr=Cr("animationiteration"),Ar=Cr("animationstart"),Pr=Cr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];xr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}xr(Ir,"onAnimationEnd"),xr(kr,"onAnimationIteration"),xr(Ar,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ur(i,a,c),o=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=o,i=we(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ir:case kr:case Ar:l=yn;break;case Pr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=xe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(qn(a))if(Jn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:y}),v?_.data=v:null!==(v=zn(n))&&(_.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Fr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=xe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=xe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=xe(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=xe(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Ei=[],Si=-1;function Ti(e){return{current:e}}function Ci(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ii(e,t){Si++,Ei[Si]=e.current,e.current=t}var ki={},Ai=Ti(ki),Pi=Ti(!1),Ri=ki;function Ni(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Pi),Ci(Ai)}function Oi(e,t,n){if(Ai.current!==ki)throw Error(o(168));Ii(Ai,t),Ii(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ri=Ai.current,Ii(Ai,e),Ii(Pi,Pi.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(Ai),Ii(Ai,e)):Ci(Pi),Ii(Pi,n)}var Fi=null,ji=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{_t=t,Vi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&_o(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case x:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case x:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),io&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(i,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(i,m),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),io&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return io&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&$i(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===x&&_o(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case x:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Uc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=bo(!0),Eo=bo(!1),So=Ti(null),To=null,Co=null,Io=null;function ko(){Io=Co=To=null}function Ao(e){var t=So.current;Ci(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){To=e,Io=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===To)throw Error(o(308));Co=e,To.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var xo=null;function Do(e){null===xo?xo=[e]:xo.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Do(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=U({},h,d);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=h}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=Ti(Wo),Go=Ti(Wo),Qo=Ti(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Xo(e,t){switch(Ii(Qo,t),Ii(Go,e),Ii(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ko),Ii(Ko,t)}function Jo(){Ci(Ko),Ci(Go),Ci(Qo)}function $o(e){Yo(Qo.current);var t=Yo(Ko.current),n=le(t,e.type);t!==n&&(Ii(Go,e),Ii(Ko,n))}function Zo(e){Go.current===e&&(Ci(Ko),Ci(Go))}var es=Ti(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=$s,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function _s(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,as.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function Ts(e,t){var n=as,r=_s(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,_a=!0),r=r.queue,Ms(ks.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ns(9,Is.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ss)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Ps(e)}function ks(e,t,n){return n((function(){As(t)&&Ps(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ps(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xs(){return _s().memoizedState}function Ds(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=_s();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ns(t,n,o,r))}as.flags|=e,i.memoizedState=Ns(1|t,n,o,r)}function Ls(e,t){return Ds(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Us(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,js.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ws(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{_t=n,os.transition=r}}function Ks(){return _s().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Js(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Do(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var $s={readContext:No,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:No,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Rs,useDebugValue:zs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ss)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(ks.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Pl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:No,useCallback:Bs,useContext:No,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:ws,useRef:xs,useState:function(){return ws(bs)},useDebugValue:zs,useDeferredValue:function(e){return qs(_s(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],_s().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:Bs,useContext:No,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:Es,useRef:xs,useState:function(){return Es(bs)},useDebugValue:zs,useDeferredValue:function(e){var t=_s();return null===ls?t.memoizedState=e:qs(t,ls.memoizedState,e)},useTransition:function(){return[Es(bs)[0],_s().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=xi(t)?Ri:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=xi(t)?Ri:Ai.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?Eo(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=gs(e,t,n,r,o,i),n=ys(),null===e||_a?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||xc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ia(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Dl,xl),xl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Dl,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Dl,xl),xl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Dl,xl),xl|=r;return ba(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=xi(n)?Ri:Ai.current;return o=Ni(t,o),Ro(t,i),n=gs(e,t,n,r,o,i),r=ys(),null===e||_a?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ka(e,t,n,r,i){if(xi(n)){var o=!0;Mi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Ha(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=xi(n)?Ri:Ai.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var d=t.memoizedState;s.state=d,Ho(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=xi(n)?Ri:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,r,l),Mo=!1,d=t.memoizedState,s.state=d,Ho(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ui(t,n,!1),qa(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xo(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Na,xa,Da,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ja(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),ja(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return xi(t.type)&&Di(),Ka(t),null;case 3:return r=t.stateNode,Jo(),Ci(Pi),Ci(Ai),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),xa(e,t),Ka(t),null;case 5:Zo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Jo(),xa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return Ao(t.type._context),Ka(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Bl&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Je()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ii(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return xi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ci(Pi),Ci(Ai),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return Jo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Tc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":$(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Tc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Tc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,ml(t,e),Xa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,$a=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$a=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=s,(Xa=l)&&!c)for($a=i;null!==$a;)l=(s=$a).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,$a=l):El(i);for(;null!==o;)$a=o,_l(o,t,n),o=o.sibling;$a=i,Ya=a,Xa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):bl(e)}}function bl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&il(t)}catch(f){Tc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function wl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function El(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var o=t.return;try{il(t)}catch(l){Tc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Tc(t,s,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Sl,Tl=Math.ceil,Cl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,Al=0,Pl=null,Rl=null,Nl=0,xl=0,Dl=Ti(0),Ol=0,Ll=null,Ml=0,Ul=0,Fl=0,jl=null,Vl=null,zl=0,Bl=1/0,Hl=null,ql=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Al)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Ul|=n),4===Ol&&ac(e,Nl)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Bl=Je()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Pl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),si((function(){0===(6&Al)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Al;Al|=2;var s=pc();for(Pl===e&&Nl===t||(Hl=null,Bl=Je()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}ko(),Cl.current=s,Al=i,null!==Rl?t=0:(Pl=null,Nl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,dc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,dc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),r);break}wc(e,Vl,Hl);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,dc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),rc(e,Je()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Bl=Je()+500,ji&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=kl.transition,r=_t;try{if(kl.transition=null,_t=1,e)return e()}finally{_t=r,kl.transition=n,0===(6&(Al=t))&&Bi()}}function hc(){xl=Dl.current,Ci(Dl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Jo(),Ci(Pi),Ci(Ai),rs();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ci(es);break;case 10:Ao(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Rl=e=Dc(e.current,null),Nl=xl=t,Ol=0,Ll=null,Fl=Ul=Ml=0,Vl=jl=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(ko(),is.current=$s,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,Il.current=null,null===n||null===n.return){Ol=1,Ll=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===jl?jl=[s]:jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=$s,null===e?$s:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Ml)&&0===(268435455&Ul)||ac(Pl,Nl)}function gc(e,t){var n=Al;Al|=2;var r=pc();for(Pl===e&&Nl===t||(Hl=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(ko(),Al=n,Cl.current=r,null!==Rl)throw Error(o(261));return Pl=null,Nl=0,Ol}function yc(){for(;null!==Rl;)_c(Rl)}function vc(){for(;null!==Rl&&!Ye();)_c(Rl)}function _c(e){var t=Sl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,Il.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,xl)))return void(Rl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=_t,i=kl.transition;try{kl.transition=null,_t=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pl&&(Rl=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=kl.transition,kl.transition=null;var a=_t;_t=1;var l=Al;Al|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Tc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Al=l,_t=a,kl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{kl.transition=i,_t=r}return null}function Ec(){if(null!==Ql){var e=bt(Yl),t=kl.transition,n=_t;try{if(kl.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(ol(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,$a=v;break e}$a=s.return}}var _=e.current;for($a=_;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else e:for(a=_;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Tc(l,l.return,E)}if(l===a){$a=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$a=w;break e}$a=l.return}}if(Al=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{_t=n,kl.transition=t}}return!1}function Sc(e,t,n){e=Vo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Ol||3===Ol&&(130023424&Nl)===Nl&&500>Je()-zl?dc(e,0):Fl|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(yt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function xc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)xc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lc(n.children,i,s,t);case T:a=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case P:return(e=Nc(13,n,t,i)).elementType=P,e.lanes=s,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=s,e;case D:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case k:a=9;break e;case A:a=11;break e;case N:a=14;break e;case x:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new jc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(o),e}function zc(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=zc(null),n=e.current,(o=jo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nc(e,i,s,o),zo(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:$o(t);break;case 1:xi(t.type)&&Mi(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Ii(es,1&es.current),null!==(e=qa(e,t,n))?e.sibling:null);Ii(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Ro(t,n),i=gs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Uo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return xc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return $o(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ua(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(So,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Pi.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=jo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Po(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Po(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=No(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,xi(r)?(e=!0,Mi(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ta(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Al)&&(Bl=Je()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},Et=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Tt=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ie,ke,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},358:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},706:(e,t,n)=>{"use strict";n(358)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+A(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+A(a=e[c],c);l+=P(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=o+A(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},D={transition:null},O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(E);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,C=null,I=-1,k=5,A=-1;function P(){return!(t.unstable_now()-A<k)}function R(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(T=!1,C=null)}}else T=!1}if("function"===typeof _)S=function(){_(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,x=N.port2;N.port1.onmessage=R,S=function(){x.postMessage(null)}}else S=function(){y(R,0)};function D(e){C=e,T||(T=!0,S())}function O(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,O(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},956:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},39:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=s(e,h[0],h[1]);return l((function(){d.hasValue=!0,d.value=f}),[f]),u(f),f}},461:(e,t,n)=>{"use strict";e.exports=n(956)},443:(e,t,n)=>{"use strict";e.exports=n(39)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".ed3810f9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391),i=n(461),o=n(443),s=n(950),a=n.t(s,2);let l=function(e){e()};const c=()=>l,u=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function d(){var t;if(!e.createContext)return{};const n=null!=(t=h[u])?t:h[u]=new Map;let r=n.get(e.createContext);return r||(r=e.createContext(null),n.set(e.createContext,r)),r}const f=d();function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(){return(0,e.useContext)(t)}}const m=p();let g=()=>{throw new Error("uSES not initialized!")};const y=(e,t)=>e===t;function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const n=t===f?m:p(t);return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=y,stabilityCheck:o,noopCheck:s}="function"===typeof r?{equalityFn:r}:r;const{store:a,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:h}=n(),d=((0,e.useRef)(!0),(0,e.useCallback)({[t.name]:e=>t(e)}[t.name],[t,u,o])),f=g(l.addNestedSub,a.getState,c||a.getState,d,i);return(0,e.useDebugValue)(f),f}}const _=v();n(219),n(706);const b={notify(){},get:()=>[]};function w(e,t){let n,r=b,i=0,o=!1;function s(){u.onStateChange&&u.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){const e=c();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=b)}const u={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return u}const E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;let S=null;const T=function(t){let{store:n,context:r,children:i,serverState:o,stabilityCheck:s="once",noopCheck:a="once"}=t;const l=e.useMemo((()=>{const e=w(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:s,noopCheck:a}}),[n,o,s,a]),c=e.useMemo((()=>n.getState()),[n]);E((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||f;return e.createElement(u.Provider,{value:l},i)};function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const t=e===f?m:p(e);return function(){const{store:e}=t();return e}}const I=C();function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const t=e===f?I:C(e);return function(){return t().dispatch}}const A=k();var P;function R(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function N(e){return!!e&&!!e[_e]}function x(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===be}(e)||Array.isArray(e)||!!e[ve]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ve])||j(e)||V(e))}function D(e,t,n){void 0===n&&(n=!1),0===O(e)?(n?Object.keys:we)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function O(e){var t=e[_e];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:j(e)?2:V(e)?3:0}function L(e,t){return 2===O(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){return 2===O(e)?e.get(t):e[t]}function U(e,t,n){var r=O(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function F(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function j(e){return pe&&e instanceof Map}function V(e){return me&&e instanceof Set}function z(e){return e.o||e.t}function B(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ee(e);delete t[_e];for(var n=we(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function H(e,t){return void 0===t&&(t=!1),W(e)||N(e)||!x(e)||(O(e)>1&&(e.set=e.add=e.clear=e.delete=q),Object.freeze(e),t&&D(e,(function(e,t){return H(t,!0)}),!0)),e}function q(){R(2)}function W(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function K(e){var t=Se[e];return t||R(18,e),t}function G(e,t){Se[e]||(Se[e]=t)}function Q(){return de}function Y(e,t){t&&(K("Patches"),e.u=[],e.s=[],e.v=t)}function X(e){J(e),e.p.forEach(Z),e.p=null}function J(e){e===de&&(de=e.l)}function $(e){return de={p:[],l:de,h:e,m:!0,_:0}}function Z(e){var t=e[_e];0===t.i||1===t.i?t.j():t.g=!0}function ee(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||K("ES5").S(t,e,r),r?(n[_e].P&&(X(t),R(4)),x(e)&&(e=te(t,e),t.l||re(t,e)),t.u&&K("Patches").M(n[_e].t,e,t.u,t.s)):e=te(t,n,[]),X(t),t.u&&t.v(t.u,t.s),e!==ye?e:void 0}function te(e,t,n){if(W(t))return t;var r=t[_e];if(!r)return D(t,(function(i,o){return ne(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return re(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=B(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),D(o,(function(t,o){return ne(e,r,i,t,o,n,s)})),re(e,i,!1),n&&e.u&&K("Patches").N(r,n,e.u,e.s)}return r.o}function ne(e,t,n,r,i,o,s){if(N(i)){var a=te(e,i,o&&t&&3!==t.i&&!L(t.R,r)?o.concat(r):void 0);if(U(n,r,a),!N(a))return;e.m=!1}else s&&n.add(i);if(x(i)&&!W(i)){if(!e.h.D&&e._<1)return;te(e,i),t&&t.A.l||re(e,i)}}function re(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&H(t,n)}function ie(e,t){var n=e[_e];return(n?z(n):e)[t]}function oe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function se(e){e.P||(e.P=!0,e.l&&se(e.l))}function ae(e){e.o||(e.o=B(e.t))}function le(e,t,n){var r=j(t)?K("MapSet").F(t,n):V(t)?K("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Te;n&&(i=[r],o=Ce);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):K("ES5").J(t,n);return(n?n.A:Q()).p.push(r),r}function ce(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return B(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[_e];return Te.get(t,e)},set:function(t){var n=this[_e];Te.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][_e];if(!i.P)switch(i.i){case 5:r(i)&&se(i);break;case 4:n(i)&&se(i)}}}function n(e){for(var t=e.t,n=e.k,r=we(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==_e){var s=t[o];if(void 0===s&&!L(t,o))return!0;var a=n[o],l=a&&a[_e];if(l?l.t!==s:!F(a,s))return!0}}var c=!!t[_e];return r.length!==we(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};G("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Ee(n);delete o[_e];for(var s=we(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Q(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,_e,{value:o,writable:!0}),i},S:function(e,n,i){i?N(n)&&n[_e].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[_e];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)D(o,(function(t){t!==_e&&(void 0!==i[t]||L(i,t)?s[t]||e(o[t]):(s[t]=!0,se(n)))})),D(i,(function(e){void 0!==o[e]||L(o,e)||(s[e]=!1,se(n))}));else if(5===a){if(r(n)&&(se(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),h=0;h<u;h++)o.hasOwnProperty(h)||(s[h]=!0),void 0===s[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}(e=>{g=e})(o.useSyncExternalStoreWithSelector),(e=>{S=e})(i.useSyncExternalStore),P=s.unstable_batchedUpdates,l=P;var he,de,fe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),pe="undefined"!=typeof Map,me="undefined"!=typeof Set,ge="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ye=fe?Symbol.for("immer-nothing"):((he={})["immer-nothing"]=!0,he),ve=fe?Symbol.for("immer-draftable"):"__$immer_draftable",_e=fe?Symbol.for("immer-state"):"__$immer_state",be=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),we="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ee=Object.getOwnPropertyDescriptors||function(e){var t={};return we(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Se={},Te={get:function(e,t){if(t===_e)return e;var n=z(e);if(!L(n,t))return function(e,t,n){var r,i=oe(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!x(r)?r:r===ie(e.t,t)?(ae(e),e.o[t]=le(e.A.h,r,e)):r},has:function(e,t){return t in z(e)},ownKeys:function(e){return Reflect.ownKeys(z(e))},set:function(e,t,n){var r=oe(z(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ie(z(e),t),o=null==i?void 0:i[_e];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(F(n,i)&&(void 0!==n||L(e.t,t)))return!0;ae(e),se(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ie(e.t,t)||t in e.t?(e.R[t]=!1,ae(e),se(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=z(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){R(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){R(12)}},Ce={};D(Te,(function(e,t){Ce[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ce.deleteProperty=function(e,t){return Ce.set.call(this,e,t,void 0)},Ce.set=function(e,t,n){return Te.set.call(this,e[0],t,n,e[0])};var Ie=function(){function e(e){var t=this;this.O=ge,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&R(6),void 0!==r&&"function"!=typeof r&&R(7),x(e)){var a=$(t),l=le(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?X(a):J(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Y(a,r),ee(e,a)}),(function(e){throw X(a),e})):(Y(a,r),ee(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===ye&&(s=void 0),t.D&&H(s,!0),r){var u=[],h=[];K("Patches").M(e,s,u,h),r(u,h)}return s}R(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){x(e)||R(8),N(e)&&(e=function(e){return N(e)||R(22,e),function e(t){if(!x(t))return t;var n,r=t[_e],i=O(t);if(r){if(!r.P&&(r.i<4||!K("ES5").K(r)))return r.t;r.I=!0,n=ce(t,i),r.I=!1}else n=ce(t,i);return D(n,(function(t,i){r&&M(r.t,t)===i||U(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=$(this),n=le(this,e,void 0);return n[_e].C=!0,J(t),n},t.finishDraft=function(e,t){var n=(e&&e[_e]).A;return Y(n,t),ee(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ge&&R(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=K("Patches").$;return N(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ke=new Ie,Ae=ke.produce;ke.produceWithPatches.bind(ke),ke.setAutoFreeze.bind(ke),ke.setUseProxies.bind(ke),ke.applyPatches.bind(ke),ke.createDraft.bind(ke),ke.finishDraft.bind(ke);const Pe=Ae;function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ne(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function xe(e,t,n){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Me="function"===typeof Symbol&&Symbol.observable||"@@observable",Ue=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fe={INIT:"@@redux/INIT"+Ue(),REPLACE:"@@redux/REPLACE"+Ue(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ue()}};function je(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ve(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Le(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Le(1));return n(Ve)(e,t)}if("function"!==typeof e)throw new Error(Le(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Le(3));return o}function h(e){if("function"!==typeof e)throw new Error(Le(4));if(l)throw new Error(Le(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Le(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function d(e){if(!je(e))throw new Error(Le(7));if("undefined"===typeof e.type)throw new Error(Le(8));if(l)throw new Error(Le(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:Fe.INIT}),(r={dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Le(10));i=e,d({type:Fe.REPLACE})}})[Me]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Le(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Me]=function(){return this},e},r}function ze(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Fe.INIT}))throw new Error(Le(12));if("undefined"===typeof n(void 0,{type:Fe.PROBE_UNKNOWN_ACTION()}))throw new Error(Le(13))}))}(n)}catch(a){o=a}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],h=c(u,t);if("undefined"===typeof h){t&&t.type;throw new Error(Le(14))}i[l]=h,r=r||h!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Le(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Be.apply(void 0,o)(n.dispatch),Oe(Oe({},n),{},{dispatch:r})}}}function qe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var We=qe();We.withExtraArgument=qe;const Ke=We;var Ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ye=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Xe=Object.defineProperty,Je=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,nt=function(e,t,n){return t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},rt=function(e,t){for(var n in t||(t={}))et.call(t,n)&&nt(e,n,t[n]);if(Ze)for(var r=0,i=Ze(t);r<i.length;r++){n=i[r];tt.call(t,n)&&nt(e,n,t[n])}return e},it=function(e,t){return Je(e,$e(t))},ot=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(t){i(t)}},s=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},st="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Be:Be.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function at(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function lt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return rt(rt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var ct=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ge(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ye([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ye([void 0],e.concat(this))))},t}(Array),ut=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ge(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ye([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ye([void 0],e.concat(this))))},t}(Array);function ht(e){return x(e)?Pe(e,(function(){})):e}function dt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new ct);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ke.withExtraArgument(n.extraArgument)):r.push(Ke));0;return r}(e)}}function ft(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function pt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ht(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"===typeof e.extraReducers?ft(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=rt(rt({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?ft(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ht(e())};else{var c=ht(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=Ye([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(N(e))return void 0===(r=n(e,t))?e:r;if(x(e))return Pe(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?lt(c,r):lt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var mt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},gt=["name","message","stack","code"],yt=function(e,t){this.payload=e,this.meta=t},vt=function(e,t){this.payload=e,this.meta=t},_t=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=gt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},bt=function(){function e(e,t,n){var r=lt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:it(rt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:it(rt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=lt(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||_t)(e||"Rejected"),meta:it(rt({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,l,c){var u,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):mt(),d=new s;function f(e){u=e,d.abort()}var p=function(){return ot(this,null,(function(){var s,p,m,g,y,v;return Qe(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}),null===(b=g)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,g];case 1:g=_.sent(),_.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:h,signal:d.signal,abort:f,rejectWithValue:function(e,t){return new yt(e,t)},fulfillWithValue:function(e,t){return new vt(e,t)}})).then((function(t){if(t instanceof yt)throw t;return t instanceof vt?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return m=_.sent(),[3,5];case 4:return v=_.sent(),m=v instanceof yt?o(null,h,e,v.payload,v.meta):o(v,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||a(m),[2,m]}var b}))}))}();return Object.assign(p,{abort:f,requestId:h,arg:e,unwrap:function(){return p.then(wt)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function wt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Et="listenerMiddleware";lt(Et+"/add"),lt(Et+"/removeAll"),lt(Et+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var St,Tt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Tt(10);ue();const Ct=bt("counter/fetchCount",(async e=>{const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((t=>setTimeout((()=>t({data:e})),500)))}(e);return t.data})),It=pt({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}},extraReducers:e=>{e.addCase(Ct.pending,(e=>{e.status="loading"})).addCase(Ct.fulfilled,((e,t)=>{e.status="idle",e.value+=t.payload}))}}),{increment:kt,decrement:At,incrementByAmount:Pt}=It.actions,Rt=(It.reducer,!1),Nt=!1,xt="${JSCORE_VERSION}",Dt=function(e,t){if(!e)throw Ot(t)},Ot=function(e){return new Error("Firebase Database ("+xt+") INTERNAL ASSERT FAILED: "+e)},Lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Mt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ut;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(e){const t=Lt(e);return Mt.encodeByteArray(t,!0)},jt=function(e){return Ft(e).replace(/\./g,"")},Vt=function(e){try{return Mt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zt(e){return Bt(void 0,e)}function Bt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Bt(e[n],t[n]));return e}const Ht=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,qt=()=>{try{return Ht()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Vt(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Wt=e=>{var t,n;return null===(n=null===(t=qt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Kt=e=>{const t=Wt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Gt=()=>{var e;return null===(e=qt())||void 0===e?void 0:e.config},Qt=e=>{var t;return null===(t=qt())||void 0===t?void 0:t["_".concat(e)]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jt(JSON.stringify({alg:"none",type:"JWT"})),jt(JSON.stringify(o)),""].join(".")}function Jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $t(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Zt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function en(){return!0===Rt||!0===Nt}function tn(){return!function(){var e;const t=null===(e=qt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nn(){try{return"object"===typeof indexedDB}catch(e){return!1}}class rn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(sn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rn(n,o,t)}}const sn=/\{\$([^}]+)}/g;function an(e){return JSON.parse(e)}function ln(e){return JSON.stringify(e)}const cn=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=an(Vt(o[0])||""),n=an(Vt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function dn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function pn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(mn(n)&&mn(o)){if(!pn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mn(e){return null!==e&&"object"===typeof e}function gn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function vn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class _n{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class bn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=wn),void 0===r.error&&(r.error=wn),void 0===r.complete&&(r.complete=wn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function wn(){}function En(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Sn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Tn(e){return e&&e._delegate?e._delegate:e}class Cn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const In="[DEFAULT]";class kn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Yt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:In})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:An(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.component?this.component.multipleInstances?e:In:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function An(e){return e===In?void 0:e}class Pn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rn=[];var Nn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nn||(Nn={}));const xn={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},Dn=Nn.INFO,On={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},Ln=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Mn{constructor(e){this.name=e,this._logLevel=Dn,this._logHandler=Ln,this._userLogHandler=null,Rn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?xn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...t),this._logHandler(this,Nn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...t),this._logHandler(this,Nn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...t),this._logHandler(this,Nn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...t),this._logHandler(this,Nn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...t),this._logHandler(this,Nn.ERROR,...t)}}const Un=(e,t)=>t.some((t=>e instanceof t));let Fn,jn;const Vn=new WeakMap,zn=new WeakMap,Bn=new WeakMap,Hn=new WeakMap,qn=new WeakMap;let Wn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Kn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jn||(jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yn(this),n),Qn(Vn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(e.apply(Yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Yn(this),t,...r);return Bn.set(o,t.sort?t.sort():[t]),Qn(o)}}function Gn(e){return"function"===typeof e?Kn(e):(e instanceof IDBTransaction&&function(e){if(zn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));zn.set(e,t)}(e),Un(e,Fn||(Fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Wn):e)}function Qn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Qn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Vn.set(t,e)})).catch((()=>{})),qn.set(t,e),t}(e);if(Hn.has(e))return Hn.get(e);const t=Gn(e);return t!==e&&(Hn.set(e,t),qn.set(t,e)),t}const Yn=e=>qn.get(e);const Xn=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],$n=new Map;function Zn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($n.get(t))return $n.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return $n.set(t,o),o}Wn=(e=>({...e,get:(t,n,r)=>Zn(t,n)||e.get(t,n,r),has:(t,n)=>!!Zn(t,n)||e.has(t,n)}))(Wn);class er{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const tr="@firebase/app",nr="0.10.6",rr=new Mn("@firebase/app"),ir="@firebase/app-compat",or="@firebase/analytics-compat",sr="@firebase/analytics",ar="@firebase/app-check-compat",lr="@firebase/app-check",cr="@firebase/auth",ur="@firebase/auth-compat",hr="@firebase/database",dr="@firebase/database-compat",fr="@firebase/functions",pr="@firebase/functions-compat",mr="@firebase/installations",gr="@firebase/installations-compat",yr="@firebase/messaging",vr="@firebase/messaging-compat",_r="@firebase/performance",br="@firebase/performance-compat",wr="@firebase/remote-config",Er="@firebase/remote-config-compat",Sr="@firebase/storage",Tr="@firebase/storage-compat",Cr="@firebase/firestore",Ir="@firebase/vertexai-preview",kr="@firebase/firestore-compat",Ar="firebase",Pr="[DEFAULT]",Rr={[tr]:"fire-core",[ir]:"fire-core-compat",[sr]:"fire-analytics",[or]:"fire-analytics-compat",[lr]:"fire-app-check",[ar]:"fire-app-check-compat",[cr]:"fire-auth",[ur]:"fire-auth-compat",[hr]:"fire-rtdb",[dr]:"fire-rtdb-compat",[fr]:"fire-fn",[pr]:"fire-fn-compat",[mr]:"fire-iid",[gr]:"fire-iid-compat",[yr]:"fire-fcm",[vr]:"fire-fcm-compat",[_r]:"fire-perf",[br]:"fire-perf-compat",[wr]:"fire-rc",[Er]:"fire-rc-compat",[Sr]:"fire-gcs",[Tr]:"fire-gcs-compat",[Cr]:"fire-fst",[kr]:"fire-fst-compat",[Ir]:"fire-vertex","fire-js":"fire-js",[Ar]:"fire-js-all"},Nr=new Map,xr=new Map,Dr=new Map;function Or(e,t){try{e.container.addComponent(t)}catch(n){rr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Lr(e){const t=e.name;if(Dr.has(t))return rr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dr.set(t,e);for(const n of Nr.values())Or(n,e);for(const n of xr.values())Or(n,e);return!0}function Mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ur(e){return void 0!==e.settings}const Fr=new on("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const Vr="10.12.3";function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=Gt()),!n)throw Fr.create("no-options");const o=Nr.get(i);if(o){if(pn(n,o.options)&&pn(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}const s=new Pn(i);for(const l of Dr.values())s.addComponent(l);const a=new jr(n,r,s);return Nr.set(i,a),a}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;const t=Nr.get(e);if(!t&&e===Pr&&Gt())return zr();if(!t)throw Fr.create("no-app",{appName:e});return t}function Hr(e,t,n){var r;let i=null!==(r=Rr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rr.warn(e.join(" "))}Lr(new Cn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const qr="firebase-heartbeat-database",Wr=1,Kr="firebase-heartbeat-store";let Gr=null;function Qr(){return Gr||(Gr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Qn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Qn(s.result),e.oldVersion,e.newVersion,Qn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(qr,Wr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kr)}catch(n){console.warn(n)}}}).catch((e=>{throw Fr.create("idb-open",{originalErrorMessage:e.message})}))),Gr}async function Yr(e,t){try{const n=(await Qr()).transaction(Kr,"readwrite"),r=n.objectStore(Kr);await r.put(t,Xr(e)),await n.done}catch(n){if(n instanceof rn)rr.warn(n.message);else{const e=Fr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});rr.warn(e.message)}}}function Xr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Jr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$r();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=$r(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ei(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ei(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=jt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $r(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!nn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Dy){t(Dy)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qr()).transaction(Kr),n=await t.objectStore(Kr).get(Xr(e));return await t.done,n}catch(t){if(t instanceof rn)rr.warn(t.message);else{const e=Fr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});rr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ei(e){return jt(JSON.stringify({version:2,heartbeats:e})).length}var ti;ti="",Lr(new Cn("platform-logger",(e=>new er(e)),"PRIVATE")),Lr(new Cn("heartbeat",(e=>new Jr(e)),"PRIVATE")),Hr(tr,nr,ti),Hr(tr,nr,"esm2017"),Hr("fire-js","");function ni(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ri(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ii=ri,oi=new on("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),si=new Mn("@firebase/auth");function ai(e){if(si.logLevel<=Nn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];si.error("Auth (".concat(Vr,"): ").concat(e),...n)}}function li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw di(e,...n)}function ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return di(e,...n)}function ui(e,t,n){const r=Object.assign(Object.assign({},ii()),{[t]:n});return new on("auth","Firebase",r).create(t,{appName:e.name})}function hi(e){return ui(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return oi.create(e,...n)}function fi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw di(t,...r)}}function pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ai(t),new Error(t)}function mi(e,t){e||pi(t)}function gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yi(){return"http:"===vi()||"https:"===vi()}function vi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _i(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yi()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class bi{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=$t()||Zt()}get(){return _i()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wi(e,t){mi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ei{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Si={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ti=new bi(3e4,6e4);function Ci(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ii(e,t,n,r){return ki(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=gn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ei.fetch()(Pi(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ki(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Si),t);try{const t=new Ni(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw xi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw xi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw xi(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ui(e,a,s);li(e,a)}}catch(i){if(i instanceof rn)throw i;li(e,"network-request-failed",{message:String(i)})}}async function Ai(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Ii(e,t,n,r,i);return"mfaPendingCredential"in o&&li(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Pi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ri(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ni{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ci(this.auth,"network-request-failed"))),Ti.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function xi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(e,t,r);return i.customData._tokenResponse=n,i}function Di(e){return void 0!==e&&void 0!==e.enterprise}class Oi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ri(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Li(e,t){return Ii(e,"GET","/v2/recaptchaConfig",Ci(e,t))}async function Mi(e,t){return Ii(e,"POST","/v1/accounts:lookup",t)}function Ui(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Fi(e){return 1e3*Number(e)}function ji(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ai("JWT malformed, contained fewer than 3 sections"),null;try{const e=Vt(n);return e?JSON.parse(e):(ai("Failed to decode base64 JWT payload"),null)}catch(i){return ai("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Vi(e){const t=ji(e);return fi(t,"internal-error"),fi("undefined"!==typeof t.exp,"internal-error"),fi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function zi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof rn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Bi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await zi(e,Mi(n,{idToken:r}));fi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Wi(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hi(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Wi(e){return e.map((e=>{var{providerId:t}=e,n=ni(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fi(e.idToken,"internal-error"),fi("undefined"!==typeof e.idToken,"internal-error"),fi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Vi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fi(0!==e.length,"internal-error");const t=Vi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(fi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ki(e,{},(async()=>{const n=gn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Pi(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ei.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ki;return n&&(fi("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(fi("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(fi("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ki,this.toJSON())}_performRefresh(){return pi("not implemented")}}function Gi(e,t){fi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Qi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ni(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await zi(this,this.stsTokenManager.getToken(this.auth,e));return fi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Tn(e),r=await n.getIdToken(t),i=ji(r);fi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ui(Fi(i.auth_time)),issuedAtTime:Ui(Fi(i.iat)),expirationTime:Ui(Fi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Tn(e);await qi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(fi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await qi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await zi(this,async function(e,t){return Ii(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:E}=t;fi(v&&E,e,"internal-error");const S=Ki.fromJSON(this.name,E);fi("string"===typeof v,e,"internal-error"),Gi(u,e.name),Gi(h,e.name),fi("boolean"===typeof _,e,"internal-error"),fi("boolean"===typeof b,e,"internal-error"),Gi(d,e.name),Gi(f,e.name),Gi(p,e.name),Gi(m,e.name),Gi(g,e.name),Gi(y,e.name);const T=new Qi({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ki;r.updateFromServerResponse(t);const i=new Qi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await qi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];fi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Wi(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Ki;s.updateFromIdToken(n);const a=new Qi({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Hi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Yi=new Map;function Xi(e){mi(e instanceof Function,"Expected a class definition");let t=Yi.get(e);return t?(mi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yi.set(e,t),t)}class Ji{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ji.type="NONE";const $i=Ji;function Zi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class eo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Zi(this.userKey,r.apiKey,i),this.fullPersistenceKey=Zi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new eo(Xi($i),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Xi($i);const o=Zi(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Qi._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new eo(i,e,n)):new eo(i,e,n)}}function to(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(no(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ao(t))return"Blackberry";if(lo(t))return"Webos";if(ro(t))return"Safari";if((t.includes("chrome/")||io(t))&&!t.includes("edge/"))return"Chrome";if(so(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function no(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/firefox\//i.test(e)}function ro(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/crios\//i.test(e)}function oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iemobile/i.test(e)}function so(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/android/i.test(e)}function ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/blackberry/i.test(e)}function lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/webos/i.test(e)}function co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uo(){return function(){const e=Jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return co(e)||so(e)||lo(e)||ao(e)||/windows phone/i.test(e)||oo(e)}function fo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=to(Jt());break;case"Worker":t="".concat(to(Jt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Vr,"/").concat(r)}class po{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(Q){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class mo{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class go{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vo(this),this.idTokenSubscription=new vo(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Mi(this,{idToken:e}),n=await Qi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qi(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(hi(this));const t=e?Tn(e):null;return t&&fi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&fi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ur(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(hi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Xi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ii(e,"GET","/v2/passwordPolicy",Ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new mo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ii(e,"POST","/v2/accounts:revokeToken",Ci(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xi(e)||this._popupRedirectResolver;fi(t,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(fi(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(si.logLevel<=Nn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];si.warn("Auth (".concat(Vr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function yo(e){return Tn(e)}class vo{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new bn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return fi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _o={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bo(e){return _o.loadJS(e)}function wo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Eo{constructor(e){this.type="recaptcha-enterprise",this.auth=yo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Di(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Li(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Oi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Di(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=_o.recaptchaEnterpriseScript;0!==t.length&&(t+=i),bo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function So(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Eo(e);let o;try{o=await i.verify(n)}catch(Dy){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function To(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await So(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await So(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Co(e,t,n){const r=yo(e);fi(r._canInitEmulator,r,"emulator-config-failed"),fi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Io(t),{host:s,port:a}=function(e){const t=Io(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ko(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ko(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Io(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ko(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ao{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function Po(e,t){return Ii(e,"POST","/v1/accounts:signUp",t)}async function Ro(e,t){return Ai(e,"POST","/v1/accounts:signInWithPassword",Ci(e,t))}class No extends Ao{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new No(e,t,"password")}static _fromEmailAndCode(e,t){return new No(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return To(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ro);case"emailLink":return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))}(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return To(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Po);case"emailLink":return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(e,t){return Ai(e,"POST","/v1/accounts:signInWithIdp",Ci(e,t))}class Do extends Ao{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ni(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Do(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return xo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gn(t)}return e}}const Oo={USER_NOT_FOUND:"user-not-found"};class Lo extends Ao{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Lo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Lo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,t));if(n.temporaryProof)throw xi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Lo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Mo{constructor(e){var t,n,r,i,o,s;const a=yn(vn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);fi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=yn(vn(e)).link,n=t?yn(vn(t)).deep_link_id:null,r=yn(vn(e)).deep_link_id;return(r?yn(vn(r)).link:null)||r||n||t||e}(e);try{return new Mo(t)}catch(n){return null}}}class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return No._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mo.parseLink(t);return fi(n,"argument-error"),No._fromEmailAndCode(e,n.code,n.tenantId)}}Uo.PROVIDER_ID="password",Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jo extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vo extends jo{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vo.credential(t.oauthAccessToken)}catch(n){return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vo.PROVIDER_ID="facebook.com";class zo extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zo.credential(n,r)}catch(i){return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com",zo.PROVIDER_ID="google.com";class Bo extends jo{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bo.credential(t.oauthAccessToken)}catch(n){return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com",Bo.PROVIDER_ID="github.com";class Ho extends jo{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ho.credential(n,r)}catch(i){return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com",Ho.PROVIDER_ID="twitter.com";class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Qi._fromIdTokenResponse(e,n,r),o=Wo(n);return new qo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wo(n);return new qo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ko extends rn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ko(e,t,n,r)}}function Go(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ko._fromErrorAndOperation(e,n,t,r);throw n}))}async function Qo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await zi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qo._forOperation(e,"link",r)}async function Yo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ur(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const o=await zi(e,Go(r,i,t,e),n);fi(o.idToken,r,"internal-error");const s=ji(o.idToken);fi(s,r,"internal-error");const{sub:a}=s;return fi(e.uid===a,r,"user-mismatch"),qo._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&li(r,"user-mismatch"),o}}async function Xo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(hi(e));const r="signIn",i=await Go(e,r,t),o=await qo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Jo(e,t){return Xo(yo(e),t)}async function $o(e){const t=yo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Zo="__sak";class es{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ts extends es{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Jt();return ro(e)||co(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ho(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);uo()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ts.type="LOCAL";const ns=ts;class rs extends es{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rs.type="SESSION";const is=rs;class os{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new os(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}os.receivers=[];class as{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=ss("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ls(){return window}function cs(){return"undefined"!==typeof ls().WorkerGlobalScope&&"function"===typeof ls().importScripts}const us="firebaseLocalStorageDb",hs="firebaseLocalStorage",ds="fbase_key";class fs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ps(e,t){return e.transaction([hs],t?"readwrite":"readonly").objectStore(hs)}function ms(){const e=indexedDB.open(us,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(hs,{keyPath:ds})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(hs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(us);return new fs(e).toPromise()}(),t(await ms()))}))}))}async function gs(e,t,n){const r=ps(e,!0).put({[ds]:t,value:n});return new fs(r).toPromise()}function ys(e,t){const n=ps(e,!0).delete(t);return new fs(n).toPromise()}class vs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ms()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=os._getInstance(cs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new as(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ms();return await gs(e,Zo,"1"),await ys(e,Zo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ps(e,!1).get(t),r=await new fs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ys(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ps(e,!1).getAll();return new fs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vs.type="LOCAL";const _s=vs;wo("rcb"),new bi(3e4,6e4);const bs="recaptcha";async function ws(e,t,n){var r;const i=await n.verify();try{let o;if(fi("string"===typeof i,e,"argument-error"),fi(n.type===bs,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){fi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ii(e,"POST","/v2/accounts/mfaEnrollment:start",Ci(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{fi("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;fi(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ii(e,"POST","/v2/accounts/mfaSignIn:start",Ci(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ii(e,"POST","/v1/accounts:sendVerificationCode",Ci(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Es{constructor(e){this.providerId=Es.PROVIDER_ID,this.auth=yo(e)}verifyPhoneNumber(e,t){return ws(this.auth,e,Tn(t))}static credential(e,t){return Lo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Es.credentialFromTaggedObject(t)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Lo._fromTokenResponse(n,r):null}}function Ss(e,t){return t?Xi(t):(fi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Es.PROVIDER_ID="phone",Es.PHONE_SIGN_IN_METHOD="phone";class Ts extends Ao{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cs(e){return Xo(e.auth,new Ts(e),e.bypassAuthState)}function Is(e){const{auth:t,user:n}=e;return fi(n,t,"internal-error"),Yo(n,new Ts(e),e.bypassAuthState)}async function ks(e){const{auth:t,user:n}=e;return fi(n,t,"internal-error"),Qo(n,new Ts(e),e.bypassAuthState)}class As{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cs;case"linkViaPopup":case"linkViaRedirect":return ks;case"reauthViaPopup":case"reauthViaRedirect":return Is;default:li(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ps=new bi(2e3,1e4);class Rs extends As{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fi(e,this.auth,"internal-error"),e}async onExecution(){mi(1===this.filter.length,"Popup operations only handle one event");const e=ss();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ci(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ps.get())};e()}}Rs.currentPopupAction=null;const Ns="pendingRedirect",xs=new Map;class Ds extends As{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ms(t),r=Ls(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xs.set(this.auth._key(),e)}return this.bypassAuthState||xs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Os(e,t){xs.set(e._key(),t)}function Ls(e){return Xi(e._redirectPersistence)}function Ms(e){return Zi(Ns,e.config.apiKey,e.name)}async function Us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(hi(e));const r=yo(e),i=Ss(r,t),o=new Ds(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Fs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(e))}saveEventToCache(e){this.cachedEventUids.add(js(e)),this.lastProcessedEventTime=Date.now()}}function js(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Vs(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const zs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bs=/^https?/;async function Hs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ii(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qs(r))return}catch(n){}li(e,"unauthorized-domain")}function qs(e){const t=gi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Bs.test(n))return!1;if(zs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ws=new bi(3e4,6e4);function Ks(){const e=ls().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gs(e){return new Promise(((t,n)=>{var r,i,o;function s(){Ks(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ks(),n(ci(e,"network-request-failed"))},timeout:Ws.get()})}if(null===(i=null===(r=ls().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ls().gapi)||void 0===o?void 0:o.load)){const t=wo("iframefcb");return ls()[t]=()=>{gapi.load?s():n(ci(e,"network-request-failed"))},bo("".concat(_o.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Qs=null,e}))}let Qs=null;const Ys=new bi(5e3,15e3),Xs="__/auth/iframe",Js="emulator/auth/iframe",$s={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ea(e){const t=e.config;fi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?wi(t,Js):"https://".concat(e.config.authDomain,"/").concat(Xs),r={apiKey:t.apiKey,appName:e.name,v:Vr},i=Zs.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(gn(r).slice(1))}async function ta(e){const t=await function(e){return Qs=Qs||Gs(e),Qs}(e),n=ls().gapi;return fi(n,e,"internal-error"),t.open({where:document.body,url:ea(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$s,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ci(e,"network-request-failed"),o=ls().setTimeout((()=>{r(i)}),Ys.get());function s(){ls().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const na={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ra{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ia(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},na),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Jt().toLowerCase();n&&(a=io(c)?"_blank":n),no(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return co(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ra(null);const h=window.open(t||"",a,u);fi(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ra(h)}const oa="__/auth/handler",sa="emulator/auth/handler",aa=encodeURIComponent("fac");async function la(e,t,n,r,i,o){fi(e.config.authDomain,e,"auth-domain-config-required"),fi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(t instanceof Fo){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",dn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof jo){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(aa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(oa);return wi(t,sa)}(e),"?").concat(gn(a).slice(1)).concat(c)}const ca="webStorageSupport";const ua=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=Us,this._overrideRedirectResult=Os}async _openPopup(e,t,n,r){var i;mi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ia(e,await la(e,t,n,gi(),r),ss())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ls().location.href=e}(await la(e,t,n,gi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(mi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ta(e),n=new Fs(e);return t.register("authEvent",(t=>{fi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ca,{type:ca},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ca];void 0!==i&&t(!!i),li(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ho()||ro()||co()}};var ha="@firebase/auth",da="1.7.5";class fa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pa=Qt("authIdTokenMaxAge")||300;let ma=null;const ga=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pa)return;const i=null===n||void 0===n?void 0:n.token;ma!==i&&(ma=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function ya(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br();const t=Mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(pn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;li(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ua,persistence:[_s,ns,is]}),r=Qt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=ga(e.toString());!function(e,t,n){Tn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Tn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const i=Wt("auth");return i&&Co(n,"http://".concat(i)),n}var va;!function(e){_o=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ci("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),va="Browser",Lr(new Cn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:va,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fo(va)},c=new go(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lr(new Cn("auth-internal",(e=>(e=>new fa(e))(yo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(ha,da,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(va)),Hr(ha,da,"esm2017");var _a,ba,wa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ea={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ba=Ea.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},_a=Ea.Integer=r}).apply("undefined"!==typeof wa?wa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Sa,Ta,Ca,Ia,ka,Aa,Pa,Ra,Na,xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Da={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof xa&&xa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function T(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,A=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(N)}};var N=()=>{for(var e;e=T();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function x(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.s=!1,x.prototype.ma=function(){this.s||(this.s=!0,this.N())},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(U){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:F[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,D);var F={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),V=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function W(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}W.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Y(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var X="closure_lm_"+(1e6*Math.random()|0),J={};function Z(e,t,n,r,i){if(r&&r.once)return te(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Z(e,t[o],n,r,i);return null}return n=le(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):ee(e,t,n,!1,r,i)}function ee(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=se(e);if(l||(e[X]=l=new W(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=oe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function te(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)te(e,t[o],n,r,i);return null}return n=le(n),e&&e[j]?e.L(t,n,s(r)?!!r.capture:!!r,i):ee(e,t,n,!0,r,i)}function ne(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ne(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Y(o=e.g[t],n,r,i))&&(q(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Y(t,n,r,i)),(n=-1<e?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[X]=null)):q(e)}}}function ie(e){return e in J?J[e]:J[e]="on"+e}function oe(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[X])instanceof W?e:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[ae]||(e[ae]=function(t){return e.handleEvent(t)}),e[ae])}function ce(){x.call(this),this.i=new W(this),this.M=this,this.F=null}function ue(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;w(t=new D(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=he(s,r,!0,t)&&i}if(i=he(s=t.g=e,r,!0,t)&&i,i=he(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=he(s=t.g=n[o],r,!1,t)&&i}function he(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&Q(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function de(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function fe(e){e.g=de((()=>{e.g=null,e.i&&(e.i=!1,fe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ce,x),ce.prototype[j]=!0,ce.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)q(n[r]);delete t.g[e],t.h--}}this.F=null},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(e){x.call(this),this.h=e,this.g={}}h(me,x);var ge=[];function ye(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&re(e)}),e),e.g={}}me.prototype.N=function(){me.aa.N.call(this),ye(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=i.JSON.stringify,_e=i.JSON.parse,be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function we(){}function Ee(e){return e.h||(e.h=e.i())}function Se(){}we.prototype.h=null;var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ce(){D.call(this,"d")}function Ie(){D.call(this,"c")}h(Ce,D),h(Ie,D);var ke={},Ae=null;function Pe(){return Ae=Ae||new ce}function Re(e){D.call(this,ke.La,e)}function Ne(e){const t=Pe();ue(t,new Re(t))}function xe(e,t){D.call(this,ke.STAT_EVENT,e),this.stat=t}function De(e){const t=Pe();ue(t,new xe(t,e))}function Oe(e,t){D.call(this,ke.Ma,e),this.size=t}function Le(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Me(){this.g=!0}function Ue(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ve(n)}catch(G){return t}}(e,n)+(r?" "+r:"")}))}ke.La="serverreachability",h(Re,D),ke.STAT_EVENT="statevent",h(xe,D),ke.Ma="timingevent",h(Oe,D),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var Fe,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ze(){}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}h(ze,we),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Fe=new ze;var qe={},We={};function Ke(e,t,n){e.L=1,e.v=vt(ft(t)),e.m=n,e.P=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),Xe(e),e.A=ft(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new He,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new pe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ge[0]=i.toString()),i=ge);for(var o=0;o<i.length;o++){var s=Z(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Qe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?We:(n=Number(t.substring(n,r)),isNaN(n)?qe:(r+=1)+n>t.length?We:(t=t.slice(r,r+n),e.C=r+n,t))}function Xe(e){e.S=Date.now()+e.I,Je(e,e.I)}function Je(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Le(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ze(e){0==e.j.G||e.J||pn(e.j,e)}function et(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ye(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function tt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(B){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Le(c(n.Za,n),6e3));if(1>=ot(n.h)&&n.ca){try{n.ca()}catch(B){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(at(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,yt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),s.K){lt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&($e(a),Xe(a)),r.g=s}else cn(r);0<n.i.length&&on(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(B){}}Be.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Jt(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const d=Jt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||$t(this.g)))){this.J||4!=d||7==t||Ne(),$e(this);var n=this.g.Z();this.X=n;t:if(Qe(this)){var r=$t(this.g);e="";var o=r.length,s=4==Jt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){et(this),Ze(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,De(12),et(this),Ze(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ye(this,a),e==We){4==d&&(this.s=4,De(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==qe){this.s=4,De(15),Ue(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),tt(this,e)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),hn(h),h.M=!0,De(11))}}else Ue(this.i,this.l,a,"[Invalid Chunked Response]"),et(this),Ze(this)}else Ue(this.i,this.l,a,null),tt(this,a);4==d&&et(this),this.o&&!this.J&&(4==d?pn(this.j,this):(this.o=!1,Xe(this)))}else(function(e){const t={};e=(e.g&&2<=Jt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),et(this),Ze(this)}}}catch($){}},Be.prototype.cancel=function(){this.J=!0,et(this)},Be.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),De(17)),et(this),this.s=2,Ze(this)):Je(this,this.S-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ot(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function ut(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,pt(this,e.j),this.o=e.o,this.g=e.g,mt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),gt(this,n),this.m=e.m}else e&&(t=String(e).match(ht))?(this.h=!1,pt(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),mt(this,t[4]),this.l=_t(t[5]||"",!0),gt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function ft(e){return new dt(e)}function pt(e,t,n){e.j=n?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function gt(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(At(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pt(this,t),Nt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,Ct)),e.i=new kt(t,e.h))}function yt(e,t,n){e.i.set(t,n)}function vt(e){return yt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,Et,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,Et,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Tt:St,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,It)),e.join("")};var Et=/[#\/\?@]/g,St=/[#\?:]/g,Tt=/[#\?]/g,Ct=/[#\?@]/g,It=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function At(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pt(e,t){At(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rt(e,t){return At(e),t=xt(e,t),e.g.has(t)}function Nt(e,t,n){Pt(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(U){}}function Ot(){this.g=new be}function Lt(e,t,n){const r=n||"";try{ut(e,(function(e,n){let i=e;s(e)&&(i=ve(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){ce.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function zt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yt(e,t,n))}function Ht(e){ce.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){At(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){At(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){At(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){At(this);let t=[];if("string"===typeof e)Rt(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return At(this),this.i=null,Rt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(Mt,we),Mt.prototype.g=function(){return new Ut(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),h(Ut,ce),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Vt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ht,ce);var qt=/^https?$/i,Wt=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Yt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Jt(e)||2!=e.Z()))if(e.u&&4==Jt(e))de(e.Ea,0,e);else if(ue(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(ht)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!qt.test(s?s.toLowerCase():"")}n=o}if(n)ue(e,"complete"),ue(e,"success");else{e.m=6;try{var a=2<Jt(e)?e.g.statusText:""}catch(G){a=""}e.l=a+" ["+e.Z()+"]",Gt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){Xt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ue(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Xt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Jt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(K){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new rt(e&&e.concurrentRequestLimit),this.Da=new Ot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ft(e.I);if(yt(n,"SID",e.K),yt(n,"RID",t),yt(n,"TYPE","terminate"),an(e,n),(t=new Be(e,e.j,t)).L=2,t.v=vt(ft(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(H){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Xe(t)}yn(e)}function nn(e){e.g&&(hn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function on(e){if(!it(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||R(),A||(k(),A=!0),P.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=ft(e.I);yt(r,"SID",e.K),yt(r,"RID",n),yt(r,"AID",e.T),an(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Be(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),Ke(n,r,t)}function an(e,t){e.H&&v(e.H,(function(e,n){yt(t,n,e)})),e.l&&ut({},(function(e,n){yt(t,n,e)}))}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Lt(a,e,"req"+n+"_")}catch($){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||R(),A||(k(),A=!0),P.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Le(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function hn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function dn(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ft(e.qa);yt(t,"RID","rpc"),yt(t,"SID",e.K),yt(t,"AID",e.T),yt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&yt(t,"TO",e.ja),yt(t,"TYPE","xmlhttp"),an(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=vt(ft(t)),n.m=null,n.P=!0,Ge(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){fn(e),hn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,lt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ue(r=Pe(),new Oe(r,n)),on(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ot(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Le(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),vt(r),t?function(e,t){const n=new Me;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Me;const n=new AbortController,r=setTimeout((()=>{n.abort(),Dt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Dt(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),yn(e),rn(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof dt?ft(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new dt(null);r&&pt(s,r),t&&(s.g=t),o&&mt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&yt(r,n,t),yt(r,"VER",e.la),an(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ht(new Mt({eb:n})):new Ht(e.pa)).Ha(e.J),t}function bn(){}function wn(){}function En(e,t){ce.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cn(this)}function Sn(e){Ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tn(){Ie.call(this),this.status=1}function Cn(e){this.g=e}(e=Ht.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?Ee(this.o):Ee(Fe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(U){return void Kt(this,U)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Wt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xt(this),this.u=!0,this.g.send(e),this.u=!1}catch(U){Kt(this,U)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ue(this,"complete"),ue(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch(M){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(M){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_e(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),on(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Be(this,this.j,e);let o=this.o;if(this.S&&(o?(o=_(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),yt(n=ft(this.I),"RID",e),yt(n,"CVER",22),this.D&&yt(n,"X-HTTP-Session-Id",this.D),an(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(zt(o)))+"&"+t:this.m&&Bt(n,this.m,o)),at(this.h,i),this.Ua&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",t),yt(n,"SID","null"),i.T=!0,Ke(i,n,null)):Ke(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||it(this.h)||sn(this))},e.Fa=function(){if(this.u=null,dn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Le(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),nn(this),dn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),De(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},wn.prototype.g=function(e,t){return new En(e,t)},h(En,ce),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){tn(this.g)},En.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.G&&on(t)},En.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,En.aa.N.call(this)},h(Sn,Ce),h(Tn,Ie),h(Cn,bn),Cn.prototype.ua=function(){ue(this.g,"a")},Cn.prototype.ta=function(e){ue(this.g,new Sn(e))},Cn.prototype.sa=function(e){ue(this.g,new Tn)},Cn.prototype.ra=function(){ue(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Na=Da.createWebChannelTransport=function(){return new wn},Ra=Da.getStatEventTarget=function(){return Pe()},Pa=Da.Event=ke,Aa=Da.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,ka=Da.ErrorCode=je,Ve.COMPLETE="complete",Ia=Da.EventType=Ve,Se.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Ca=Da.WebChannel=Se,Ta=Da.FetchXmlHttpFactory=Mt,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Sa=Da.XhrIo=Ht}).apply("undefined"!==typeof xa?xa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Oa="@firebase/firestore";class La{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}La.UNAUTHENTICATED=new La(null),La.GOOGLE_CREDENTIALS=new La("google-credentials-uid"),La.FIRST_PARTY=new La("first-party-uid"),La.MOCK_USER=new La("mock-user");let Ma="10.12.3";const Ua=new Mn("@firebase/firestore");function Fa(){return Ua.logLevel}function ja(e){if(Ua.logLevel<=Nn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ba);Ua.debug("Firestore (".concat(Ma,"): ").concat(e),...i)}}function Va(e){if(Ua.logLevel<=Nn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ba);Ua.error("Firestore (".concat(Ma,"): ").concat(e),...i)}}function za(e){if(Ua.logLevel<=Nn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ba);Ua.warn("Firestore (".concat(Ma,"): ").concat(e),...i)}}function Ba(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ma,") INTERNAL ASSERTION FAILED: ")+e;throw Va(t),new Error(t)}function qa(e,t){e||Ha()}function Wa(e,t){return e}const Ka={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ga extends rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Qa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ya{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Xa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(La.UNAUTHENTICATED)))}shutdown(){}}class Ja{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $a{constructor(e){this.t=e,this.currentUser=La.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qa,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ja("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ja("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qa)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ja("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qa("string"==typeof t.accessToken),new Ya(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qa(null===e||"string"==typeof e),new La(e)}}class Za{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=La.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class el{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Za(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(La.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ja("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ja("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ja("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ja("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(qa("string"==typeof e.token),this.R=e.token,new tl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class il{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=rl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ol(e,t){return e<t?-1:e>t?1:0}function sl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class al{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ga(Ka.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ga(Ka.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ga(Ka.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ga(Ka.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return al.fromMillis(Date.now())}static fromDate(e){return al.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new al(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ol(this.nanoseconds,e.nanoseconds):ol(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ll{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ll(e)}static min(){return new ll(new al(0,0))}static max(){return new ll(new al(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ha(),void 0===n?n=e.length-t:n>e.length-t&&Ha(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ul extends cl{construct(e,t,n){return new ul(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ga(Ka.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ul(e)}static emptyPath(){return new ul([])}}const hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dl extends cl{construct(e,t,n){return new dl(e,t,n)}static isValidIdentifier(e){return hl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ga(Ka.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ga(Ka.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ga(Ka.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ga(Ka.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dl(t)}static emptyPath(){return new dl([])}}class fl{constructor(e){this.path=e}static fromPath(e){return new fl(ul.fromString(e))}static fromName(e){return new fl(ul.fromString(e).popFirst(5))}static empty(){return new fl(ul.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ul.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ul.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fl(new ul(e.slice()))}}class pl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}pl.UNKNOWN_ID=-1;function ml(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ll.fromTimestamp(1e9===r?new al(n+1,0):new al(n,r));return new yl(i,fl.empty(),t)}function gl(e){return new yl(e.readTime,e.key,-1)}class yl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yl(ll.min(),fl.empty(),-1)}static max(){return new yl(ll.max(),fl.empty(),-1)}}function vl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=fl.comparator(e.documentKey,t.documentKey),0!==n?n:ol(e.largestBatchId,t.largestBatchId))}const _l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(e){if(e.code!==Ka.FAILED_PRECONDITION||e.message!==_l)throw e;ja("LocalStore","Unexpectedly lost primary lease")}class El{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ha(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new El(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof El?t:El.resolve(t)}catch(e){return El.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):El.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):El.reject(t)}static resolve(e){return new El(((t,n)=>{t(e)}))}static reject(e){return new El(((t,n)=>{n(e)}))}static waitFor(e){return new El(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=El.resolve(!1);for(const n of e)t=t.next((e=>e?El.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new El(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new El(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Sl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(e){return"IndexedDbTransactionError"===e.name}class Cl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Il(e){return null==e}function kl(e){return 0===e&&1/e==-1/0}function Al(e){return"number"==typeof e&&Number.isInteger(e)&&!kl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Cl.oe=-1;const Pl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nl=Rl;function xl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ol(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ll{constructor(e,t){this.comparator=e,this.root=t||Ul.EMPTY}insert(e,t){return new Ll(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ul.BLACK,null,null))}remove(e){return new Ll(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ul.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ml(this.root,e,this.comparator,!0)}}class Ml{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ul{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ul.RED,this.left=null!=r?r:Ul.EMPTY,this.right=null!=i?i:Ul.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ul(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ul.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ul.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ul.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ul.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ha();if(this.right.isRed())throw Ha();const e=this.left.check();if(e!==this.right.check())throw Ha();return e+(this.isRed()?0:1)}}Ul.EMPTY=null,Ul.RED=!0,Ul.BLACK=!1,Ul.EMPTY=new class{constructor(){this.size=0}get key(){throw Ha()}get value(){throw Ha()}get color(){throw Ha()}get left(){throw Ha()}get right(){throw Ha()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ul(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fl{constructor(e){this.comparator=e,this.data=new Ll(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jl(this.data.getIterator())}getIteratorFrom(e){return new jl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fl(this.comparator);return t.data=e,t}}class jl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vl{constructor(e){this.fields=e,e.sort(dl.comparator)}static empty(){return new Vl([])}unionWith(e){let t=new Fl(dl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class zl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new zl("Invalid base64 string: "+e):e}}(e);return new Bl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ol(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bl.EMPTY_BYTE_STRING=new Bl("");const Hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(e){if(qa(!!e),"string"==typeof e){let t=0;const n=Hl.exec(e);if(qa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wl(e.seconds),nanos:Wl(e.nanos)}}function Wl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kl(e){return"string"==typeof e?Bl.fromBase64String(e):Bl.fromUint8Array(e)}function Gl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ql(e){const t=e.mapValue.fields.__previous_value__;return Gl(t)?Ql(t):t}function Yl(e){const t=ql(e.mapValue.fields.__local_write_time__.timestampValue);return new al(t.seconds,t.nanos)}class Xl{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Jl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gl(e)?4:dc(e)?9007199254740991:10:Ha()}function ec(e,t){if(e===t)return!0;const n=Zl(e);if(n!==Zl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yl(e).isEqual(Yl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ql(e.timestampValue),r=ql(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kl(e.bytesValue).isEqual(Kl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wl(e.geoPointValue.latitude)===Wl(t.geoPointValue.latitude)&&Wl(e.geoPointValue.longitude)===Wl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wl(e.integerValue)===Wl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wl(e.doubleValue),r=Wl(t.doubleValue);return n===r?kl(n)===kl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sl(e.arrayValue.values||[],t.arrayValue.values||[],ec);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xl(n)!==xl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ec(n[i],r[i])))return!1;return!0}(e,t);default:return Ha()}}function tc(e,t){return void 0!==(e.values||[]).find((e=>ec(e,t)))}function nc(e,t){if(e===t)return 0;const n=Zl(e),r=Zl(t);if(n!==r)return ol(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ol(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wl(e.integerValue||e.doubleValue),r=Wl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rc(e.timestampValue,t.timestampValue);case 4:return rc(Yl(e),Yl(t));case 5:return ol(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kl(e),r=Kl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ol(n[i],r[i]);if(0!==e)return e}return ol(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ol(Wl(e.latitude),Wl(t.latitude));return 0!==n?n:ol(Wl(e.longitude),Wl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=nc(n[i],r[i]);if(e)return e}return ol(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$l.mapValue&&t===$l.mapValue)return 0;if(e===$l.mapValue)return 1;if(t===$l.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ol(r[s],o[s]);if(0!==e)return e;const t=nc(n[r[s]],i[o[s]]);if(0!==t)return t}return ol(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ha()}}function rc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ol(e,t);const n=ql(e),r=ql(t),i=ol(n.seconds,r.seconds);return 0!==i?i:ol(n.nanos,r.nanos)}function ic(e){return oc(e)}function oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ql(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return fl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(oc(e.fields[i]));return n+"}"}(e.mapValue):Ha()}function sc(e){return!!e&&"integerValue"in e}function ac(e){return!!e&&"arrayValue"in e}function lc(e){return!!e&&"nullValue"in e}function cc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uc(e){return!!e&&"mapValue"in e}function hc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=hc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class fc{constructor(e){this.value=e}static empty(){return new fc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=dl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=hc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ec(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Dl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new fc(hc(this.value))}}function pc(e){const t=[];return Dl(e.fields,((e,n)=>{const r=new dl([e]);if(uc(n)){const e=pc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Vl(t)}class mc{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new mc(e,0,ll.min(),ll.min(),ll.min(),fc.empty(),0)}static newFoundDocument(e,t,n,r){return new mc(e,1,t,ll.min(),n,r,0)}static newNoDocument(e,t){return new mc(e,2,t,ll.min(),ll.min(),fc.empty(),0)}static newUnknownDocument(e,t){return new mc(e,3,t,ll.min(),ll.min(),fc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ll.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ll.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class gc{constructor(e,t){this.position=e,this.inclusive=t}}function yc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?fl.comparator(fl.fromName(s.referenceValue),n.key):nc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function vc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ec(e.position[n],t.position[n]))return!1;return!0}class _c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wc{}class Ec extends wc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Rc(e,t,n):"array-contains"===t?new Oc(e,n):"in"===t?new Lc(e,n):"not-in"===t?new Mc(e,n):"array-contains-any"===t?new Uc(e,n):new Ec(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Nc(e,n):new xc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nc(t,this.value)):null!==t&&Zl(this.value)===Zl(t)&&this.matchesComparison(nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ha()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sc extends wc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sc(e,t)}matches(e){return Tc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tc(e){return"and"===e.op}function Cc(e){return Ic(e)&&Tc(e)}function Ic(e){for(const t of e.filters)if(t instanceof Sc)return!1;return!0}function kc(e){if(e instanceof Ec)return e.field.canonicalString()+e.op.toString()+ic(e.value);if(Cc(e))return e.filters.map((e=>kc(e))).join(",");{const t=e.filters.map((e=>kc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ac(e,t){return e instanceof Ec?function(e,t){return t instanceof Ec&&e.op===t.op&&e.field.isEqual(t.field)&&ec(e.value,t.value)}(e,t):e instanceof Sc?function(e,t){return t instanceof Sc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ac(n,t.filters[r])),!0)}(e,t):void Ha()}function Pc(e){return e instanceof Ec?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ic(e.value))}(e):e instanceof Sc?function(e){return e.op.toString()+" {"+e.getFilters().map(Pc).join(" ,")+"}"}(e):"Filter"}class Rc extends Ec{constructor(e,t,n){super(e,t,n),this.key=fl.fromName(n.referenceValue)}matches(e){const t=fl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nc extends Ec{constructor(e,t){super(e,"in",t),this.keys=Dc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xc extends Ec{constructor(e,t){super(e,"not-in",t),this.keys=Dc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Dc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>fl.fromName(e.referenceValue)))}class Oc extends Ec{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ac(t)&&tc(t.arrayValue,this.value)}}class Lc extends Ec{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tc(this.value.arrayValue,t)}}class Mc extends Ec{constructor(e,t){super(e,"not-in",t)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tc(this.value.arrayValue,t)}}class Uc extends Ec{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ac(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>tc(this.value.arrayValue,e)))}}class Fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function jc(e){return new Fc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vc(e){const t=Wa(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Il(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ic(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ic(e))).join(",")),t.ue=e}return t.ue}function zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ac(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vc(e.startAt,t.startAt)&&vc(e.endAt,t.endAt)}function Bc(e){return fl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qc(e,t,n,r,i,o,s,a){return new Hc(e,t,n,r,i,o,s,a)}function Wc(e){return new Hc(e)}function Kc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Gc(e){return null!==e.collectionGroup}function Qc(e){const t=Wa(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fl(dl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new _c(r,n))})),e.has(dl.keyField().canonicalString())||t.ce.push(new _c(dl.keyField(),n))}return t.ce}function Yc(e){const t=Wa(e);return t.le||(t.le=Xc(t,Qc(e))),t.le}function Xc(e,t){if("F"===e.limitType)return jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new _c(e.field,t)}));const n=e.endAt?new gc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gc(e.startAt.position,e.startAt.inclusive):null;return jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Jc(e,t,n){return new Hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $c(e,t){return zc(Yc(e),Yc(t))&&e.limitType===t.limitType}function Zc(e){return"".concat(Vc(Yc(e)),"|lt:").concat(e.limitType)}function eu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Pc(e))).join(", "),"]")),Il(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ic(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ic(e))).join(",")),"Target(".concat(t,")")}(Yc(e)),"; limitType=").concat(e.limitType,")")}function tu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Qc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qc(e),t))&&!(e.endAt&&!function(e,t,n){const r=yc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qc(e),t))}(e,t)}function nu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ru(e){return(t,n)=>{let r=!1;for(const i of Qc(e)){const e=iu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function iu(e,t,n){const r=e.field.isKeyField()?fl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nc(r,i):Ha()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ha()}}class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Dl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ol(this.inner)}size(){return this.innerSize}}const su=new Ll(fl.comparator);function au(){return su}const lu=new Ll(fl.comparator);function cu(){let e=lu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function uu(e){let t=lu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hu(){return fu()}function du(){return fu()}function fu(){return new ou((e=>e.toString()),((e,t)=>e.isEqual(t)))}const pu=new Ll(fl.comparator),mu=new Fl(fl.comparator);function gu(){let e=mu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yu=new Fl(ol);function vu(){return yu}function _u(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kl(t)?"-0":t}}function bu(e){return{integerValue:""+e}}function wu(e,t){return Al(t)?bu(t):_u(e,t)}class Eu{constructor(){this._=void 0}}function Su(e,t,n){return e instanceof Iu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gl(t)&&(t=Ql(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ku?Au(e,t):e instanceof Pu?Ru(e,t):function(e,t){const n=Cu(e,t),r=xu(n)+xu(e.Pe);return sc(n)&&sc(e.Pe)?bu(r):_u(e.serializer,r)}(e,t)}function Tu(e,t,n){return e instanceof ku?Au(e,t):e instanceof Pu?Ru(e,t):n}function Cu(e,t){return e instanceof Nu?function(e){return sc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Iu extends Eu{}class ku extends Eu{constructor(e){super(),this.elements=e}}function Au(e,t){const n=Du(t);for(const r of e.elements)n.some((e=>ec(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Pu extends Eu{constructor(e){super(),this.elements=e}}function Ru(e,t){let n=Du(t);for(const r of e.elements)n=n.filter((e=>!ec(e,r)));return{arrayValue:{values:n}}}class Nu extends Eu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xu(e){return Wl(e.integerValue||e.doubleValue)}function Du(e){return ac(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ou{constructor(e,t){this.field=e,this.transform=t}}class Lu{constructor(e,t){this.version=e,this.transformResults=t}}class Mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mu}static exists(e){return new Mu(void 0,e)}static updateTime(e){return new Mu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fu{}function ju(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yu(e.key,Mu.none()):new qu(e.key,e.data,Mu.none());{const n=e.data,r=fc.empty();let i=new Fl(dl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wu(e.key,r,new Vl(i.toArray()),Mu.none())}}function Vu(e,t,n){e instanceof qu?function(e,t,n){const r=e.value.clone(),i=Gu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wu?function(e,t,n){if(!Uu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Gu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ku(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zu(e,t,n,r){return e instanceof qu?function(e,t,n,r){if(!Uu(e.precondition,t))return n;const i=e.value.clone(),o=Qu(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wu?function(e,t,n,r){if(!Uu(e.precondition,t))return n;const i=Qu(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ku(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Uu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Cu(r.transform,e||null);null!=i&&(null===n&&(n=fc.empty()),n.set(r.field,i))}return n||null}function Hu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ku&&t instanceof ku||e instanceof Pu&&t instanceof Pu?sl(e.elements,t.elements,ec):e instanceof Nu&&t instanceof Nu?ec(e.Pe,t.Pe):e instanceof Iu&&t instanceof Iu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qu extends Fu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wu extends Fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ku(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Gu(e,t,n){const r=new Map;qa(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Tu(s,a,n[i]))}return r}function Qu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Su(e,o,t))}return r}class Yu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ju{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=du();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=ju(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ll.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gu())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((e,t)=>Hu(e,t)))&&sl(this.baseMutations,e.baseMutations,((e,t)=>Hu(e,t)))}}class $u{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qa(e.mutations.length===n.length);let r=pu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new $u(e,t,n,r)}}class Zu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class eh{constructor(e,t){this.count=e,this.unchangedNames=t}}var th,nh;function rh(e){switch(e){default:return Ha();case Ka.CANCELLED:case Ka.UNKNOWN:case Ka.DEADLINE_EXCEEDED:case Ka.RESOURCE_EXHAUSTED:case Ka.INTERNAL:case Ka.UNAVAILABLE:case Ka.UNAUTHENTICATED:return!1;case Ka.INVALID_ARGUMENT:case Ka.NOT_FOUND:case Ka.ALREADY_EXISTS:case Ka.PERMISSION_DENIED:case Ka.FAILED_PRECONDITION:case Ka.ABORTED:case Ka.OUT_OF_RANGE:case Ka.UNIMPLEMENTED:case Ka.DATA_LOSS:return!0}}function ih(e){if(void 0===e)return Va("GRPC error has no .code"),Ka.UNKNOWN;switch(e){case th.OK:return Ka.OK;case th.CANCELLED:return Ka.CANCELLED;case th.UNKNOWN:return Ka.UNKNOWN;case th.DEADLINE_EXCEEDED:return Ka.DEADLINE_EXCEEDED;case th.RESOURCE_EXHAUSTED:return Ka.RESOURCE_EXHAUSTED;case th.INTERNAL:return Ka.INTERNAL;case th.UNAVAILABLE:return Ka.UNAVAILABLE;case th.UNAUTHENTICATED:return Ka.UNAUTHENTICATED;case th.INVALID_ARGUMENT:return Ka.INVALID_ARGUMENT;case th.NOT_FOUND:return Ka.NOT_FOUND;case th.ALREADY_EXISTS:return Ka.ALREADY_EXISTS;case th.PERMISSION_DENIED:return Ka.PERMISSION_DENIED;case th.FAILED_PRECONDITION:return Ka.FAILED_PRECONDITION;case th.ABORTED:return Ka.ABORTED;case th.OUT_OF_RANGE:return Ka.OUT_OF_RANGE;case th.UNIMPLEMENTED:return Ka.UNIMPLEMENTED;case th.DATA_LOSS:return Ka.DATA_LOSS;default:return Ha()}}(nh=th||(th={}))[nh.OK=0]="OK",nh[nh.CANCELLED=1]="CANCELLED",nh[nh.UNKNOWN=2]="UNKNOWN",nh[nh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nh[nh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nh[nh.NOT_FOUND=5]="NOT_FOUND",nh[nh.ALREADY_EXISTS=6]="ALREADY_EXISTS",nh[nh.PERMISSION_DENIED=7]="PERMISSION_DENIED",nh[nh.UNAUTHENTICATED=16]="UNAUTHENTICATED",nh[nh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nh[nh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nh[nh.ABORTED=10]="ABORTED",nh[nh.OUT_OF_RANGE=11]="OUT_OF_RANGE",nh[nh.UNIMPLEMENTED=12]="UNIMPLEMENTED",nh[nh.INTERNAL=13]="INTERNAL",nh[nh.UNAVAILABLE=14]="UNAVAILABLE",nh[nh.DATA_LOSS=15]="DATA_LOSS";let oh=null;function sh(){return new TextEncoder}const ah=new _a([4294967295,4294967295],0);function lh(e){const t=sh().encode(e),n=new ba;return n.update(t),new Uint8Array(n.digest())}function ch(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _a([n,r],0),new _a([i,o],0)]}class uh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new hh("Invalid padding: ".concat(t));if(n<0)throw new hh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new hh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new hh("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=_a.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(_a.fromNumber(n)));return 1===r.compare(ah)&&(r=new _a([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=lh(e),[n,r]=ch(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=lh(e),[n,r]=ch(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dh(ll.min(),r,new Ll(ol),au(),gu())}}class fh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fh(n,t,gu(),gu(),gu())}}class ph{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class mh{constructor(e,t){this.targetId=e,this.me=t}}class gh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class yh{constructor(){this.fe=0,this.ge=bh(),this.pe=Bl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=gu(),t=gu(),n=gu();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ha()}})),new fh(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=bh()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vh{constructor(e){this.Le=e,this.Be=new Map,this.ke=au(),this.qe=_h(),this.Qe=new Ll(ol)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ha()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Bc(i))if(0===n){const e=new fl(i.path);this.Ue(t,e,mc.newNoDocument(e,ll.min()))}else qa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==oh||oh.et(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Kl(n).toUint8Array()}catch(e){if(e instanceof zl)return za("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new uh(o,r,i)}catch(e){return za(e instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Bc(i.target)){const t=new fl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,mc.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=gu();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new dh(e,t,this.Qe,this.ke,n);return this.ke=au(),this.qe=_h(),this.Qe=new Ll(ol),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new yh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Fl(ol),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ja("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yh),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _h(){return new Ll(fl.comparator)}function bh(){return new Ll(fl.comparator)}const wh={asc:"ASCENDING",desc:"DESCENDING"},Eh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sh={and:"AND",or:"OR"};class Th{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ch(e,t){return e.useProto3Json||Il(t)?t:{value:t}}function Ih(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function kh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ah(e,t){return Ih(e,t.toTimestamp())}function Ph(e){return qa(!!e),ll.fromTimestamp(function(e){const t=ql(e);return new al(t.seconds,t.nanos)}(e))}function Rh(e,t){return Nh(e,t).canonicalString()}function Nh(e,t){const n=function(e){return new ul(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function xh(e){const t=ul.fromString(e);return qa($h(t)),t}function Dh(e,t){return Rh(e.databaseId,t.path)}function Oh(e,t){const n=xh(t);if(n.get(1)!==e.databaseId.projectId)throw new Ga(Ka.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ga(Ka.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fl(Fh(n))}function Lh(e,t){return Rh(e.databaseId,t)}function Mh(e){const t=xh(e);return 4===t.length?ul.emptyPath():Fh(t)}function Uh(e){return new ul(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fh(e){return qa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jh(e,t,n){return{name:Dh(e,t),fields:n.value.mapValue.fields}}function Vh(e,t){let n;if(t instanceof qu)n={update:jh(e,t.key,t.value)};else if(t instanceof Yu)n={delete:Dh(e,t.key)};else if(t instanceof Wu)n={update:jh(e,t.key,t.data),updateMask:Jh(t.fieldMask)};else{if(!(t instanceof Xu))return Ha();n={verify:Dh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ku)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ha()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ah(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ha()}(e,t.precondition)),n}function zh(e,t){return{documents:[Lh(e,t.path)]}}function Bh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lh(e,i);const o=function(e){if(0!==e.length)return Xh(Sc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qh(e.field),direction:Wh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ch(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Hh(e){let t=Mh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=qh(e);return t instanceof Sc&&Cc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new _c(Yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Il(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new gc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new gc(n,t)}(n.endAt)),qc(t,i,s,o,a,"F",l,c)}function qh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yh(e.unaryFilter.field);return Ec.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yh(e.unaryFilter.field);return Ec.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yh(e.unaryFilter.field);return Ec.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yh(e.unaryFilter.field);return Ec.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ha()}}(e):void 0!==e.fieldFilter?function(e){return Ec.create(Yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ha()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sc.create(e.compositeFilter.filters.map((e=>qh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ha()}}(e.compositeFilter.op))}(e):Ha()}function Wh(e){return wh[e]}function Kh(e){return Eh[e]}function Gh(e){return Sh[e]}function Qh(e){return{fieldPath:e.canonicalString()}}function Yh(e){return dl.fromServerFormat(e.fieldPath)}function Xh(e){return e instanceof Ec?function(e){if("=="===e.op){if(cc(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NAN"}};if(lc(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cc(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NAN"}};if(lc(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(e.field),op:Kh(e.op),value:e.value}}}(e):e instanceof Sc?function(e){const t=e.getFilters().map((e=>Xh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gh(e.op),filters:t}}}(e):Ha()}function Jh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $h(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ll.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ll.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Zh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ed{constructor(e){this.ct=e}}function td(e){const t=Hh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jc(t,t.limit,"L"):t}class nd{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Wl(e.integerValue));else if("doubleValue"in e){const n=Wl(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),kl(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=ql(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Kl(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?dc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ha()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),fl.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}nd.bt=new nd;class rd{constructor(){this._n=new id}addToCollectionParentIndex(e,t){return this._n.add(t),El.resolve()}getCollectionParents(e,t){return El.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return El.resolve()}deleteFieldIndex(e,t){return El.resolve()}deleteAllFieldIndexes(e){return El.resolve()}createTargetIndexes(e,t){return El.resolve()}getDocumentsMatchingTarget(e,t){return El.resolve(null)}getIndexType(e,t){return El.resolve(0)}getFieldIndexes(e,t){return El.resolve([])}getNextCollectionGroupToUpdate(e){return El.resolve(null)}getMinOffset(e,t){return El.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,t){return El.resolve(yl.min())}updateCollectionGroup(e,t,n){return El.resolve()}updateIndexEntries(e,t){return El.resolve()}}class id{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fl(ul.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fl(ul.comparator)).toArray()}}new Uint8Array(0);class od{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new od(e,od.DEFAULT_COLLECTION_PERCENTILE,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}od.DEFAULT_COLLECTION_PERCENTILE=10,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,od.DEFAULT=new od(41943040,od.DEFAULT_COLLECTION_PERCENTILE,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),od.DISABLED=new od(-1,0,0);class sd{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sd(0)}static Ln(){return new sd(-1)}}class ad{constructor(){this.changes=new ou((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?El.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&zu(n.mutation,e,Vl.empty(),al.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,gu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gu();const r=hu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=cu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=au();const o=fu(),s=fu();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Wu)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),zu(s.mutation,t,s.mutation.getFieldMask(),al.now())):o.set(t.key,Vl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ld(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=fu();let r=new Ll(((e,t)=>e-t)),i=gu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Vl.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||gu()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=du();l.forEach((e=>{if(!i.has(e)){const r=ju(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return El.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return fl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):El.resolve(hu());let s=-1,a=i;return o.next((t=>El.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?El.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,gu()))).next((e=>({batchId:s,changes:uu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fl(t)).next((e=>{let t=cu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=cu();return this.indexManager.getCollectionParents(e,i).next((s=>El.forEach(s,(s=>{const a=function(e,t){return new Hc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,mc.newInvalidDocument(r)))}));let n=cu();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&zu(o.mutation,r,Vl.empty(),al.now()),tu(t,r)&&(n=n.insert(e,r))})),n}))}}class ud{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return El.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ph(e.createTime)}}(t)),El.resolve()}getNamedQuery(e,t){return El.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:td(e.bundledQuery),readTime:Ph(e.readTime)}}(t)),El.resolve()}}class hd{constructor(){this.overlays=new Ll(fl.comparator),this.hr=new Map}getOverlay(e,t){return El.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hu();return El.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),El.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),El.resolve()}getOverlaysForCollection(e,t,n){const r=hu(),i=t.length+1,o=new fl(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return El.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ll(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=hu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return El.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zu(t,n));let i=this.hr.get(t);void 0===i&&(i=gu(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class dd{constructor(){this.Pr=new Fl(fd.Ir),this.Tr=new Fl(fd.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new fd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new fd(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new fl(new ul([])),n=new fd(t,e),r=new fd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new fl(new ul([])),n=new fd(t,e),r=new fd(t,e+1);let i=gu();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new fd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fd{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return fl.comparator(e.key,t.key)||ol(e.pr,t.pr)}static Er(e,t){return ol(e.pr,t.pr)||fl.comparator(e.key,t.key)}}class pd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Fl(fd.Ir)}checkEmpty(e){return El.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ju(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new fd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return El.resolve(o)}lookupMutationBatch(e,t){return El.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return El.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return El.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return El.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fd(t,0),r=new fd(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),El.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fl(ol);return t.forEach((e=>{const t=new fd(e,0),r=new fd(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),El.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;fl.isDocumentKey(i)||(i=i.child(""));const o=new fd(new fl(i),0);let s=new Fl(ol);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),El.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){qa(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return El.forEach(t.mutations,(r=>{const i=new fd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new fd(t,0),r=this.wr.firstAfterOrEqual(n);return El.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,El.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class md{constructor(e){this.vr=e,this.docs=new Ll(fl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return El.resolve(n?n.document.mutableCopy():mc.newInvalidDocument(t))}getEntries(e,t){let n=au();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mc.newInvalidDocument(e))})),El.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=au();const o=t.path,s=new fl(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||vl(gl(s),n)<=0||(r.has(s.key)||tu(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return El.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ha()}Fr(e,t){return El.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gd(this)}getSize(e){return El.resolve(this.size)}}class gd extends ad{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),El.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class yd{constructor(e){this.persistence=e,this.Mr=new ou((e=>Vc(e)),zc),this.lastRemoteSnapshotVersion=ll.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dd,this.targetCount=0,this.Lr=sd.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),El.resolve()}getLastRemoteSnapshotVersion(e){return El.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return El.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),El.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),El.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,El.resolve()}updateTargetData(e,t){return this.qn(t),El.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,El.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),El.waitFor(i).next((()=>r))}getTargetCount(e){return El.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return El.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),El.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),El.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),El.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return El.resolve(n)}containsKey(e,t){return El.resolve(this.Nr.containsKey(t))}}class vd{constructor(e,t){this.Br={},this.overlays={},this.kr=new Cl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yd(this),this.indexManager=new rd,this.remoteDocumentCache=function(e){return new md(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new ed(t),this.$r=new ud(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new pd(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ja("MemoryPersistence","Starting transaction:",e);const r=new _d(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return El.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class _d extends bl{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.zr=new dd,this.jr=null}static Hr(e){return new bd(e)}get Jr(){if(this.jr)return this.jr;throw Ha()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),El.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),El.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),El.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return El.forEach(this.Jr,(n=>{const r=fl.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ll.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return El.or([()=>El.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class wd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=gu(),r=gu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new wd(e,t.fromCache,n,r)}}class Ed{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=tn()?8:Sl(Jt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ed;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Fa()<=Nn.DEBUG&&ja("QueryEngine","SDK will not create cache indexes for query:",eu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),El.resolve()):(Fa()<=Nn.DEBUG&&ja("QueryEngine","Query:",eu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Fa()<=Nn.DEBUG&&ja("QueryEngine","The SDK decides to create cache indexes for query:",eu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yc(t))):El.resolve())}ji(e,t){if(Kc(t))return El.resolve(null);let n=Yc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Jc(t,null,"F"),n=Yc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=gu(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Jc(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Kc(t)||r.isEqual(ll.min())?El.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?El.resolve(null):(Fa()<=Nn.DEBUG&&ja("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eu(t)),this.es(e,o,t,ml(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Fl(ru(e));return t.forEach(((t,r)=>{tu(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Fa()<=Nn.DEBUG&&ja("QueryEngine","Using full collection scan to execute query:",eu(t)),this.zi.getDocumentsMatchingQuery(e,t,yl.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Td{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Ll(ol),this.rs=new ou((e=>Vc(e)),zc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Cd(e,t,n,r){return new Td(e,t,n,r)}async function Id(e,t){const n=Wa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=gu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function kd(e){const t=Wa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Ad(e,t,n){let r=gu(),i=gu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=au();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ll.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ja("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Pd(e,t){const n=Wa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Rd(e,t){const n=Wa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,El.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Zh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Nd(e,t,n){const r=Wa(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Tl(e))throw e;ja("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function xd(e,t,n){const r=Wa(e);let i=ll.min(),o=gu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Wa(e),i=r.rs.get(n);return void 0!==i?El.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Yc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:ll.min(),n?o:gu()))).next((e=>(Dd(r,nu(t),e),{documents:e,hs:o})))))}function Dd(e,t,n){let r=e.ss.get(t)||ll.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Od{constructor(){this.activeTargetIds=vu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ld{constructor(){this.no=new Od,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Od,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Md{io(e){}shutdown(){}}class Ud{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ja("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ja("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fd=null;function jd(){return null===Fd?Fd=268435456+Math.round(2147483648*Math.random()):Fd++,"0x"+Fd.toString(16)}const Vd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Bd="WebChannelConnection";class Hd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const o=jd(),s=this.vo(e,t.toUriEncodedString());ja("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,s,a,n).then((t=>(ja("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw za("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}xo(e,t,n,r,i,o){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=Vd[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=jd();return new Promise(((o,s)=>{const a=new Sa;a.setWithCredentials(!0),a.listenOnce(Ia.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ka.NO_ERROR:const t=a.getResponseJson();ja(Bd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case ka.TIMEOUT:ja(Bd,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Ga(Ka.DEADLINE_EXCEEDED,"Request time out"));break;case ka.HTTP_ERROR:const n=a.getStatus();if(ja(Bd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ka).indexOf(t)>=0?t:Ka.UNKNOWN}(t.status);s(new Ga(e,t.message))}else s(new Ga(Ka.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ga(Ka.UNAVAILABLE,"Connection failed."));break;default:Ha()}}finally{ja(Bd,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ja(Bd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=jd(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Na(),s=Ra(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ta({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ja(Bd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new zd({lo:t=>{d?ja(Bd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ja(Bd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ja(Bd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ca.EventType.OPEN,(()=>{d||(ja(Bd,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,Ca.EventType.CLOSE,(()=>{d||(d=!0,ja(Bd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,Ca.EventType.ERROR,(t=>{d||(d=!0,za(Bd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new Ga(Ka.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ca.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];qa(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ja(Bd,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=th[e];if(void 0!==t)return ih(t)}(t),i=s.message;void 0===n&&(n=Ka.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.po(new Ga(n,i)),u.close()}else ja(Bd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(s,Pa.STAT_EVENT,(t=>{t.stat===Aa.PROXY?ja(Bd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Aa.NOPROXY&&ja(Bd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function qd(){return"undefined"!=typeof document?document:null}function Wd(e){return new Th(e,!0)}class Kd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&ja("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Gd{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Kd(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===Ka.RESOURCE_EXHAUSTED?(Va(t.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===Ka.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new Ga(Ka.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return ja("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(ja("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qd extends Gd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ha()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(qa(void 0===t||"string"==typeof t),Bl.fromBase64String(t||"")):(qa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Bl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ka.UNKNOWN:ih(e.code);return new Ga(t,e.message||"")}(s);n=new gh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oh(e,r.document.name),o=Ph(r.document.updateTime),s=r.document.createTime?Ph(r.document.createTime):ll.min(),a=new fc({mapValue:{fields:r.document.fields}}),l=mc.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ph(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Oh(e,r.document),o=r.readTime?Ph(r.readTime):ll.min(),s=mc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ph([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Oh(e,r.document),o=r.removedTargetIds||[];n=new ph([],o,i,null)}else{if(!("filter"in t))return Ha();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new eh(r,i),s=e.targetId;n=new mh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ll.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ll.min():t.readTime?Ph(t.readTime):ll.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=Uh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bc(r)?{documents:zh(e,r)}:{query:Bh(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kh(e,t.resumeToken);const r=Ch(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ll.min())>0){n.readTime=Ih(e,t.snapshotVersion.toTimestamp());const r=Ch(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ha()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=Uh(this.serializer),t.removeTarget=e,this.i_(t)}}class Yd extends Gd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(qa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(qa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ph(e.updateTime):Ph(t);return n.isEqual(ll.min())&&(n=Ph(t)),new Lu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ph(e.commitTime);return this.listener.A_(n,t)}return qa(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Uh(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Vh(this.serializer,e)))};this.i_(t)}}class Xd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Ga(Ka.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,Nh(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ka.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ga(Ka.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.xo(e,Nh(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ka.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ga(Ka.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Jd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Va(t),this.y_=!1):ja("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class $d{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{lf(this)&&(ja("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Wa(e);t.M_.add(4),await ef(t),t.N_.set("Unknown"),t.M_.delete(4),await Zd(t)}(this))}))})),this.N_=new Jd(n,r)}}async function Zd(e){if(lf(e))for(const t of e.x_)await t(!0)}async function ef(e){for(const t of e.x_)await t(!1)}function tf(e,t){const n=Wa(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),af(n)?sf(n):kf(n).Xo()&&rf(n,t))}function nf(e,t){const n=Wa(e),r=kf(n);n.F_.delete(t),r.Xo()&&of(n,t),0===n.F_.size&&(r.Xo()?r.n_():lf(n)&&n.N_.set("Unknown"))}function rf(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ll.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kf(e).P_(t)}function of(e,t){e.L_.xe(t),kf(e).I_(t)}function sf(e){e.L_=new vh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),kf(e).start(),e.N_.w_()}function af(e){return lf(e)&&!kf(e).Zo()&&e.F_.size>0}function lf(e){return 0===Wa(e).M_.size}function cf(e){e.L_=void 0}async function uf(e){e.N_.set("Online")}async function hf(e){e.F_.forEach(((t,n)=>{rf(e,t)}))}async function df(e,t){cf(e),af(e)?(e.N_.D_(t),sf(e)):e.N_.set("Unknown")}async function ff(e,t,n){if(e.N_.set("Online"),t instanceof gh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){ja("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pf(e,n)}else if(t instanceof ph?e.L_.Ke(t):t instanceof mh?e.L_.He(t):e.L_.We(t),!n.isEqual(ll.min()))try{const t=await kd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Bl.EMPTY_BYTE_STRING,r.snapshotVersion)),of(e,t);const i=new Zh(r.target,t,n,r.sequenceNumber);rf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ja("RemoteStore","Failed to raise snapshot:",t),await pf(e,t)}}async function pf(e,t,n){if(!Tl(t))throw t;e.M_.add(1),await ef(e),e.N_.set("Offline"),n||(n=()=>kd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ja("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Zd(e)}))}function mf(e,t){return t().catch((n=>pf(e,n,t)))}async function gf(e){const t=Wa(e),n=Af(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;yf(t);)try{const e=await Pd(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,vf(t,e)}catch(e){await pf(t,e)}_f(t)&&bf(t)}function yf(e){return lf(e)&&e.v_.length<10}function vf(e,t){e.v_.push(t);const n=Af(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function _f(e){return lf(e)&&!Af(e).Zo()&&e.v_.length>0}function bf(e){Af(e).start()}async function wf(e){Af(e).V_()}async function Ef(e){const t=Af(e);for(const n of e.v_)t.d_(n.mutations)}async function Sf(e,t,n){const r=e.v_.shift(),i=$u.from(r,t,n);await mf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await gf(e)}async function Tf(e,t){t&&Af(e).E_&&await async function(e,t){if(function(e){return rh(e)&&e!==Ka.ABORTED}(t.code)){const n=e.v_.shift();Af(e).t_(),await mf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await gf(e)}}(e,t),_f(e)&&bf(e)}async function Cf(e,t){const n=Wa(e);n.asyncQueue.verifyOperationInProgress(),ja("RemoteStore","RemoteStore received new credentials");const r=lf(n);n.M_.add(3),await ef(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Zd(n)}async function If(e,t){const n=Wa(e);t?(n.M_.delete(2),await Zd(n)):t||(n.M_.add(2),await ef(n),n.N_.set("Unknown"))}function kf(e){return e.B_||(e.B_=function(e,t,n){const r=Wa(e);return r.f_(),new Qd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:uf.bind(null,e),To:hf.bind(null,e),Ao:df.bind(null,e),h_:ff.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),af(e)?sf(e):e.N_.set("Unknown")):(await e.B_.stop(),cf(e))}))),e.B_}function Af(e){return e.k_||(e.k_=function(e,t,n){const r=Wa(e);return r.f_(),new Yd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:wf.bind(null,e),Ao:Tf.bind(null,e),R_:Ef.bind(null,e),A_:Sf.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await gf(e)):(await e.k_.stop(),e.v_.length>0&&(ja("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class Pf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Pf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ga(Ka.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rf(e,t){if(Va("AsyncQueue","".concat(t,": ").concat(e)),Tl(e))return new Ga(Ka.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Nf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||fl.comparator(t.key,n.key):(e,t)=>fl.comparator(e.key,t.key),this.keyedMap=cu(),this.sortedSet=new Ll(this.comparator)}static emptySet(e){return new Nf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xf{constructor(){this.q_=new Ll(fl.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ha():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Df{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Df(e,t,Nf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Of{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class Lf{constructor(){this.queries=new ou((e=>Zc(e)),$c),this.onlineState="Unknown",this.z_=new Set}}async function Mf(e,t){const n=Wa(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new Of,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Rf(e,"Initialization of query '".concat(eu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&Vf(n)}async function Uf(e,t){const n=Wa(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ff(e,t){const n=Wa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&Vf(n)}function jf(e,t,n){const r=Wa(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function Vf(e){e.z_.forEach((e=>{e.next()}))}var zf,Bf;(Bf=zf||(zf={})).J_="default",Bf.Cache="cache";class Hf{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Df(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==zf.Cache}}class qf{constructor(e){this.key=e}}class Wf{constructor(e){this.key=e}}class Kf{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=gu(),this.mutatedKeys=gu(),this.Ia=ru(e),this.Ta=new Nf(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new xf,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=tu(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Xi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ha()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new Df(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new xf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=gu(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new Wf(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new qf(n))})),t}pa(e){this.la=e.hs,this.Pa=gu();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Df.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Gf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Qf{constructor(e){this.key=e,this.wa=!1}}class Yf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ou((e=>Zc(e)),$c),this.Da=new Map,this.Ca=new Set,this.va=new Ll(fl.comparator),this.Fa=new Map,this.Ma=new dd,this.xa={},this.Oa=new Map,this.Na=sd.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Xf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yp(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await $f(r,t,n,!0),i}async function Jf(e,t){const n=yp(e);await $f(n,t,!0,!1)}async function $f(e,t,n,r){const i=await Rd(e.localStore,Yc(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Zf(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&tf(e.remoteStore,i),a}async function Zf(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await xd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return hp(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await xd(e.localStore,t,!0),s=new Kf(t,o.hs),a=s.da(o.documents),l=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);hp(e,n,c.fa);const u=new Gf(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function ep(e,t,n){const r=Wa(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!$c(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nf(r.remoteStore,i.targetId),cp(r,i.targetId)})).catch(wl)):(cp(r,i.targetId),await Nd(r.localStore,i.targetId,!0))}async function tp(e,t){const n=Wa(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nf(n.remoteStore,r.targetId))}async function np(e,t){const n=Wa(e);try{const e=await function(e,t){const n=Wa(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Bl.EMPTY_BYTE_STRING,ll.min()).withLastLimboFreeSnapshotVersion(ll.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=au(),l=gu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ad(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(ll.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return El.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(qa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?qa(r.wa):e.removedDocuments.size>0&&(qa(r.wa),r.wa=!1))})),await pp(n,e,t)}catch(e){await wl(e)}}function rp(e,t,n){const r=Wa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Wa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&Vf(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ip(e,t,n){const r=Wa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new Ll(fl.comparator);e=e.insert(o,mc.newNoDocument(o,ll.min()));const n=gu().add(o),i=new dh(ll.min(),new Map,new Ll(ol),e,n);await np(r,i),r.va=r.va.remove(o),r.Fa.delete(t),fp(r)}else await Nd(r.localStore,t,!1).then((()=>cp(r,t,n))).catch(wl)}async function op(e,t){const n=Wa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=El.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);qa(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);lp(n,r,null),ap(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pp(n,e)}catch(e){await wl(e)}}async function sp(e,t,n){const r=Wa(e);try{const e=await function(e,t){const n=Wa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(qa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);lp(r,t,n),ap(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pp(r,e)}catch(n){await wl(n)}}function ap(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function lp(e,t,n){const r=Wa(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||up(e,t)}))}function up(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(nf(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),fp(e))}function hp(e,t,n){for(const r of n)r instanceof qf?(e.Ma.addReference(r.key,t),dp(e,r)):r instanceof Wf?(ja("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||up(e,r.key)):Ha()}function dp(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(ja("SyncEngine","New document in limbo: "+n),e.Ca.add(r),fp(e))}function fp(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new fl(ul.fromString(t)),r=e.Na.next();e.Fa.set(r,new Qf(n)),e.va=e.va.insert(n,r),tf(e.remoteStore,new Zh(Yc(Wc(n.path)),r,"TargetPurposeLimboResolution",Cl.oe))}}async function pp(e,t,n){const r=Wa(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=wd.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.h_(i),await async function(e,t){const n=Wa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>El.forEach(t,(t=>El.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>El.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Tl(e))throw e;ja("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function mp(e,t){const n=Wa(e);if(!n.currentUser.isEqual(t)){ja("SyncEngine","User change. New user:",t.toKey());const e=await Id(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Ga(Ka.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await pp(n,e.us)}}function gp(e,t){const n=Wa(e),r=n.Fa.get(t);if(r&&r.wa)return gu().add(r.key);{let e=gu();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function yp(e){const t=Wa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=np.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ip.bind(null,t),t.Sa.h_=Ff.bind(null,t.eventManager),t.Sa.ka=jf.bind(null,t.eventManager),t}function vp(e){const t=Wa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=op.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sp.bind(null,t),t}class _p{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Cd(this.persistence,new Sd,e.initialUser,this.serializer)}createPersistence(e){return new vd(bd.Hr,this.serializer)}createSharedClientState(e){return new Ld}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>rp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mp.bind(null,this.syncEngine),await If(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lf}createDatastore(e){const t=Wd(e.databaseInfo.databaseId),n=function(e){return new Hd(e)}(e.databaseInfo);return function(e,t,n,r){return new Xd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new $d(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>rp(this.syncEngine,e,0)),Ud.D()?new Ud:new Md)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Yf(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Wa(e);ja("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await ef(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Ep{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=La.UNAUTHENTICATED,this.clientId=il.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ja("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ja("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ga(Ka.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Rf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sp(e,t){e.asyncQueue.verifyOperationInProgress(),ja("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Tp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ip(e);ja("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Cf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Cf(t.remoteStore,n))),e._onlineComponents=t}function Cp(e){return"FirebaseError"===e.name?e.code===Ka.FAILED_PRECONDITION||e.code===Ka.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ip(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ja("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Cp(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Sp(e,new _p)}}else ja("FirestoreClient","Using default OfflineComponentProvider"),await Sp(e,new _p);return e._offlineComponents}async function kp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ja("FirestoreClient","Using user provided OnlineComponentProvider"),await Tp(e,e._uninitializedComponentsProvider._online)):(ja("FirestoreClient","Using default OnlineComponentProvider"),await Tp(e,new bp))),e._onlineComponents}function Ap(e){return kp(e).then((e=>e.syncEngine))}async function Pp(e){const t=await kp(e),n=t.eventManager;return n.onListen=Xf.bind(null,t.syncEngine),n.onUnlisten=ep.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tp.bind(null,t.syncEngine),n}function Rp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new wp({next:o=>{t.enqueueAndForget((()=>Uf(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ga(Ka.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ga(Ka.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Hf(Wc(n.path),o,{includeMetadataChanges:!0,ra:!0});return Mf(e,s)}(await Pp(e),e.asyncQueue,t,n,r))),r.promise}function Np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new wp({next:n=>{t.enqueueAndForget((()=>Uf(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ga(Ka.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Hf(n,o,{includeMetadataChanges:!0,ra:!0});return Mf(e,s)}(await Pp(e),e.asyncQueue,t,n,r))),r.promise}function xp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Dp=new Map;function Op(e,t,n){if(!n)throw new Ga(Ka.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Lp(e){if(!fl.isDocumentKey(e))throw new Ga(Ka.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mp(e){if(fl.isDocumentKey(e))throw new Ga(Ka.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Up(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ha()}function Fp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ga(Ka.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(e);throw new Ga(Ka.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class jp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ga(Ka.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ga(Ka.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ga(Ka.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ga(Ka.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ga(Ka.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ga(Ka.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ga(Ka.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ga(Ka.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xa;switch(e.type){case"firstParty":return new el(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ga(Ka.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dp.get(e);t&&(ja("ComponentProvider","Removing Datastore"),Dp.delete(e),t.terminate())}(this),Promise.resolve()}}class zp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zp(this.firestore,e,this._query)}}class Bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bp(this.firestore,e,this._key)}}class Hp extends zp{constructor(e,t,n){super(e,t,Wc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bp(this.firestore,null,new fl(e))}withConverter(e){return new Hp(this.firestore,e,this._path)}}function qp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tn(e),Op("collection","path",t),e instanceof Vp){const n=ul.fromString(t,...r);return Mp(n),new Hp(e,null,n)}{if(!(e instanceof Bp||e instanceof Hp))throw new Ga(Ka.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ul.fromString(t,...r));return Mp(n),new Hp(e.firestore,null,n)}}function Wp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tn(e),1===arguments.length&&(t=il.newId()),Op("doc","path",t),e instanceof Vp){const n=ul.fromString(t,...r);return Lp(n),new Bp(e,null,new fl(n))}{if(!(e instanceof Bp||e instanceof Hp))throw new Ga(Ka.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ul.fromString(t,...r));return Lp(n),new Bp(e.firestore,e instanceof Hp?e.converter:null,new fl(n))}}class Kp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Kd(this,"async_queue_retry"),this.hu=()=>{const e=qd();e&&ja("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=qd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=qd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Qa;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Tl(e))throw e;ja("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Va("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=Pf.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Ha()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class Gp extends Vp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Kp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yp(this),this._firestoreClient.terminate()}}function Qp(e){return e._firestoreClient||Yp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yp(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Xl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ep(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Xp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xp(Bl.fromBase64String(e))}catch(e){throw new Ga(Ka.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Xp(Bl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ga(Ka.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._methodName=e}}class Zp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ga(Ka.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ga(Ka.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ol(this._lat,e._lat)||ol(this._long,e._long)}}const em=/^__.*__$/;class tm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class nm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ha()}}class im{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return bm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(rm(this.fu)&&em.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class om{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wd(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new im({fu:e,methodName:t,vu:n,path:dl.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(e){const t=e._freezeSettings(),n=Wd(e._databaseId);return new om(e._databaseId,!!t.ignoreUndefinedProperties,n)}function am(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);gm("Data must be an object, but it was:",s,r);const a=pm(r,s);let l,c;if(o.merge)l=new Vl(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ym(t,r,n);if(!s.contains(i))throw new Ga(Ka.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));wm(e,i)||e.push(i)}l=new Vl(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new tm(new fc(a),l,c)}class lm extends $p{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function cm(e,t,n){return new im({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class um extends $p{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=cm(this,e,!0),n=this.Mu.map((e=>fm(e,t))),r=new ku(n);return new Ou(e.path,r)}isEqual(e){return e instanceof um&&pn(this.Mu,e.Mu)}}function hm(e,t,n,r){const i=e.Fu(1,t,n);gm("Data must be an object, but it was:",i,r);const o=[],s=fc.empty();Dl(r,((e,r)=>{const a=_m(t,e,n);r=Tn(r);const l=i.Su(a);if(r instanceof lm)o.push(a);else{const e=fm(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Vl(o);return new nm(s,a,i.fieldTransforms)}function dm(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[ym(t,r,n)],l=[i];if(o.length%2!=0)throw new Ga(Ka.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(ym(t,o[d])),l.push(o[d+1]);const c=[],u=fc.empty();for(let d=a.length-1;d>=0;--d)if(!wm(c,a[d])){const e=a[d];let t=l[d];t=Tn(t);const n=s.Su(e);if(t instanceof lm)c.push(e);else{const r=fm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Vl(c);return new nm(u,h,s.fieldTransforms)}function fm(e,t){if(mm(e=Tn(e)))return gm("Unsupported field value:",t,e),pm(e,t);if(e instanceof $p)return function(e,t){if(!rm(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=fm(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=al.fromDate(e);return{timestampValue:Ih(t.serializer,n)}}if(e instanceof al){const n=new al(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ih(t.serializer,n)}}if(e instanceof Zp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xp)return{bytesValue:kh(t.serializer,e._byteString)};if(e instanceof Bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Rh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(Up(e)))}(e,t)}function pm(e,t){const n={};return Ol(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dl(e,((e,r)=>{const i=fm(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof al||e instanceof Zp||e instanceof Xp||e instanceof Bp||e instanceof $p)}function gm(e,t,n){if(!mm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Up(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function ym(e,t,n){if((t=Tn(t))instanceof Jp)return t._internalPath;if("string"==typeof t)return _m(e,t);throw bm("Field path arguments must be of type string or ",e,!1,void 0,n)}const vm=new RegExp("[~\\*/\\[\\]]");function _m(e,t,n){if(t.search(vm)>=0)throw bm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Jp(...t.split("."))._internalPath}catch(N){throw bm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bm(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Ga(Ka.INVALID_ARGUMENT,a+e+l)}function wm(e,t){return e.some((e=>e.isEqual(t)))}class Em{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sm extends Em{data(){return super.data()}}function Tm(e,t){return"string"==typeof t?_m(e,t):t instanceof Jp?t._internalPath:t._delegate._internalPath}function Cm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ga(Ka.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ha()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Dl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Zp(Wl(e.latitude),Wl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ql(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=ql(e);return new al(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ul.fromString(e);qa($h(n));const r=new Jl(n.get(1),n.get(3)),i=new fl(n.popFirst(5));return r.isEqual(t)||Va("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function km(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Am{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pm extends Em{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Tm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rm extends Pm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Nm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Am(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rm(this._firestore,this._userDataWriter,n.key,n,new Am(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ga(Ka.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Rm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Am(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Rm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Am(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:xm(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ha()}}function Dm(e){e=Fp(e,Bp);const t=Fp(e.firestore,Gp);return Rp(Qp(t),e._key).then((n=>Fm(t,e,n)))}class Om extends Im{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bp(this.firestore,null,t)}}function Lm(e,t,n){e=Fp(e,Bp);const r=Fp(e.firestore,Gp),i=km(e.converter,t,n);return Um(r,[am(sm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mu.none())])}function Mm(e,t,n){e=Fp(e,Bp);const r=Fp(e.firestore,Gp),i=sm(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Tn(t))||t instanceof Jp?dm(i,"updateDoc",e._key,t,n,a):hm(i,"updateDoc",e._key,t),Um(r,[o.toMutation(e._key,Mu.exists(!0))])}function Um(e,t){return function(e,t){const n=new Qa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vp(e);try{const e=await function(e,t){const n=Wa(e),r=al.now(),i=t.reduce(((e,t)=>e.add(t.key)),gu());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=au(),l=gu();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Bu(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Wu(e.key,t,pc(t.value.mapValue),Mu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:uu(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new Ll(ol)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await pp(r,e.changes),await gf(r.remoteStore)}catch(e){const t=Rf(e,"Failed to persist write");n.reject(t)}}(await Ap(e),t,n))),n.promise}(Qp(e),t)}function Fm(e,t,n){const r=n.docs.get(t._key),i=new Om(e);return new Pm(e,i,t._key,r,new Am(n.hasPendingWrites,n.fromCache),t.converter)}function jm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new um("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ma=e}(Vr),Lr(new Cn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Gp(new $a(e.getProvider("auth-internal")),new nl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ga(Ka.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Hr(Oa,"4.6.4",e),Hr(Oa,"4.6.4","esm2017")}();const Vm="firebasestorage.googleapis.com",zm="storageBucket";class Bm extends rn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Wm(e),"Firebase Storage: ".concat(t," (").concat(Wm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Hm,qm;function Wm(e){return"storage/"+e}function Km(){return new Bm(Hm.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Gm(){return new Bm(Hm.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qm(){return new Bm(Hm.CANCELED,"User canceled the upload/download.")}function Ym(){return new Bm(Hm.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xm(e){return new Bm(Hm.INVALID_ARGUMENT,e)}function Jm(){return new Bm(Hm.APP_DELETED,"The Firebase app was deleted.")}function $m(e,t){return new Bm(Hm.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Zm(e){throw new Bm(Hm.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Hm||(Hm={}));class eg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=eg.makeFromUrl(e,t)}catch(i){return new eg(e,"")}if(""===n.path)return n;throw r=e,new Bm(Hm.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Vm?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new eg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Bm(Hm.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class tg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ng(e){return"string"===typeof e||e instanceof String}function rg(e){return ig()&&e instanceof Blob}function ig(){return"undefined"!==typeof Blob}function og(e,t,n,r){if(r<t)throw Xm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Xm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function sg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ag(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function lg(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(qm||(qm={}));class cg{constructor(e,t,n,r,i,o,s,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new ug(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===qm.NO_ERROR,i=n.getStatus();if(!t||lg(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===qm.ABORT;return void e(!1,new ug(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new ug(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=Km();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Jm():Qm())}else{r(Gm())}};this.canceled_?t(0,new ug(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ug{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function hg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dg(){const e=hg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ig())return new Blob(n);throw new Bm(Hm.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function fg(e){if("undefined"===typeof atob)throw t="base-64",new Bm(Hm.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const pg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mg{constructor(e,t){this.data=e,this.contentType=t||null}}function gg(e,t){switch(e){case pg.RAW:return new mg(yg(t));case pg.BASE64:case pg.BASE64URL:return new mg(vg(e,t));case pg.DATA_URL:return new mg(function(e){const t=new _g(e);return t.base64?vg(pg.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw $m(pg.DATA_URL,"Malformed data URL.")}return yg(t)}(t.rest)}(t),new _g(t).contentType)}throw Km()}function yg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vg(e,t){switch(e){case pg.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw $m(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case pg.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw $m(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=fg(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw $m(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class _g{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw $m(pg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class bg{constructor(e,t){let n=0,r="";rg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(rg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new bg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new bg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ig()){const e=t.map((e=>e instanceof bg?e.data_:e));return new bg(dg.apply(null,e))}{const e=t.map((e=>ng(e)?gg(pg.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new bg(r,!0)}}uploadData(){return this.data_}}function wg(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Eg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Sg(e,t){return t}class Tg{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Sg}}let Cg=null;function Ig(){if(Cg)return Cg;const e=[];e.push(new Tg("bucket")),e.push(new Tg("generation")),e.push(new Tg("metageneration")),e.push(new Tg("name","fullPath",!0));const t=new Tg("name");t.xform=function(e,t){return function(e){return!ng(e)||e.length<2?e:Eg(e)}(t)},e.push(t);const n=new Tg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Tg("timeCreated")),e.push(new Tg("updated")),e.push(new Tg("md5Hash",null,!0)),e.push(new Tg("cacheControl",null,!0)),e.push(new Tg("contentDisposition",null,!0)),e.push(new Tg("contentEncoding",null,!0)),e.push(new Tg("contentLanguage",null,!0)),e.push(new Tg("contentType",null,!0)),e.push(new Tg("metadata","customMetadata",!0)),Cg=e,Cg}function kg(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new eg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ag(e,t,n){const r=wg(t);if(null===r)return null;return kg(e,r,n)}function Pg(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Rg{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ng(e){if(!e)throw Km()}function xg(e,t){return function(n,r){const i=Ag(e,r,t);return Ng(null!==i),i}}function Dg(e,t){return function(n,r){const i=Ag(e,r,t);return Ng(null!==i),function(e,t,n,r){const i=wg(t);if(null===i)return null;if(!ng(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return sg("/b/"+s(i)+"/o/"+s(o),n,r)+ag({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function Og(e){return function(t,n){let r;var i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Bm(Hm.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Bm(Hm.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Bm(Hm.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===t.getStatus()?function(e){return new Bm(Hm.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Lg(e){const t=Og(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=function(e){return new Bm(Hm.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),i.serverResponse=r.serverResponse,i}}function Mg(e,t,n){const r=sg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Rg(r,"GET",xg(e,n),i);return o.errorHandler=Lg(t),o}function Ug(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Fg(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Ug(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pg(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=bg.getBlob(c,r,u);if(null===h)throw Ym();const d={name:l.fullPath},f=sg(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Rg(f,"POST",xg(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=Og(t),m}class jg{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Vg(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ng(!1)}return Ng(!!n&&-1!==(t||["active"]).indexOf(n)),n}const zg=262144;function Bg(e,t,n,r,i,o,s,a){const l=new jg(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Bm(Hm.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw Ym();const g=t.maxUploadRetryTime,y=new Rg(n,"POST",(function(e,n){const i=Vg(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?xg(t,o)(e,n):null,new jg(s,a,"final"===i,c)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Og(e),y}const Hg="running",qg="paused",Wg="success",Kg="canceled",Gg="error";function Qg(e){switch(e){case"running":case"pausing":case"canceling":return Hg;case"paused":return qg;case"success":return Wg;case"canceled":return Kg;default:return Gg}}class Yg{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Xg(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let Jg=null;class $g{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=qm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=qm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Zm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Zm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Zg extends $g{initXhr(){this.xhr_.responseType="text"}}function ey(){return Jg?Jg():new Zg}class ty{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Ig(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Hm.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(lg(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Gm()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Hm.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=Ug(t,r,i),a={name:s.fullPath},l=sg(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Pg(s,n),h=e.maxUploadRetryTime,d=new Rg(l,"POST",(function(e){let t;Vg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ng(!1)}return Ng(ng(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=Og(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ey,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new Rg(n,"POST",(function(e){const t=Vg(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ng(!1)}n||Ng(!1);const i=Number(n);return Ng(!isNaN(i)),new jg(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Og(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ey,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=zg*this._chunkMultiplier,t=new jg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=Bg(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,ey,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(zg*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Mg(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ey,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Fg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ey,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Qm(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Qg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Yg(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Qg(this._state)){case Wg:Xg(this._resolve.bind(null,this.snapshot))();break;case Kg:case Gg:Xg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qg(this._state)){case Hg:case qg:e.next&&Xg(e.next.bind(e,this.snapshot))();break;case Wg:e.complete&&Xg(e.complete.bind(e))();break;default:e.error&&Xg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ny{constructor(e,t){this._service=e,this._location=t instanceof eg?t:eg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ny(e,t)}get root(){const e=new eg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Eg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new eg(this._location.bucket,e);return new ny(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Bm(Hm.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ry(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=sg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Rg(r,"GET",Dg(e,n),i);return o.errorHandler=Lg(t),o}(e.storage,e._location,Ig());return e.storage.makeRequestWithTokens(t,ey).then((e=>{if(null===e)throw new Bm(Hm.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function iy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new eg(e._location.bucket,n);return new ny(e.storage,r)}function oy(e,t){if(e instanceof ly){const n=e;if(null==n._bucket)throw new Bm(Hm.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zm+"' property when initializing the app?");const r=new ny(n,n._bucket);return null!=t?oy(r,t):r}return void 0!==t?iy(e,t):e}function sy(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof ly)return new ny(e,t);throw Xm("To use ref(service, url), the first argument must be a Storage instance.")}return oy(e,t)}function ay(e,t){const n=null===t||void 0===t?void 0:t[zm];return null==n?null:eg.makeFromBucketSpec(n,e)}class ly{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Vm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?eg.makeFromBucketSpec(r,this._host):ay(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=eg.makeFromBucketSpec(this._url,e):this._bucket=ay(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){og("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){og("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ny(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new tg(Jm());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ag(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new cg(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cy="@firebase/storage",uy="0.12.6",hy="storage";function dy(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ty(e,new bg(t),n)}(e=Tn(e),t,n)}function fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br(),t=arguments.length>1?arguments[1]:void 0;e=Tn(e);const n=Mr(e,hy).getImmediate({identifier:t}),r=Kt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Xt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function py(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ly(r,i,o,n,Vr)}Lr(new Cn(hy,py,"PUBLIC").setMultipleInstances(!0)),Hr(cy,uy,""),Hr(cy,uy,"esm2017");const my="@firebase/database",gy="1.0.6";let yy="";function vy(e){yy=e}class _y{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ln(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:an(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class by{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const wy=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _y(t)}}catch(t){}return new by},Ey=wy("localStorage"),Sy=wy("sessionStorage"),Ty=new Mn("@firebase/database"),Cy=function(){let e=1;return function(){return e++}}(),Iy=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Dt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new _n;n.update(t);const r=n.digest();return Mt.encodeByteArray(r)},ky=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ky.apply(null,n):e+="object"===typeof n?ln(n):n,e+=" "}return e};let Ay=null,Py=!0;const Ry=function(e,t){Dt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ty.logLevel=Nn.VERBOSE,Ay=Ty.log.bind(Ty),t&&Sy.set("logging_enabled",!0)):"function"===typeof e?Ay=e:(Ay=null,Sy.remove("logging_enabled"))},Ny=function(){if(!0===Py&&(Py=!1,null===Ay&&!0===Sy.get("logging_enabled")&&Ry(!0)),Ay){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ky.apply(null,t);Ay(r)}},xy=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ny(e,...n)}},Dy=function(){const e="FIREBASE INTERNAL ERROR: "+ky(...arguments);Ty.error(e)},Oy=function(){const e="FIREBASE FATAL ERROR: ".concat(ky(...arguments));throw Ty.error(e),new Error(e)},Ly=function(){const e="FIREBASE WARNING: "+ky(...arguments);Ty.warn(e)},My=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Uy="[MIN_NAME]",Fy="[MAX_NAME]",jy=function(e,t){if(e===t)return 0;if(e===Uy||t===Fy)return-1;if(t===Uy||e===Fy)return 1;{const n=Gy(e),r=Gy(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Vy=function(e,t){return e===t?0:e<t?-1:1},zy=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ln(t))},By=function(e){if("object"!==typeof e||null===e)return ln(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ln(t[r]),n+=":",n+=By(e[t[r]]);return n+="}",n},Hy=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qy(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Wy=function(e){Dt(!My(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Ky=new RegExp("^-?(0*)\\d{1,10}$"),Gy=function(e){if(Ky.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Qy=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Ly("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Yy=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Xy{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Ly('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Jy{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Ny("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ly(e)}}class $y{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$y.OWNER="owner";const Zy="5",ev=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tv="ac",nv="websocket",rv="long_polling";class iv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ey.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ey.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function ov(e,t,n){let r;if(Dt("string"===typeof t,"typeof type must == string"),Dt("object"===typeof n,"typeof params must == object"),t===nv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rv)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return qy(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class sv{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return zt(this.counters_)}}const av={},lv={};function cv(e){const t=e.toString();return av[t]||(av[t]=new sv),av[t]}class uv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Qy((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const hv="start";class dv{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xy(e),this.stats_=cv(t),this.urlFn=e=>(this.appCheckToken&&(e[tv]=this.appCheckToken),ov(t,rv,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(en()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new fv((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===hv)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[hv]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Zy,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[tv]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ev.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dv.forceAllow_=!0}static forceDisallow(){dv.forceDisallow_=!0}static isAvailable(){return!en()&&(!!dv.forceAllow_||!dv.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ft(t),r=Hy(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(en())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class fv{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,en())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Cy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=fv.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Ny("frame writing exception"),i.stack&&Ny(i.stack),Ny(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ny("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){en()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ny("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let pv=null;"undefined"!==typeof MozWebSocket?pv=MozWebSocket:"undefined"!==typeof WebSocket&&(pv=WebSocket);class mv{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xy(this.connId),this.stats_=cv(t),this.connURL=mv.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Zy,!en()&&"undefined"!==typeof location&&location.hostname&&ev.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[tv]=r),i&&(o.p=i),ov(e,nv,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ey.set("previous_websocket_failure",!0);try{let e;if(en()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Zy,"/").concat(yy,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new pv(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){mv.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==pv&&!mv.forceDisallow_}static previouslyFailed(){return Ey.isInMemoryStorage||!0===Ey.get("previous_websocket_failure")}markConnectionHealthy(){Ey.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=an(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Dt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Hy(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mv.responsesRequiredToBeHealthy=2,mv.healthyTimeout=3e4;class gv{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dv,mv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=mv&&mv.isAvailable();let n=t&&!mv.previouslyFailed();if(e.webSocketOnly&&(t||Ly("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[mv];else{const e=this.transports_=[];for(const t of gv.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);gv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gv.globalTransportInitialized_=!1;class yv{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xy("c:"+this.id+":"),this.transportManager_=new gv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yy((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zy("t",e),n=zy("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zy("t",e),n=zy("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zy("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Dy("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Zy!==n&&Ly("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Yy((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yy((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ey.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vv{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class _v{constructor(e){this.allowedEvents_=e,this.listeners_={},Dt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Dt(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class bv extends _v{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||$t()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new bv}getInitialEvent(e){return Dt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const wv=32,Ev=768;class Sv{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tv(){return new Sv("")}function Cv(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Iv(e){return e.pieces_.length-e.pieceNum_}function kv(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Sv(e.pieces_,t)}function Av(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Pv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Rv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Sv(t,0)}function Nv(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Sv)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Sv(n,0)}function xv(e){return e.pieceNum_>=e.pieces_.length}function Dv(e,t){const n=Cv(e),r=Cv(t);if(null===n)return t;if(n===r)return Dv(kv(e),kv(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ov(e,t){if(Iv(e)!==Iv(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Lv(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Iv(e)>Iv(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Mv{constructor(e,t){this.errorPrefix_=t,this.parts_=Pv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Sn(this.parts_[n]);Uv(this)}}function Uv(e){if(e.byteLength_>Ev)throw new Error(e.errorPrefix_+"has a key path longer than "+Ev+" bytes ("+e.byteLength_+").");if(e.parts_.length>wv)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wv+") or object contains a cycle "+Fv(e))}function Fv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class jv extends _v{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new jv}getInitialEvent(e){return Dt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Vv=1e3;class zv extends vv{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=zv.nextPersistentConnectionId_++,this.log_=xy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!en())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ln(i)),Dt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Yt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Dt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Dt(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;zv.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&un(e,"w")){const n=hn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ly("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=cn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=cn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Dt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ln(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Dy("Unrecognized action received from server: "+ln(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Dt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+zv.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Dt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ny("getToken() completed but was canceled"):(Ny("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new yv(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Ly(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Dy){this.log_("Failed to get token: "+Dy),o||(this.repoInfo_.nodeAdmin&&Ly(Dy),a())}}}interrupt(e){Ny("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ny("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dn(this.interruptReasons_)&&(this.reconnectDelay_=Vv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>By(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Sv(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ny("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ny("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";en()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+yy.replace(/\./g,"-")]=1,$t()?e["framework.cordova"]=1:Zt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bv.getInstance().currentlyOnline();return dn(this.interruptReasons_)&&e}}zv.nextPersistentConnectionId_=0,zv.nextConnectionId_=0;class Bv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Bv(e,t)}}class Hv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Bv(Uy,e),r=new Bv(Uy,t);return 0!==this.compare(n,r)}minPost(){return Bv.MIN}}let qv;class Wv extends Hv{static get __EMPTY_NODE(){return qv}static set __EMPTY_NODE(e){qv=e}compare(e,t){return jy(e.name,t.name)}isDefinedOn(e){throw Ot("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Bv.MIN}maxPost(){return new Bv(Fy,qv)}makePost(e,t){return Dt("string"===typeof e,"KeyIndex indexValue must always be a string."),new Bv(e,qv)}toString(){return".key"}}const Kv=new Wv;class Gv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Qv.RED,this.left=null!=r?r:Yv.EMPTY_NODE,this.right=null!=i?i:Yv.EMPTY_NODE}copy(e,t,n,r,i){return new Qv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Yv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qv.RED=!0,Qv.BLACK=!1;class Yv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yv.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Yv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qv.BLACK,null,null))}remove(e){return new Yv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Gv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Gv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Gv(this.root_,null,this.comparator_,!0,e)}}function Xv(e,t){return jy(e.name,t.name)}function Jv(e,t){return jy(e,t)}let $v;Yv.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Qv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zv=function(e){return"number"===typeof e?"number:"+Wy(e):"string:"+e},e_=function(e){if(e.isLeafNode()){const t=e.val();Dt("string"===typeof t||"number"===typeof t||"object"===typeof t&&un(t,".sv"),"Priority must be a string or number.")}else Dt(e===$v||e.isEmpty(),"priority of unexpected type.");Dt(e===$v||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let t_,n_,r_;class i_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i_.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Dt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),e_(this.priorityNode_)}static set __childrenNodeConstructor(e){t_=e}static get __childrenNodeConstructor(){return t_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i_(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i_.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xv(e)?this:".priority"===Cv(e)?this.priorityNode_:i_.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:i_.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Cv(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Dt(".priority"!==n||1===Iv(e),".priority must be the last token in a path"),this.updateImmediateChild(n,i_.__childrenNodeConstructor.EMPTY_NODE.updateChild(kv(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Wy(this.value_):this.value_,this.lazyHash_=Iy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i_.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i_.__childrenNodeConstructor?-1:(Dt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=i_.VALUE_TYPE_ORDER.indexOf(t),i=i_.VALUE_TYPE_ORDER.indexOf(n);return Dt(r>=0,"Unknown leaf type: "+t),Dt(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}i_.VALUE_TYPE_ORDER=["object","boolean","number","string"];const o_=new class extends Hv{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?jy(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Bv.MIN}maxPost(){return new Bv(Fy,new i_("[PRIORITY-POST]",r_))}makePost(e,t){const n=n_(e);return new Bv(t,new i_("[PRIORITY-POST]",n))}toString(){return".priority"}},s_=Math.log(2);class a_{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/s_,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const l_=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Qv(a,s.node,Qv.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Qv(a,s.node,Qv.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new Qv(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Qv.BLACK):(a(r,Qv.BLACK),a(r,Qv.RED))}return o}(new a_(e.length));return new Yv(r||t,o)};let c_;const u_={};class h_{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Dt(u_&&o_,"ChildrenNode.ts has not been loaded"),c_=c_||new h_({".priority":u_},{".priority":o_}),c_}get(e){const t=hn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yv?t:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,t){Dt(e!==Kv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Bv.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?l_(n,e.getCompare()):u_;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new h_(c,l)}addToIndexes(e,t){const n=fn(this.indexes_,((n,r)=>{const i=hn(this.indexSet_,r);if(Dt(i,"Missing index implementation for "+r),n===u_){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Bv.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),l_(n,i.getCompare())}return u_}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Bv(e.name,r))),i.insert(e,e.node)}}));return new h_(n,this.indexSet_)}removeFromIndexes(e,t){const n=fn(this.indexes_,(n=>{if(n===u_)return n;{const r=t.get(e.name);return r?n.remove(new Bv(e.name,r)):n}}));return new h_(n,this.indexSet_)}}let d_;class f_{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&e_(this.priorityNode_),this.children_.isEmpty()&&Dt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return d_||(d_=new f_(new Yv(Jv),null,h_.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||d_}updatePriority(e){return this.children_.isEmpty()?this:new f_(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?d_:t}}getChild(e){const t=Cv(e);return null===t?this:this.getImmediateChild(t).getChild(kv(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Dt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Bv(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?d_:this.priorityNode_;return new f_(r,o,i)}}updateChild(e,t){const n=Cv(e);if(null===n)return t;{Dt(".priority"!==Cv(e)||1===Iv(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(kv(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(o_,((o,s)=>{t[o]=s.val(e),n++,i&&f_.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zv(this.getPriority().val())+":"),this.forEachChild(o_,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Iy(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Bv(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Bv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Bv(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Bv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Bv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===p_?-1:0}withIndex(e){if(e===Kv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new f_(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Kv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(o_),n=t.getIterator(o_);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Kv?null:this.indexMap_.get(e.toString())}}f_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const p_=new class extends f_{constructor(){super(new Yv(Jv),f_.EMPTY_NODE,h_.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return f_.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Bv,{MIN:{value:new Bv(Uy,f_.EMPTY_NODE)},MAX:{value:new Bv(Fy,p_)}}),Wv.__EMPTY_NODE=f_.EMPTY_NODE,i_.__childrenNodeConstructor=f_,$v=p_,function(e){r_=e}(p_);const m_=!0;function g_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return f_.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Dt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new i_(e,g_(t))}if(e instanceof Array||!m_){let n=f_.EMPTY_NODE;return qy(e,((t,r)=>{if(un(e,t)&&"."!==t.substring(0,1)){const e=g_(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(g_(t))}{const n=[];let r=!1;if(qy(e,((e,t)=>{if("."!==e.substring(0,1)){const i=g_(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Bv(e,i)))}})),0===n.length)return f_.EMPTY_NODE;const i=l_(n,Xv,(e=>e.name),Jv);if(r){const e=l_(n,o_.getCompare());return new f_(i,g_(t),new h_({".priority":e},{".priority":o_}))}return new f_(i,g_(t),h_.Default)}}!function(e){n_=e}(g_);class y_ extends Hv{constructor(e){super(),this.indexPath_=e,Dt(!xv(e)&&".priority"!==Cv(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?jy(e.name,t.name):i}makePost(e,t){const n=g_(e),r=f_.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bv(t,r)}maxPost(){const e=f_.EMPTY_NODE.updateChild(this.indexPath_,p_);return new Bv(Fy,e)}toString(){return Pv(this.indexPath_,0).join("/")}}const v_=new class extends Hv{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?jy(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Bv.MIN}maxPost(){return Bv.MAX}makePost(e,t){const n=g_(e);return new Bv(t,n)}toString(){return".value"}};function __(e){return{type:"value",snapshotNode:e}}function b_(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function w_(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function E_(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class S_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=o_}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Dt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Dt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uy}hasEnd(){return this.endSet_}getIndexEndValue(){return Dt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Dt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fy}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Dt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===o_}copy(){const e=new S_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function T_(e){const t={};if(e.isDefault())return t;let n;if(e.index_===o_?n="$priority":e.index_===v_?n="$value":e.index_===Kv?n="$key":(Dt(e.index_ instanceof y_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ln(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ln(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ln(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ln(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ln(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function C_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==o_&&(t.i=e.index_.toString()),t}class I_ extends vv{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=xy("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Dt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=I_.getListenId_(e,n),s={};this.listens_[o]=s;const a=T_(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),hn(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=I_.getListenId_(e,t);delete this.listens_[n]}get(e){const t=T_(e._queryParams),n=e._path.toString(),r=new Yt;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gn(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=an(a.responseText)}catch(e){Ly("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Ly("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class k_{constructor(){this.rootNode_=f_.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function A_(){return{value:null,children:new Map}}function P_(e,t,n){if(xv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Cv(t);e.children.has(r)||e.children.set(r,A_());P_(e.children.get(r),t=kv(t),n)}}function R_(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{R_(r,new Sv(t.toString()+"/"+e),n)}))}class N_{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qy(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class x_{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new N_(e);const n=1e4+2e4*Math.random();Yy(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;qy(e,((e,r)=>{r>0&&un(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Yy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var D_;function O_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(D_||(D_={}));class L_{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=D_.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xv(this.path)){if(null!=this.affectedTree.value)return Dt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sv(e));return new L_(Tv(),t,this.revert)}}return Dt(Cv(this.path)===e,"operationForChild called for unrelated child."),new L_(kv(this.path),this.affectedTree,this.revert)}}class M_{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=D_.OVERWRITE}operationForChild(e){return xv(this.path)?new M_(this.source,Tv(),this.snap.getImmediateChild(e)):new M_(this.source,kv(this.path),this.snap)}}class U_{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=D_.MERGE}operationForChild(e){if(xv(this.path)){const t=this.children.subtree(new Sv(e));return t.isEmpty()?null:t.value?new M_(this.source,Tv(),t.value):new U_(this.source,Tv(),t)}return Dt(Cv(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new U_(this.source,kv(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class F_{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xv(e))return this.isFullyInitialized()&&!this.filtered_;const t=Cv(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function j_(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ot("Should only compare child_ events.");const r=new Bv(t.childName,t.snapshotNode),i=new Bv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function V_(e,t){return{eventCache:e,serverCache:t}}function z_(e,t,n,r){return V_(new F_(t,n,r),e.serverCache)}function B_(e,t,n,r){return V_(e.eventCache,new F_(t,n,r))}function H_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function q_(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let W_;class K_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(W_||(W_=new Yv(Vy)),W_);this.value=e,this.children=t}static fromObject(e){let t=new K_(null);return qy(e,((e,n)=>{t=t.set(new Sv(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tv(),value:this.value};if(xv(e))return null;{const n=Cv(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(kv(e),t);if(null!=i){return{path:Nv(new Sv(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(xv(e))return this;{const t=Cv(e),n=this.children.get(t);return null!==n?n.subtree(kv(e)):new K_(null)}}set(e,t){if(xv(e))return new K_(t,this.children);{const n=Cv(e),r=(this.children.get(n)||new K_(null)).set(kv(e),t),i=this.children.insert(n,r);return new K_(this.value,i)}}remove(e){if(xv(e))return this.children.isEmpty()?new K_(null):new K_(null,this.children);{const t=Cv(e),n=this.children.get(t);if(n){const r=n.remove(kv(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new K_(null):new K_(this.value,i)}return this}}get(e){if(xv(e))return this.value;{const t=Cv(e),n=this.children.get(t);return n?n.get(kv(e)):null}}setTree(e,t){if(xv(e))return t;{const n=Cv(e),r=(this.children.get(n)||new K_(null)).setTree(kv(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new K_(this.value,i)}}fold(e){return this.fold_(Tv(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Nv(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Tv(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(xv(e))return null;{const r=Cv(e),i=this.children.get(r);return i?i.findOnPath_(kv(e),Nv(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tv(),t)}foreachOnPath_(e,t,n){if(xv(e))return this;{this.value&&n(t,this.value);const r=Cv(e),i=this.children.get(r);return i?i.foreachOnPath_(kv(e),Nv(t,r),n):new K_(null)}}foreach(e){this.foreach_(Tv(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Nv(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class G_{constructor(e){this.writeTree_=e}static empty(){return new G_(new K_(null))}}function Q_(e,t,n){if(xv(t))return new G_(new K_(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Dv(i,t);return o=o.updateChild(s,n),new G_(e.writeTree_.set(i,o))}{const r=new K_(n),i=e.writeTree_.setTree(t,r);return new G_(i)}}}function Y_(e,t,n){let r=e;return qy(n,((e,n)=>{r=Q_(r,Nv(t,e),n)})),r}function X_(e,t){if(xv(t))return G_.empty();{const n=e.writeTree_.setTree(t,new K_(null));return new G_(n)}}function J_(e,t){return null!=$_(e,t)}function $_(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Dv(n.path,t)):null}function Z_(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(o_,((e,n)=>{t.push(new Bv(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Bv(e,n.value))})),t}function eb(e,t){if(xv(t))return e;{const n=$_(e,t);return new G_(null!=n?new K_(n):e.writeTree_.subtree(t))}}function tb(e){return e.writeTree_.isEmpty()}function nb(e,t){return rb(Tv(),e.writeTree_,t)}function rb(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Dt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rb(Nv(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Nv(e,".priority"),r)),n}}function ib(e,t){return yb(t,e)}function ob(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Dt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&sb(t,r.path)?i=!1:Lv(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=lb(e.allWrites,ab,Tv()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=X_(e.visibleWrites,r.path);else{qy(r.children,(t=>{e.visibleWrites=X_(e.visibleWrites,Nv(r.path,t))}))}return!0}return!1}function sb(e,t){if(e.snap)return Lv(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Lv(Nv(e.path,n),t))return!0;return!1}function ab(e){return e.visible}function lb(e,t,n){let r=G_.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Lv(n,e)?(t=Dv(n,e),r=Q_(r,t,o.snap)):Lv(e,n)&&(t=Dv(e,n),r=Q_(r,Tv(),o.snap.getChild(t)));else{if(!o.children)throw Ot("WriteRecord should have .snap or .children");if(Lv(n,e))t=Dv(n,e),r=Y_(r,t,o.children);else if(Lv(e,n))if(t=Dv(e,n),xv(t))r=Y_(r,Tv(),o.children);else{const e=hn(o.children,Cv(t));if(e){const n=e.getChild(kv(t));r=Q_(r,Tv(),n)}}}}}return r}function cb(e,t,n,r,i){if(r||i){const o=eb(e.visibleWrites,t);if(!i&&tb(o))return n;if(i||null!=n||J_(o,Tv())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Lv(e.path,t)||Lv(t,e.path))};return nb(lb(e.allWrites,o,t),n||f_.EMPTY_NODE)}return null}{const r=$_(e.visibleWrites,t);if(null!=r)return r;{const r=eb(e.visibleWrites,t);if(tb(r))return n;if(null!=n||J_(r,Tv())){return nb(r,n||f_.EMPTY_NODE)}return null}}}function ub(e,t,n,r){return cb(e.writeTree,e.treePath,t,n,r)}function hb(e,t){return function(e,t,n){let r=f_.EMPTY_NODE;const i=$_(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(o_,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=eb(e.visibleWrites,t);return n.forEachChild(o_,((e,t)=>{const n=nb(eb(i,new Sv(e)),t);r=r.updateImmediateChild(e,n)})),Z_(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Z_(eb(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function db(e,t,n,r){return function(e,t,n,r,i){Dt(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Nv(t,n);if(J_(e.visibleWrites,o))return null;{const t=eb(e.visibleWrites,o);return tb(t)?i.getChild(n):nb(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function fb(e,t){return function(e,t){return $_(e.visibleWrites,t)}(e.writeTree,Nv(e.treePath,t))}function pb(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=eb(e.visibleWrites,t),c=$_(l,Tv());if(null!=c)a=c;else{if(null==n)return[];a=nb(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function mb(e,t,n){return function(e,t,n,r){const i=Nv(t,n),o=$_(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return nb(eb(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function gb(e,t){return yb(Nv(e.treePath,t),e.writeTree)}function yb(e,t){return{treePath:e,writeTree:t}}class vb{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Dt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Dt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,E_(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,w_(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,b_(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ot("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,E_(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const _b=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class bb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new F_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mb(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:q_(this.viewCache_),i=pb(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function wb(e,t,n,r,i){const o=new vb;let s,a;if(n.type===D_.OVERWRITE){const l=n;l.source.fromUser?s=Tb(e,t,l.path,l.snap,r,i,o):(Dt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!xv(l.path),s=Sb(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===D_.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=Nv(n,r);Cb(t,Cv(c))&&(a=Tb(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=Nv(n,r);Cb(t,Cv(c))||(a=Tb(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Dt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=kb(e,t,l.path,l.children,r,i,a,o))}else if(n.type===D_.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=fb(r,n))return t;{const a=new bb(r,t,i),l=t.eventCache.getNode();let c;if(xv(n)||".priority"===Cv(n)){let n;if(t.serverCache.isFullyInitialized())n=ub(r,q_(t));else{const e=t.serverCache.getNode();Dt(e instanceof f_,"serverChildren would be complete if leaf node"),n=hb(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Cv(n);let u=mb(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,kv(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,f_.EMPTY_NODE,kv(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ub(r,q_(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=fb(r,Tv()),z_(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=fb(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(xv(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Sb(e,t,n,l.getNode().getChild(n),i,o,a,s);if(xv(n)){let r=new K_(null);return l.getNode().forEachChild(Kv,((e,t)=>{r=r.set(new Sv(e),t)})),kb(e,t,n,r,i,o,a,s)}return t}{let c=new K_(null);return r.foreach(((e,t)=>{const r=Nv(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),kb(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==D_.LISTEN_COMPLETE)throw Ot("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=B_(t,o.getNode(),o.isFullyInitialized()||xv(n),o.isFiltered());return Eb(e,s,n,r,_b,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=H_(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(__(H_(t)))}}(t,s,l),{viewCache:s,changes:l}}function Eb(e,t,n,r,i,o){const s=t.eventCache;if(null!=fb(r,n))return t;{let a,l;if(xv(n))if(Dt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=q_(t),i=hb(r,n instanceof f_?n:f_.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ub(r,q_(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Cv(n);if(".priority"===c){Dt(1===Iv(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=db(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=kv(n);let h;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=db(r,n,s.getNode(),l);h=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else h=mb(r,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,u,i,o):s.getNode()}}return z_(t,a,s.isFullyInitialized()||xv(n),e.filter.filtersNodes())}}function Sb(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(xv(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Cv(n);if(!l.isCompleteForPath(n)&&Iv(n)>1)return t;const i=kv(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,_b,null)}const h=B_(t,c,l.isFullyInitialized()||xv(n),u.filtersNodes());return Eb(e,h,n,i,new bb(i,h,o),a)}function Tb(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new bb(i,t,o);if(xv(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=z_(t,c,!0,e.filter.filtersNodes());else{const i=Cv(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=z_(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=kv(n),c=a.getNode().getImmediateChild(i);let h;if(xv(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Av(o)&&e.getChild(Rv(o)).isEmpty()?e:e.updateChild(o,r):f_.EMPTY_NODE}if(c.equals(h))l=t;else{l=z_(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Cb(e,t){return e.eventCache.isCompleteForChild(t)}function Ib(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function kb(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=xv(n)?r:new K_(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Ib(0,t.serverCache.getNode().getImmediateChild(n),r);c=Sb(e,c,new Sv(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ib(0,t.serverCache.getNode().getImmediateChild(n),r);c=Sb(e,c,new Sv(n),l,i,o,s,a)}})),c}function Ab(e,t){const n=q_(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xv(t)&&!n.getImmediateChild(Cv(t)).isEmpty())?n.getChild(t):null}function Pb(e,t,n,r){t.type===D_.MERGE&&null!==t.source.queryId&&(Dt(q_(e.viewCache_),"We should always have a full cache before handling merges"),Dt(H_(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=wb(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Dt(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Dt(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Dt(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Rb(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Rb(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),j_(e,i,"child_removed",t,r,n),j_(e,i,"child_added",t,r,n),j_(e,i,"child_moved",o,r,n),j_(e,i,"child_changed",t,r,n),j_(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Nb,xb;function Db(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Dt(null!=o,"SyncTree gave us an op for an invalid query."),Pb(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Pb(o,t,n,r));return i}}function Ob(e,t){let n=null;for(const r of e.views.values())n=n||Ab(r,t);return n}class Lb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new K_(null),this.pendingWriteTree_={visibleWrites:G_.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mb(e,t,n,r,i){return function(e,t,n,r,i){Dt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Q_(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?zb(e,new M_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ob(e.pendingWriteTree_,t)){let t=new K_(null);return null!=r.snap?t=t.set(Tv(),!0):qy(r.children,(e=>{t=t.set(new Sv(e),!0)})),zb(e,new L_(r.path,t,n))}return[]}function Fb(e,t,n){return zb(e,new M_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function jb(e,t,n,r){const i=qb(e,r);if(null!=i){const r=Wb(i),o=r.path,s=r.queryId,a=Dv(o,t);return Kb(e,o,new M_(O_(s),a,n))}return[]}function Vb(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Ob(n,Dv(e,t));if(r)return r}));return cb(r,t,i,n,!0)}function zb(e,t){return Bb(t,e.syncPointTree_,null,ib(e.pendingWriteTree_,Tv()))}function Bb(e,t,n,r){if(xv(e.path))return Hb(e,t,n,r);{const i=t.get(Tv());null==n&&null!=i&&(n=Ob(i,Tv()));let o=[];const s=Cv(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=gb(r,s);o=o.concat(Bb(a,l,e,t))}return i&&(o=o.concat(Db(i,e,r,n))),o}}function Hb(e,t,n,r){const i=t.get(Tv());null==n&&null!=i&&(n=Ob(i,Tv()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=gb(r,t),l=e.operationForChild(t);l&&(o=o.concat(Hb(l,i,s,a)))})),i&&(o=o.concat(Db(i,e,r,n))),o}function qb(e,t){return e.tagToQueryMap.get(t)}function Wb(e){const t=e.indexOf("$");return Dt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Sv(e.substr(0,t))}}function Kb(e,t,n){const r=e.syncPointTree_.get(t);Dt(r,"Missing sync point for query tag that we're tracking");return Db(r,n,ib(e.pendingWriteTree_,t),null)}class Gb{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Gb(t)}node(){return this.node_}}class Qb{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Nv(this.path_,e);return new Qb(this.syncTree_,t)}node(){return Vb(this.syncTree_,this.path_)}}const Yb=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Xb=function(e,t,n){return e&&"object"===typeof e?(Dt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Jb(e[".sv"],t,n):"object"===typeof e[".sv"]?$b(e[".sv"],t):void Dt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jb=function(e,t,n){if("timestamp"===e)return n.timestamp;Dt(!1,"Unexpected server value: "+e)},$b=function(e,t,n){e.hasOwnProperty("increment")||Dt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Dt(!1,"Unexpected increment value: "+r);const i=t.node();if(Dt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Zb=function(e,t,n,r){return tw(t,new Qb(n,e),r)},ew=function(e,t,n){return tw(e,new Gb(t),n)};function tw(e,t,n){const r=e.getPriority().val(),i=Xb(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Xb(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new i_(o,g_(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new i_(i))),r.forEachChild(o_,((e,r)=>{const i=tw(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class nw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function rw(e,t){let n=t instanceof Sv?t:new Sv(t),r=e,i=Cv(n);for(;null!==i;){const e=hn(r.node.children,i)||{children:{},childCount:0};r=new nw(i,r,e),n=kv(n),i=Cv(n)}return r}function iw(e){return e.node.value}function ow(e,t){e.node.value=t,uw(e)}function sw(e){return e.node.childCount>0}function aw(e,t){qy(e.node.children,((n,r)=>{t(new nw(n,e,r))}))}function lw(e,t,n,r){n&&!r&&t(e),aw(e,(e=>{lw(e,t,!0,r)})),n&&r&&t(e)}function cw(e){return new Sv(null===e.parent?e.name:cw(e.parent)+"/"+e.name)}function uw(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===iw(e)&&!sw(e)}(n),i=un(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,uw(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,uw(e))}(e.parent,e.name,e)}const hw=/[\[\].#$\/\u0000-\u001F\u007F]/,dw=/[\[\].#$\u0000-\u001F\u007F]/,fw=10485760,pw=function(e){return"string"===typeof e&&0!==e.length&&!hw.test(e)},mw=function(e){return"string"===typeof e&&0!==e.length&&!dw.test(e)},gw=function(e,t,n){const r=n instanceof Sv?new Mv(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Fv(r));if("function"===typeof t)throw new Error(e+"contains a function "+Fv(r)+" with contents = "+t.toString());if(My(t))throw new Error(e+"contains "+t.toString()+" "+Fv(r));if("string"===typeof t&&t.length>fw/3&&Sn(t)>fw)throw new Error(e+"contains a string greater than "+fw+" utf8 bytes "+Fv(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(qy(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!pw(t)))throw new Error(e+" contains an invalid key ("+t+") "+Fv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Sn(t),Uv(e)}(r,t),gw(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Sn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Fv(r)+" in addition to actual children.")}},yw=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!pw(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mw(e)}(n))throw new Error(En(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class vw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _w(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Ov(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function bw(e,t,n){_w(e,n),ww(e,(e=>Lv(e,t)||Lv(t,e)))}function ww(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Ew(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ew(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ay&&Ny("event: "+n.toString()),Qy(r)}}}const Sw="repo_interrupt",Tw=25;class Cw{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=A_(),this.transactionQueueTree_=new nw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Iw(e,t,n){if(e.stats_=cv(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new I_(e.repoInfo_,((t,n,r,i)=>{Pw(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Rw(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ln(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new zv(e.repoInfo_,t,((t,n,r,i)=>{Pw(e,t,n,r,i)}),(t=>{Rw(e,t)}),(t=>{!function(e,t){qy(t,((t,n)=>{Nw(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return lv[n]||(lv[n]=t()),lv[n]}(e.repoInfo_,(()=>new x_(e.stats_,e.server_))),e.infoData_=new k_,e.infoSyncTree_=new Lb({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Fb(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Nw(e,"connected",!1),e.serverSyncTree_=new Lb({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);bw(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function kw(e){const t=e.infoData_.getNode(new Sv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Aw(e){return Yb({timestamp:kw(e)})}function Pw(e,t,n,r,i){e.dataUpdateCount++;const o=new Sv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=fn(n,(e=>g_(e)));s=function(e,t,n,r){const i=qb(e,r);if(i){const r=Wb(i),o=r.path,s=r.queryId,a=Dv(o,t),l=K_.fromObject(n);return Kb(e,o,new U_(O_(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=g_(n);s=jb(e.serverSyncTree_,o,t,i)}else if(r){const t=fn(n,(e=>g_(e)));s=function(e,t,n){const r=K_.fromObject(n);return zb(e,new U_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=g_(n);s=Fb(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Uw(e,o)),bw(e.eventQueue_,a,s)}function Rw(e,t){Nw(e,"connected",t),!1===t&&function(e){Ow(e,"onDisconnectEvents");const t=Aw(e),n=A_();R_(e.onDisconnect_,Tv(),((r,i)=>{const o=Zb(r,i,e.serverSyncTree_,t);P_(n,r,o)}));let r=[];R_(n,Tv(),((t,n)=>{r=r.concat(Fb(e.serverSyncTree_,t,n));const i=Bw(e,t);Uw(e,i)})),e.onDisconnect_=A_(),bw(e.eventQueue_,Tv(),r)}(e)}function Nw(e,t,n){const r=new Sv("/.info/"+t),i=g_(n);e.infoData_.updateSnapshot(r,i);const o=Fb(e.infoSyncTree_,r,i);bw(e.eventQueue_,r,o)}function xw(e){return e.nextWriteId_++}function Dw(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Sw)}function Ow(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ny(t,...r)}function Lw(e,t,n){return Vb(e.serverSyncTree_,t,n)||f_.EMPTY_NODE}function Mw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zw(e,t),iw(t)){const n=jw(e,t);Dt(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Lw(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Dt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Dv(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Ow(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ub(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();zw(e,rw(e.transactionQueueTree_,t)),Mw(e,e.transactionQueueTree_),bw(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Qy(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ly("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Uw(e,t)}}),s)}(e,cw(t),n)}else sw(t)&&aw(t,(t=>{Mw(e,t)}))}function Uw(e,t){const n=Fw(e,t),r=cw(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=Dv(n,o.path);let u,h=!1;if(Dt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,u=o.abortReason,i=i.concat(Ub(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Tw)h=!0,u="maxretry",i=i.concat(Ub(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Lw(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){gw("transaction failed: Data returned ",r,o.path);let t=g_(r);"object"===typeof r&&null!=r&&un(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Aw(e),c=ew(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=xw(e),s.splice(s.indexOf(a),1),i=i.concat(Mb(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Ub(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(Ub(e.serverSyncTree_,o.currentWriteId,!0))}bw(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;zw(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Qy(r[l]);Mw(e,e.transactionQueueTree_)}(e,jw(e,n),r),r}function Fw(e,t){let n,r=e.transactionQueueTree_;for(n=Cv(t);null!==n&&void 0===iw(r);)r=rw(r,n),n=Cv(t=kv(t));return r}function jw(e,t){const n=[];return Vw(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Vw(e,t,n){const r=iw(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);aw(t,(t=>{Vw(e,t,n)}))}function zw(e,t){const n=iw(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,ow(t,n.length>0?n:void 0)}aw(t,(t=>{zw(e,t)}))}function Bw(e,t){const n=cw(Fw(e,t)),r=rw(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Hw(e,t)})),Hw(e,r),lw(r,(t=>{Hw(e,t)})),n}function Hw(e,t){const n=iw(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Dt(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Dt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ub(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ow(t,void 0):n.length=o+1,bw(e.eventQueue_,cw(t),i);for(let e=0;e<r.length;e++)Qy(r[e])}}const qw=function(e,t){const n=Ww(e),r=n.namespace;"firebase.com"===n.domain&&Oy(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Oy("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ly("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new iv(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Sv(n.pathString)}},Ww=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ly("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Kw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Gw{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return xv(this._path)?null:Av(this._path)}get ref(){return new Qw(this._repo,this._path)}get _queryIdentifier(){const e=C_(this._queryParams),t=By(e);return"{}"===t?"default":t}get _queryObject(){return C_(this._queryParams)}isEqual(e){if(!((e=Tn(e))instanceof Gw))return!1;const t=this._repo===e._repo,n=Ov(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Qw extends Gw{constructor(e,t){super(e,t,new S_,!1)}get parent(){const e=Rv(this._path);return null===e?null:new Qw(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){Dt(!Nb,"__referenceConstructor has already been defined"),Nb=e}(Qw),function(e){Dt(!xb,"__referenceConstructor has already been defined"),xb=e}(Qw);const Yw="FIREBASE_DATABASE_EMULATOR_HOST",Xw={};let Jw=!1;function $w(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Oy("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ny("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=qw(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}[Yw]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=qw(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new $y($y.OWNER):new Jy(e.name,e.options,t);yw("Invalid Firebase Database URL",l),xv(l.path)||Oy("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Xw[t.name];i||(i={},Xw[t.name]=i);let o=i[e.toURLString()];o&&Oy("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Cw(e,Jw,n,r),i[e.toURLString()]=o,o}(c,e,u,new Xy(e.name,n));return new Zw(h,e)}class Zw{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Iw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qw(this._repo,Tv())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Xw[t];n&&n[e.key]===e||Oy("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Dw(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oy("Cannot call "+e+" on a deleted database.")}}zv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){vy(Vr),Lr(new Cn("database",((e,t)=>{let{instanceIdentifier:n}=t;return $w(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Hr(my,gy,e),Hr(my,gy,"esm2017")}();Hr("firebase","10.12.3","app");const eE=zr({apiKey:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",authDomain:"financeapp-4593b.firebaseapp.com",projectId:"financeapp-4593b",storageBucket:"financeapp-4593b.appspot.com",messagingSenderId:"662422929470",appId:"1:662422929470:web:5145e926694cedc661116f",measurementId:"G-GGB1Y3R83Z"}),tE=eE,nE=ya(eE),rE=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Mr("object"==typeof e?e:Br(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Kt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Fp(e,Vp))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=La.MOCK_USER;else{t=Xt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ga(Ka.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new La(o)}e._authCredentials=new Ja(new Ya(t,n))}}(r,...e)}return r}(eE),iE=(fy(eE),bt("addUser/fetchUserTransactions",(async(e,t)=>{let n=nE.currentUser.uid;const r=Wp(rE,"userTransactions",n),i=await Dm(r);if(i.exists()){let e=i.data();return console.log("Document data:",i.data()),e}console.log("No such document!")}))),oE=bt("addUser/updateUserTransactions",(async(e,t)=>{let n=nE.currentUser.uid;try{let t=Wp(rE,"userTransactions",n);await Lm(t,{merge:!0},{userBalance:t.userBalance,userIncome:t.userIncome,userExpense:t.userExpense}),await Mm(t,{userBalance:e.userBalance,userIncome:e.userIncome,userExpense:e.userExpense})}catch(Dy){return console.error("Error updating document: ",Dy),t.rejectWithValue(Dy.message)}})),sE=(bt("addUser/updateUserTransactions",(async(e,t)=>{let n=nE.currentUser.uid;await Lm(Wp(rE,"lastTransactions",n),{lastTransactions:[]})})),bt("addUser/updateLastTransactions",(async(e,t)=>{try{const n=nE.currentUser.uid,r=Wp(rE,"lastTransactions",n),i=await Mm(r,{lastTransactions:jm({description:e.description,method:"added manually",date:e.date,amount:e.amount,image:e.image})});return i?(console.log("Document updated successfully:",i),e):(console.log("No such document!"),t.rejectWithValue("No such document!"))}catch(Dy){return console.error("Error updating document:",Dy),t.rejectWithValue(Dy.message)}}))),aE=bt("addUser/fetchUserLastTransactions",(async(e,t)=>{try{const e=nE.currentUser;if(!e)throw new Error("User not authenticated");const t=e.uid,n=Wp(rE,"lastTransactions",t),r=await Dm(n);if(r.exists()){let e=r.data();return console.log("Document data:",e),e}return console.log("No such document!"),{}}catch(Dy){return console.error("Error fetching last transactions:",Dy),t.rejectWithValue(Dy.message)}})),lE=pt({name:"counter",initialState:{userData:[],lastTransactions:[],profilepic:"",setProfilepicURL:"",userTransactions:{Transactions:{userBalance:"0",userIncome:"0",userExpense:"0"}}},reducers:{pushUserData:(e,t)=>{e.userData.push(t.payload)},getUserTransactions:(e,t)=>{e.userTransactions.Transactions.userBalance=t.payload.userTransaction.userBalance,e.userTransactions.Transactions.userIncome=t.payload.userTransaction.userIncome,e.userTransactions.Transactions.userExpense=t.payload.userTransaction.userExpense,console.log(e.userTransactions)},getUserTransactionsLocal:(e,t)=>{e.userTransactions.Transactions.userBalance=t.payload.newObject.userBalance,e.userTransactions.Transactions.userIncome=t.payload.newObject.userIncome,e.userTransactions.Transactions.userExpense=t.payload.newObject.userExpense,console.log(e.userTransactions)},setProfilePic(e,t){e.profilepic=t.payload},uploadProfilePicURL(e,t){e.setProfilepicURL=t.payload},updateLastTransactionState(e,t){e.lastTransactions=t.payload},pushManuallyaddedTransaction(e,t){e.lastTransactions.push(t.payload)}}}),{pushUserData:cE,getUserTransactions:uE,getUserTransactionsLocal:hE,pushManuallyaddedTransaction:dE,updateLastTransactionState:fE,uploadProfilePicURL:pE,setProfilePic:mE}=lE.actions,gE=function(e){var t,n=dt(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,h=void 0===u?void 0:u,d=r.enhancers,f=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!at(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ze(o)}var p=a;"function"===typeof p&&(p=p(n));var m=He.apply(void 0,p),g=Be;c&&(g=st(rt({trace:!1},"object"===typeof c&&c)));var y=new ut(m),v=y;return Array.isArray(f)?v=Ye([m],f):"function"===typeof f&&(v=f(y)),Ve(t,h,g.apply(void 0,v))}({reducer:{appData:lE.reducer}}),yE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(this,arguments)}var _E;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_E||(_E={}));const bE="popstate";function wE(e){return void 0===e&&(e={}),AE((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return CE("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:IE(t)}),null,e)}function EE(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function SE(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function TE(e,t){return{usr:e.state,key:e.key,idx:t}}function CE(e,t,n,r){return void 0===n&&(n=null),vE({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?kE(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function IE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function kE(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AE(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=_E.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=_E.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:IE(e);return n=n.replace(/ $/,"%20"),EE(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(vE({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bE,h),l=e,()=>{i.removeEventListener(bE,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=_E.Push;let r=CE(f.location,e,t);n&&n(r,e),c=u()+1;let h=TE(r,c),d=f.createHref(r);try{s.pushState(h,"",d)}catch(Dy){if(Dy instanceof DOMException&&"DataCloneError"===Dy.name)throw Dy;i.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=_E.Replace;let r=CE(f.location,e,t);n&&n(r,e),c=u();let i=TE(r,c),h=f.createHref(r);s.replaceState(i,"",h),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var PE;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(PE||(PE={}));const RE=new Set(["lazy","caseSensitive","path","id","index","children"]);function NE(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,String(i)],s="string"===typeof e.id?e.id:o.join("-");if(EE(!0!==e.index||!e.children,"Cannot specify children on an index route"),EE(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=vE({},e,t(e),{id:s});return r[s]=n,n}{let n=vE({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=NE(e.children,t,o,r)),n}}))}function xE(e,t,n){return void 0===n&&(n="/"),DE(e,t,n,!1)}function DE(e,t,n,r){let i=GE(("string"===typeof t?kE(t):t).pathname||"/",n);if(null==i)return null;let o=OE(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=KE(i);s=qE(o[a],e,r)}return s}function OE(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(EE(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=$E([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(EE(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),OE(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:HE(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of LE(e.path))i(e,t,r);else i(e,t)})),t}function LE(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=LE(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const ME=/^:[\w-]+$/,UE=3,FE=2,jE=1,VE=10,zE=-2,BE=e=>"*"===e;function HE(e,t){let n=e.split("/"),r=n.length;return n.some(BE)&&(r+=zE),t&&(r+=FE),n.filter((e=>!BE(e))).reduce(((e,t)=>e+(ME.test(t)?UE:""===t?jE:VE)),r)}function qE(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=WE({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=WE({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:$E([o,u.pathname]),pathnameBase:ZE($E([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=$E([o,u.pathnameBase]))}return s}function WE(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);SE("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function KE(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Dy){return SE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Dy+")."),e}}function GE(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function QE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function YE(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function XE(e,t){let n=YE(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function JE(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=kE(e):(i=vE({},e),EE(!i.pathname||!i.pathname.includes("?"),QE("?","pathname","search",i)),EE(!i.pathname||!i.pathname.includes("#"),QE("#","pathname","hash",i)),EE(!i.search||!i.search.includes("#"),QE("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?kE(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:eS(r),hash:tS(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const $E=e=>e.join("/").replace(/\/\/+/g,"/"),ZE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",tS=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class nS{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function rS(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const iS=["post","put","patch","delete"],oS=new Set(iS),sS=["get",...iS],aS=new Set(sS),lS=new Set([301,302,303,307,308]),cS=new Set([307,308]),uS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dS={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pS=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),mS="remix-router-transitions";function gS(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(EE(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=pS;let o,s,a,l={},c=NE(e.routes,i,void 0,l),u=e.basename||"/",h=e.unstable_dataStrategy||IS,d=e.unstable_patchRoutesOnMiss,f=vE({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),p=null,m=new Set,g=null,y=null,v=null,_=null!=e.hydrationData,b=xE(c,e.history.location,u),w=null;if(null==b&&!d){let t=VS(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=jS(c);b=n,w={[r.id]:t}}if(b&&d){me(b,c,e.history.location.pathname).active&&(b=null)}if(b)if(b.some((e=>e.route.lazy)))s=!1;else if(b.some((e=>e.route.loader)))if(f.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=b.findIndex((e=>void 0!==n[e.route.id]));s=b.slice(0,e+1).every(r)}else s=b.every(r)}else s=null!=e.hydrationData;else s=!0;else s=!1,b=[];let E,S={historyAction:e.history.action,location:e.history.location,matches:b,initialized:s,navigation:uS,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},T=_E.Pop,C=!1,I=!1,k=new Map,A=null,P=!1,R=!1,N=[],x=[],D=new Map,O=0,L=-1,M=new Map,U=new Set,F=new Map,j=new Map,V=new Set,z=new Map,B=new Map,H=new Map,q=!1;function W(e,t){void 0===t&&(t={}),S=vE({},S,e);let n=[],r=[];f.v7_fetcherPersist&&S.fetchers.forEach(((e,t)=>{"idle"===e.state&&(V.has(t)?r.push(t):n.push(t))})),[...m].forEach((e=>e(S,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),f.v7_fetcherPersist&&(n.forEach((e=>S.fetchers.delete(e))),r.forEach((e=>ne(e))))}function K(t,n,r){var i,s;let a,{flushSync:l}=void 0===r?{}:r,u=null!=S.actionData&&null!=S.navigation.formMethod&&YS(S.navigation.formMethod)&&"loading"===S.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?S.actionData:null;let h=n.loaderData?MS(S.loaderData,n.loaderData,n.matches||[],n.errors):S.loaderData,d=S.blockers;d.size>0&&(d=new Map(d),d.forEach(((e,t)=>d.set(t,dS))));let f,p=!0===C||null!=S.navigation.formMethod&&YS(S.navigation.formMethod)&&!0!==(null==(s=t.state)?void 0:s._isRedirect);if(o&&(c=o,o=void 0),P||T===_E.Pop||(T===_E.Push?e.history.push(t,t.state):T===_E.Replace&&e.history.replace(t,t.state)),T===_E.Pop){let e=k.get(S.location.pathname);e&&e.has(t.pathname)?f={currentLocation:S.location,nextLocation:t}:k.has(t.pathname)&&(f={currentLocation:t,nextLocation:S.location})}else if(I){let e=k.get(S.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),k.set(S.location.pathname,e)),f={currentLocation:S.location,nextLocation:t}}W(vE({},n,{actionData:a,loaderData:h,historyAction:T,location:t,initialized:!0,navigation:uS,revalidation:"idle",restoreScrollPosition:pe(t,n.matches||S.matches),preventScrollReset:p,blockers:d}),{viewTransitionOpts:f,flushSync:!0===l}),T=_E.Pop,C=!1,I=!1,P=!1,R=!1,N=[],x=[]}async function G(t,n,r){E&&E.abort(),E=null,T=t,P=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(g&&v){let n=fe(e,t);g[n]=v()}}(S.location,S.matches),C=!0===(r&&r.preventScrollReset),I=!0===(r&&r.enableViewTransition);let i=o||c,s=r&&r.overrideNavigation,a=xE(i,n,u),l=!0===(r&&r.flushSync),h=me(a,i,n.pathname);if(h.active&&h.matches&&(a=h.matches),!a){let{error:e,notFoundMatches:t,route:r}=ue(n.pathname);return void K(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}if(S.initialized&&!R&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(S.location,n)&&!(r&&r.submission&&YS(r.submission.formMethod)))return void K(n,{matches:a},{flushSync:l});E=new AbortController;let d,p=NS(e.history,n,E.signal,r&&r.submission);if(r&&r.pendingError)d=[FS(a).route.id,{type:PE.error,error:r.pendingError}];else if(r&&r.submission&&YS(r.submission.formMethod)){let t=await async function(e,t,n,r,i,o){void 0===o&&(o={});$();let s,a=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(W({navigation:a},{flushSync:!0===o.flushSync}),i){let n=await ge(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{error:e,notFoundMatches:r,route:i}=he(t.pathname,n);return{matches:r,pendingActionResult:[i.id,{type:PE.error,error:e}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=ue(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:PE.error,error:n}]}}r=n.matches}let l=ZS(r,t);if(l.route.action||l.route.lazy){if(s=(await X("action",e,[l],r))[0],e.signal.aborted)return{shortCircuited:!0}}else s={type:PE.error,error:VS(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(KS(s)){let t;if(o&&null!=o.replace)t=o.replace;else{t=RS(s.response.headers.get("Location"),new URL(e.url),u)===S.location.pathname+S.location.search}return await Y(e,s,{submission:n,replace:t}),{shortCircuited:!0}}if(qS(s))throw VS(400,{type:"defer-action"});if(WS(s)){let e=FS(r,l.route.id);return!0!==(o&&o.replace)&&(T=_E.Push),{matches:r,pendingActionResult:[e.route.id,s]}}return{matches:r,pendingActionResult:[l.route.id,s]}}(p,n,r.submission,a,h.active,{replace:r.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(WS(r)&&rS(r.error)&&404===r.error.status)return E=null,void K(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}a=t.matches||a,d=t.pendingActionResult,s=tT(n,r.submission),l=!1,h.active=!1,p=NS(e.history,p.url,p.signal)}let{shortCircuited:m,matches:y,loaderData:_,errors:b}=await async function(t,n,r,i,s,a,l,h,d,p,m){let g=s||tT(n,a),y=a||l||eT(g),v=!P&&(!f.v7_partialHydration||!d);if(i){if(v){let e=Q(m);W(vE({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:p})}let e=await ge(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{error:t,notFoundMatches:r,route:i}=he(n.pathname,e);return{matches:r,loaderData:{},errors:{[i.id]:t}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=ue(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let _=o||c,[b,w]=bS(e.history,S,r,y,n,f.v7_partialHydration&&!0===d,f.unstable_skipActionErrorRevalidation,R,N,x,V,F,U,_,u,m);if(de((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),L=++O,0===b.length&&0===w.length){let e=oe();return K(n,vE({matches:r,loaderData:{},errors:m&&WS(m[1])?{[m[0]]:m[1].error}:null},US(m),e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(v){let e={};if(!i){e.navigation=g;let t=Q(m);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=S.fetchers.get(e.key),n=nT(void 0,t?t.data:void 0);S.fetchers.set(e.key,n)})),new Map(S.fetchers)}(w)),W(e,{flushSync:p})}w.forEach((e=>{D.has(e.key)&&re(e.key),e.controller&&D.set(e.key,e.controller)}));let T=()=>w.forEach((e=>re(e.key)));E&&E.signal.addEventListener("abort",T);let{loaderResults:C,fetcherResults:I}=await J(S.matches,r,b,w,t);if(t.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",T);w.forEach((e=>D.delete(e.key)));let k=zS([...C,...I]);if(k){if(k.idx>=b.length){let e=w[k.idx-b.length].key;U.add(e)}return await Y(t,k.result,{replace:h}),{shortCircuited:!0}}let{loaderData:A,errors:M}=LS(S,r,b,C,m,w,I,z);z.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&z.delete(t)}))})),f.v7_partialHydration&&d&&S.errors&&Object.entries(S.errors).filter((e=>{let[t]=e;return!b.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;M=Object.assign(M||{},{[t]:n})}));let j=oe(),B=se(L),H=j||B||w.length>0;return vE({matches:r,loaderData:A,errors:M},H?{fetchers:new Map(S.fetchers)}:{})}(p,n,a,h.active,s,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,l,d);m||(E=null,K(n,vE({matches:y||a},US(d),{loaderData:_,errors:b})))}function Q(e){return e&&!WS(e[1])?{[e[0]]:e[1].data}:S.actionData?0===Object.keys(S.actionData).length?null:S.actionData:void 0}async function Y(r,i,o){let{submission:s,fetcherSubmission:a,replace:l}=void 0===o?{}:o;i.response.headers.has("X-Remix-Revalidate")&&(R=!0);let c=i.response.headers.get("Location");EE(c,"Expected a Location header on the redirect Response"),c=RS(c,new URL(r.url),u);let h=CE(S.location,c,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(fS.test(c)){const r=e.history.createURL(c);n=r.origin!==t.location.origin||null==GE(r.pathname,u)}if(n)return void(l?t.location.replace(c):t.location.assign(c))}E=null;let d=!0===l?_E.Replace:_E.Push,{formMethod:f,formAction:p,formEncType:m}=S.navigation;!s&&!a&&f&&p&&m&&(s=eT(S.navigation));let g=s||a;if(cS.has(i.response.status)&&g&&YS(g.formMethod))await G(d,h,{submission:vE({},g,{formAction:c}),preventScrollReset:C});else{let e=tT(h,s);await G(d,h,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:C})}}async function X(e,t,n,r){try{let o=await kS(h,e,t,n,r,l,i);return await Promise.all(o.map(((e,i)=>{if(HS(e)){let o=e.result;return{type:PE.redirect,response:PS(o,t,n[i].route.id,r,u,f.v7_relativeSplatPath)}}return AS(e)})))}catch(o){return n.map((()=>({type:PE.error,error:o})))}}async function J(t,n,r,i,o){let[s,...a]=await Promise.all([r.length?X("loader",o,r,n):[],...i.map((t=>{if(t.matches&&t.match&&t.controller){return X("loader",NS(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:PE.error,error:VS(404,{pathname:t.path})})}))]);return await Promise.all([XS(t,r,s,s.map((()=>o.signal)),!1,S.loaderData),XS(t,i.map((e=>e.match)),a,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:s,fetcherResults:a}}function $(){R=!0,N.push(...de()),F.forEach(((e,t)=>{D.has(t)&&(x.push(t),re(t))}))}function Z(e,t,n){void 0===n&&(n={}),S.fetchers.set(e,t),W({fetchers:new Map(S.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ee(e,t,n,r){void 0===r&&(r={});let i=FS(S.matches,t);ne(e),W({errors:{[i.route.id]:n},fetchers:new Map(S.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function te(e){return f.v7_fetcherPersist&&(j.set(e,(j.get(e)||0)+1),V.has(e)&&V.delete(e)),S.fetchers.get(e)||hS}function ne(e){let t=S.fetchers.get(e);!D.has(e)||t&&"loading"===t.state&&M.has(e)||re(e),F.delete(e),M.delete(e),U.delete(e),V.delete(e),S.fetchers.delete(e)}function re(e){let t=D.get(e);EE(t,"Expected fetch controller: "+e),t.abort(),D.delete(e)}function ie(e){for(let t of e){let e=rT(te(t).data);S.fetchers.set(t,e)}}function oe(){let e=[],t=!1;for(let n of U){let r=S.fetchers.get(n);EE(r,"Expected fetcher: "+n),"loading"===r.state&&(U.delete(n),e.push(n),t=!0)}return ie(e),t}function se(e){let t=[];for(let[n,r]of M)if(r<e){let e=S.fetchers.get(n);EE(e,"Expected fetcher: "+n),"loading"===e.state&&(re(n),M.delete(n),t.push(n))}return ie(t),t.length>0}function ae(e){S.blockers.delete(e),B.delete(e)}function le(e,t){let n=S.blockers.get(e)||dS;EE("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(S.blockers);r.set(e,t),W({blockers:r})}function ce(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===B.size)return;B.size>1&&SE(!1,"A router only supports one blocker at a time");let i=Array.from(B.entries()),[o,s]=i[i.length-1],a=S.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function ue(e){let t=VS(404,{pathname:e}),n=o||c,{matches:r,route:i}=jS(n);return de(),{notFoundMatches:r,route:i,error:t}}function he(e,t){let n=t.partialMatches,r=n[n.length-1].route;return{notFoundMatches:n,route:r,error:VS(400,{type:"route-discovery",routeId:r.id,pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function de(e){let t=[];return z.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),z.delete(r))})),t}function fe(e,t){if(y){let n=y(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,S.loaderData))));return n||e.key}return e.key}function pe(e,t){if(g){let n=fe(e,t),r=g[n];if("number"===typeof r)return r}return null}function me(e,t,n){if(d){if(!e){return{active:!0,matches:DE(t,n,u,!0)||[]}}{let r=e[e.length-1].route;if(r.path&&("*"===r.path||r.path.endsWith("/*"))){return{active:!0,matches:DE(t,n,u,!0)}}}}return{active:!1,matches:null}}async function ge(e,t,n){let r=e,s=r.length>0?r[r.length-1].route:null;for(;;){let e=null==o,h=o||c;try{await SS(d,t,r,h,l,i,H,n)}catch(a){return{type:"error",error:a,partialMatches:r}}finally{e&&(c=[...c])}if(n.aborted)return{type:"aborted"};let f=xE(h,t,u),p=!1;if(f){let e=f[f.length-1].route;if(e.index)return{type:"success",matches:f};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:f};p=!0}}let m=DE(h,t,u,!0);if(!m||r.map((e=>e.route.id)).join("-")===m.map((e=>e.route.id)).join("-"))return{type:"success",matches:p?f:null};if(r=m,s=r[r.length-1].route,"*"===s.path)return{type:"success",matches:r}}}return a={get basename(){return u},get future(){return f},get state(){return S},get routes(){return c},get window(){return t},initialize:function(){if(p=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(q)return void(q=!1);SE(0===B.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ce({currentLocation:S.location,nextLocation:r,historyAction:n});return o&&null!=i?(q=!0,e.history.go(-1*i),void le(o,{state:"blocked",location:r,proceed(){le(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(S.blockers);e.set(o,dS),W({blockers:e})}})):G(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(mS);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,k);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(mS,JSON.stringify(n))}catch(Dy){SE(!1,"Failed to save applied view transitions in sessionStorage ("+Dy+").")}}}(t,k);t.addEventListener("pagehide",e),A=()=>t.removeEventListener("pagehide",e)}return S.initialized||G(_E.Pop,S.location,{initialHydration:!0}),a},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,v=t,y=n||null,!_&&S.navigation===uS){_=!0;let e=pe(S.location,S.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{g=null,v=null,y=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=yS(S.location,S.matches,u,f.v7_prependBasename,n,f.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:s,error:a}=vS(f.v7_normalizeFormMethod,!1,i,r),l=S.location,c=CE(S.location,o,r&&r.state);c=vE({},c,e.history.encodeLocation(c));let h=r&&null!=r.replace?r.replace:void 0,d=_E.Push;!0===h?d=_E.Replace:!1===h||null!=s&&YS(s.formMethod)&&s.formAction===S.location.pathname+S.location.search&&(d=_E.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.unstable_flushSync),g=ce({currentLocation:l,nextLocation:c,historyAction:d});if(!g)return await G(d,c,{submission:s,pendingError:a,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:m});le(g,{state:"blocked",location:c,proceed(){le(g,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,r)},reset(){let e=new Map(S.blockers);e.set(g,dS),W({blockers:e})}})},fetch:function(t,n,i,s){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(t)&&re(t);let a=!0===(s&&s.unstable_flushSync),l=o||c,h=yS(S.location,S.matches,u,f.v7_prependBasename,i,f.v7_relativeSplatPath,n,null==s?void 0:s.relative),d=xE(l,h,u),p=me(d,l,h);if(p.active&&p.matches&&(d=p.matches),!d)return void ee(t,n,VS(404,{pathname:h}),{flushSync:a});let{path:m,submission:g,error:y}=vS(f.v7_normalizeFormMethod,!0,h,s);if(y)return void ee(t,n,y,{flushSync:a});let v=ZS(d,m);C=!0===(s&&s.preventScrollReset),g&&YS(g.formMethod)?async function(t,n,r,i,s,a,l,h){function d(e){if(!e.route.action&&!e.route.lazy){let e=VS(405,{method:h.formMethod,pathname:r,routeId:n});return ee(t,n,e,{flushSync:l}),!0}return!1}if($(),F.delete(t),!a&&d(i))return;let p=S.fetchers.get(t);Z(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,p),{flushSync:l});let m=new AbortController,g=NS(e.history,r,m.signal,h);if(a){let e=await ge(s,r,g.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=he(r,e);return void ee(t,n,i,{flushSync:l})}if(!e.matches)return void ee(t,n,VS(404,{pathname:r}),{flushSync:l});if(d(i=ZS(s=e.matches,r)))return}D.set(t,m);let y=O,v=await X("action",g,[i],s),_=v[0];if(g.signal.aborted)return void(D.get(t)===m&&D.delete(t));if(f.v7_fetcherPersist&&V.has(t)){if(KS(_)||WS(_))return void Z(t,rT(void 0))}else{if(KS(_))return D.delete(t),L>y?void Z(t,rT(void 0)):(U.add(t),Z(t,nT(h)),Y(g,_,{fetcherSubmission:h}));if(WS(_))return void ee(t,n,_.error)}if(qS(_))throw VS(400,{type:"defer-action"});let b=S.navigation.location||S.location,w=NS(e.history,b,m.signal),C=o||c,I="idle"!==S.navigation.state?xE(C,S.navigation.location,u):S.matches;EE(I,"Didn't find any matches after fetcher action");let k=++O;M.set(t,k);let A=nT(h,_.data);S.fetchers.set(t,A);let[P,j]=bS(e.history,S,I,h,b,!1,f.unstable_skipActionErrorRevalidation,R,N,x,V,F,U,C,u,[i.route.id,_]);j.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=S.fetchers.get(t),r=nT(void 0,n?n.data:void 0);S.fetchers.set(t,r),D.has(t)&&re(t),e.controller&&D.set(t,e.controller)})),W({fetchers:new Map(S.fetchers)});let B=()=>j.forEach((e=>re(e.key)));m.signal.addEventListener("abort",B);let{loaderResults:H,fetcherResults:q}=await J(S.matches,I,P,j,w);if(m.signal.aborted)return;m.signal.removeEventListener("abort",B),M.delete(t),D.delete(t),j.forEach((e=>D.delete(e.key)));let G=zS([...H,...q]);if(G){if(G.idx>=P.length){let e=j[G.idx-P.length].key;U.add(e)}return Y(w,G.result)}let{loaderData:Q,errors:te}=LS(S,S.matches,P,H,void 0,j,q,z);if(S.fetchers.has(t)){let e=rT(_.data);S.fetchers.set(t,e)}se(k),"loading"===S.navigation.state&&k>L?(EE(T,"Expected pending action"),E&&E.abort(),K(S.navigation.location,{matches:I,loaderData:Q,errors:te,fetchers:new Map(S.fetchers)})):(W({errors:te,loaderData:MS(S.loaderData,Q,I,te),fetchers:new Map(S.fetchers)}),R=!1)}(t,n,m,v,d,p.active,a,g):(F.set(t,{routeId:n,path:m}),async function(t,n,r,i,o,s,a,l){let c=S.fetchers.get(t);Z(t,nT(l,c?c.data:void 0),{flushSync:a});let u=new AbortController,h=NS(e.history,r,u.signal);if(s){let e=await ge(o,r,h.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=he(r,e);return void ee(t,n,i,{flushSync:a})}if(!e.matches)return void ee(t,n,VS(404,{pathname:r}),{flushSync:a});i=ZS(o=e.matches,r)}D.set(t,u);let d=O,f=await X("loader",h,[i],o),p=f[0];qS(p)&&(p=await JS(p,h.signal,!0)||p);D.get(t)===u&&D.delete(t);if(h.signal.aborted)return;if(V.has(t))return void Z(t,rT(void 0));if(KS(p))return L>d?void Z(t,rT(void 0)):(U.add(t),void await Y(h,p));if(WS(p))return void ee(t,n,p.error);EE(!qS(p),"Unhandled fetcher deferred data"),Z(t,rT(p.data))}(t,n,m,v,d,p.active,a,g))},revalidate:function(){$(),W({revalidation:"loading"}),"submitting"!==S.navigation.state&&("idle"!==S.navigation.state?G(T||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation}):G(S.historyAction,S.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:te,deleteFetcher:function(e){if(f.v7_fetcherPersist){let t=(j.get(e)||0)-1;t<=0?(j.delete(e),V.add(e)):j.set(e,t)}else ne(e);W({fetchers:new Map(S.fetchers)})},dispose:function(){p&&p(),A&&A(),m.clear(),E&&E.abort(),S.fetchers.forEach(((e,t)=>ne(t))),S.blockers.forEach(((e,t)=>ae(t)))},getBlocker:function(e,t){let n=S.blockers.get(e)||dS;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:ae,patchRoutes:function(e,t){let n=null==o;TS(e,t,o||c,l,i),n&&(c=[...c],W({}))},_internalFetchControllers:D,_internalActiveDeferreds:z,_internalSetRoutes:function(e){l={},o=NE(e,i,void 0,l)}},a}Symbol("deferred");function yS(e,t,n,r,i,o,s,a){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let u=JE(i||".",XE(l,o),GE(e.pathname,n)||e.pathname,"path"===a);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||$S(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:$E([n,u.pathname])),IE(u)}function vS(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!QS(r.formMethod))return{path:n,error:VS(405,{method:r.formMethod})};let i,o,s=()=>({path:n,error:VS(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),c=BS(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!YS(l))return s();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!YS(l))return s();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(d){return s()}}}if(EE("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=xS(r.formData),o=r.formData;else if(r.body instanceof FormData)i=xS(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=DS(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=DS(i)}catch(d){return s()}let u={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(YS(u.formMethod))return{path:n,submission:u};let h=kE(n);return t&&h.search&&$S(h.search)&&i.append("index",""),h.search="?"+i,{path:IE(h),submission:u}}function _S(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function bS(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p,m){let g=m?WS(m[1])?m[1].error:m[1].data:void 0,y=e.createURL(t.location),v=e.createURL(i),_=m&&WS(m[1])?m[0]:void 0,b=_?_S(n,_):n,w=m?m[1].statusCode:void 0,E=s&&w&&w>=400,S=b.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return!("function"===typeof i.loader&&!i.loader.hydrate)||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let s=t.matches[n],c=e;return ES(e,vE({currentUrl:y,currentParams:s.params,nextUrl:v,nextParams:c.params},r,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:!E&&(a||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||wS(s,c))}))})),T=[];return h.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||u.has(i))return;let s=xE(f,e.path,p);if(!s)return void T.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),h=ZS(s,e.path),m=!1;m=!d.has(i)&&(!!c.includes(i)||(l&&"idle"!==l.state&&void 0===l.data?a:ES(h,vE({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:!E&&a})))),m&&T.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})})),[S,T]}function wS(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ES(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function SS(e,t,n,r,i,o,s,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let c=s.get(l);c||(c=e({path:t,matches:n,patch:(e,t)=>{a.aborted||TS(e,t,r,i,o)}}),s.set(l,c)),c&&function(e){return"object"===typeof e&&null!=e&&"then"in e}(c)&&await c}finally{s.delete(l)}}function TS(e,t,n,r,i){if(e){var o;let n=r[e];EE(n,"No route found to patch children into: routeId = "+e);let s=NE(t,i,[e,"patch",String((null==(o=n.children)?void 0:o.length)||"0")],r);n.children?n.children.push(...s):n.children=s}else{let e=NE(t,i,["patch",String(n.length||"0")],r);n.push(...e)}}async function CS(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];EE(i,"No route found in manifest");let o={};for(let s in r){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;SE(!e,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||RE.has(s)||(o[s]=r[s])}Object.assign(i,o),Object.assign(i,vE({},t(i),{lazy:void 0}))}function IS(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function kS(e,t,n,r,i,o,s,a){let l=r.reduce(((e,t)=>e.add(t.route.id)),new Set),c=new Set,u=await e({matches:i.map((e=>{let r=l.has(e.route.id);return vE({},e,{shouldLoad:r,resolve:i=>(c.add(e.route.id),r?async function(e,t,n,r,i,o,s){let a,l,c=r=>{let i,a=new Promise(((e,t)=>i=t));l=()=>i(),t.signal.addEventListener("abort",l);let c,u=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:s},...void 0!==i?[i]:[]);return c=o?o((e=>u(e))):(async()=>{try{return{type:"data",result:await u()}}catch(e){return{type:"error",result:e}}})(),Promise.race([c,a])};try{let o=n.route[e];if(n.route.lazy)if(o){let e,[t]=await Promise.all([c(o).catch((t=>{e=t})),CS(n.route,i,r)]);if(void 0!==e)throw e;a=t}else{if(await CS(n.route,i,r),o=n.route[e],!o){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw VS(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:PE.data,result:void 0}}a=await c(o)}else{if(!o){let e=new URL(t.url);throw VS(404,{pathname:e.pathname+e.search})}a=await c(o)}EE(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(u){return{type:PE.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return a}(t,n,e,o,s,i,a):Promise.resolve({type:PE.data,result:void 0}))})})),request:n,params:i[0].params,context:a});return i.forEach((e=>EE(c.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),u.filter(((e,t)=>l.has(i[t].route.id)))}async function AS(e){let{result:t,type:n,status:r}=e;if(GS(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(s){return{type:PE.error,error:s}}return n===PE.error?{type:PE.error,error:new nS(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:PE.data,data:e,statusCode:t.status,headers:t.headers}}return n===PE.error?{type:PE.error,error:t,statusCode:rS(t)?t.status:r}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:PE.deferred,deferredData:t,statusCode:null==(i=t.init)?void 0:i.status,headers:(null==(o=t.init)?void 0:o.headers)&&new Headers(t.init.headers)}:{type:PE.data,data:t,statusCode:r};var i,o}function PS(e,t,n,r,i,o){let s=e.headers.get("Location");if(EE(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!fS.test(s)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);s=yS(new URL(t.url),a,i,!0,s,o),e.headers.set("Location",s)}return e}function RS(e,t,n){if(fS.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=null!=GE(i.pathname,n);if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function NS(e,t,n,r){let i=e.createURL(BS(t)).toString(),o={signal:n};if(r&&YS(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=xS(r.formData):o.body=r.formData}return new Request(i,o)}function xS(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function DS(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function OS(e,t,n,r,i,o){let s,a={},l=null,c=!1,u={},h=r&&WS(r[1])?r[1].error:void 0;return n.forEach(((n,r)=>{let d=t[r].route.id;if(EE(!KS(n),"Cannot handle redirect results in processLoaderData"),WS(n)){let t=n.error;if(void 0!==h&&(t=h,h=void 0),l=l||{},o)l[d]=t;else{let n=FS(e,d);null==l[n.route.id]&&(l[n.route.id]=t)}a[d]=void 0,c||(c=!0,s=rS(n.error)?n.error.status:500),n.headers&&(u[d]=n.headers)}else qS(n)?(i.set(d,n.deferredData),a[d]=n.deferredData.data,null==n.statusCode||200===n.statusCode||c||(s=n.statusCode),n.headers&&(u[d]=n.headers)):(a[d]=n.data,n.statusCode&&200!==n.statusCode&&!c&&(s=n.statusCode),n.headers&&(u[d]=n.headers))})),void 0!==h&&r&&(l={[r[0]]:h},a[r[0]]=void 0),{loaderData:a,errors:l,statusCode:s||200,loaderHeaders:u}}function LS(e,t,n,r,i,o,s,a){let{loaderData:l,errors:c}=OS(t,n,r,i,a,!1);for(let u=0;u<o.length;u++){let{key:t,match:n,controller:r}=o[u];EE(void 0!==s&&void 0!==s[u],"Did not find corresponding fetcher result");let i=s[u];if(!r||!r.signal.aborted)if(WS(i)){let r=FS(e.matches,null==n?void 0:n.route.id);c&&c[r.route.id]||(c=vE({},c,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(KS(i))EE(!1,"Unhandled fetcher revalidation redirect");else if(qS(i))EE(!1,"Unhandled fetcher deferred data");else{let n=rT(i.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function MS(e,t,n,r){let i=vE({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function US(e){return e?WS(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function FS(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function jS(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function VS(e,t){let{pathname:n,routeId:r,method:i,type:o,message:s}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===o?l='Unable to match URL "'+n+'" - the `children()` function for route `'+r+"` threw the following error:\n"+s:i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?l="defer() is not supported in actions":"invalid-body"===o&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new nS(e||500,a,new Error(l),!0)}function zS(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(KS(n))return{result:n,idx:t}}}function BS(e){return IE(vE({},"string"===typeof e?kE(e):e,{hash:""}))}function HS(e){return GS(e.result)&&lS.has(e.result.status)}function qS(e){return e.type===PE.deferred}function WS(e){return e.type===PE.error}function KS(e){return(e&&e.type)===PE.redirect}function GS(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function QS(e){return aS.has(e.toLowerCase())}function YS(e){return oS.has(e.toLowerCase())}async function XS(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!wS(c,l)&&void 0!==(o&&o[l.route.id]);if(qS(a)&&(i||u)){let e=r[s];EE(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await JS(a,e,i).then((e=>{e&&(n[s]=e||n[s])}))}}}async function JS(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:PE.data,data:e.deferredData.unwrappedData}}catch(r){return{type:PE.error,error:r}}return{type:PE.data,data:e.deferredData.data}}}function $S(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ZS(e,t){let n="string"===typeof t?kE(t).search:t.search;if(e[e.length-1].route.index&&$S(n||""))return e[e.length-1];let r=YE(e);return r[r.length-1]}function eT(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function tT(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nT(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rT(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iT(){return iT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iT.apply(this,arguments)}const oT=e.createContext(null);const sT=e.createContext(null);const aT=e.createContext(null);const lT=e.createContext(null);const cT=e.createContext({outlet:null,matches:[],isDataRoute:!1});const uT=e.createContext(null);function hT(){return null!=e.useContext(lT)}function dT(){return hT()||EE(!1),e.useContext(lT).location}function fT(t){e.useContext(aT).static||e.useLayoutEffect(t)}function pT(){let{isDataRoute:t}=e.useContext(cT);return t?function(){let{router:t}=TT(ET.UseNavigateStable),n=IT(ST.UseNavigateStable),r=e.useRef(!1);fT((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,iT({fromRouteId:n},i)))}),[t,n]);return i}():function(){hT()||EE(!1);let t=e.useContext(oT),{basename:n,future:r,navigator:i}=e.useContext(aT),{matches:o}=e.useContext(cT),{pathname:s}=dT(),a=JSON.stringify(XE(o,r.v7_relativeSplatPath)),l=e.useRef(!1);fT((()=>{l.current=!0}));let c=e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void i.go(e);let o=JE(e,JSON.parse(a),s,"path"===r.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:$E([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,t]);return c}()}function mT(t,n){let{relative:r}=void 0===n?{}:n,{future:i}=e.useContext(aT),{matches:o}=e.useContext(cT),{pathname:s}=dT(),a=JSON.stringify(XE(o,i.v7_relativeSplatPath));return e.useMemo((()=>JE(t,JSON.parse(a),s,"path"===r)),[t,a,s,r])}function gT(t,n,r,i){hT()||EE(!1);let{navigator:o}=e.useContext(aT),{matches:s}=e.useContext(cT),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,h=dT();if(n){var d;let e="string"===typeof n?kE(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||EE(!1),u=e}else u=h;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=xE(t,{pathname:p});let g=wT(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:$E([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:$E([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&g?e.createElement(lT.Provider,{value:{location:iT({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_E.Pop}},g):g}function yT(){let t=function(){var t;let n=e.useContext(uT),r=CT(ST.UseRouteError),i=IT(ST.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=rS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,null)}const vT=e.createElement(yT,null);class _T extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(cT.Provider,{value:this.props.routeContext},e.createElement(uT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bT(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(oT);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(cT.Provider,{value:n},i)}function wT(t,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var s;if(null==(s=r)||!s.errors)return null;t=r.matches}let a=t,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||EE(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((t,i,o)=>{let s,h=!1,d=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||vT,c&&(u<0&&0===o?(p="route-fallback",!1||kT[p]||(kT[p]=!0),h=!0,f=null):u===o&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?d:h?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(bT,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?e.createElement(_T,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ET=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ET||{}),ST=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ST||{});function TT(t){let n=e.useContext(oT);return n||EE(!1),n}function CT(t){let n=e.useContext(sT);return n||EE(!1),n}function IT(t){let n=function(t){let n=e.useContext(cT);return n||EE(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||EE(!1),r.route.id}const kT={};t.startTransition;function AT(e){EE(!1)}function PT(t){let{basename:n="/",children:r=null,location:i,navigationType:o=_E.Pop,navigator:s,static:a=!1,future:l}=t;hT()&&EE(!1);let c=n.replace(/^\/*/,"/"),u=e.useMemo((()=>({basename:c,navigator:s,static:a,future:iT({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof i&&(i=kE(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=e.useMemo((()=>{let e=GE(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:o}}),[c,h,d,f,p,m,o]);return null==g?null:e.createElement(aT.Provider,{value:u},e.createElement(lT.Provider,{children:r,value:g}))}function RT(e){let{children:t,location:n}=e;return gT(NT(t),n)}new Promise((()=>{}));e.Component;function NT(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let o=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,NT(t.props.children,o));t.type!==AT&&EE(!1),t.props.index&&t.props.children&&EE(!1);let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=NT(t.props.children,o)),r.push(s)})),r}function xT(t){let n={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(n,{element:e.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),n}function DT(){return DT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DT.apply(this,arguments)}function OT(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const LT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],MT=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(AR){}function UT(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=DT({},t,{errors:FT(t.errors)})),t}function FT(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new nS(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(AR){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const jT=e.createContext({isTransitioning:!1});new Map;const VT=t.startTransition;a.flushSync,t.useId;function zT(t){let{basename:n,children:r,future:i,window:o}=t,s=e.useRef();null==s.current&&(s.current=wE({window:o,v5Compat:!0}));let a=s.current,[l,c]=e.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},h=e.useCallback((e=>{u&&VT?VT((()=>c(e))):c(e)}),[c,u]);return e.useLayoutEffect((()=>a.listen(h)),[a,h]),e.createElement(PT,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:i})}const BT="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qT=e.forwardRef((function(t,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=t,f=OT(t,LT),{basename:p}=e.useContext(aT),m=!1;if("string"===typeof u&&HT.test(u)&&(r=u,BT))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=GE(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(AR){}let g=function(t,n){let{relative:r}=void 0===n?{}:n;hT()||EE(!1);let{basename:i,navigator:o}=e.useContext(aT),{hash:s,pathname:a,search:l}=mT(t,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:$E([i,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),y=function(t,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=pT(),u=dT(),h=mT(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==i?i:IE(u)===IE(h);c(t,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,o,r,t,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,unstable_viewTransition:d});return e.createElement("a",DT({},f,{href:r||g,onClick:m||s?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:c}))}));const WT=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:u}=t,h=OT(t,MT),d=mT(l,{relative:h.relative}),f=dT(),p=e.useContext(sT),{navigator:m,basename:g}=e.useContext(aT),y=null!=p&&function(t,n){void 0===n&&(n={});let r=e.useContext(jT);null==r&&EE(!1);let{basename:i}=QT(KT.useViewTransitionState),o=mT(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=GE(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=GE(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=WE(o.pathname,a)||null!=WE(o.pathname,s)}(d)&&!0===c,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,_=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(_=_.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&g&&(b=GE(b,g)||b);const w="/"!==v&&v.endsWith("/")?v.length-1:v.length;let E,S=_===v||!s&&_.startsWith(v)&&"/"===_.charAt(w),T=null!=b&&(b===v||!s&&b.startsWith(v)&&"/"===b.charAt(v.length)),C={isActive:S,isPending:T,isTransitioning:y},I=S?r:void 0;E="function"===typeof o?o(C):[o,S?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k="function"===typeof a?a(C):a;return e.createElement(qT,DT({},h,{"aria-current":I,className:E,ref:n,style:k,to:l,unstable_viewTransition:c}),"function"===typeof u?u(C):u)}));var KT,GT;function QT(t){let n=e.useContext(oT);return n||EE(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(KT||(KT={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(GT||(GT={}));const YT="login_container__rPYAq",XT="login_icon-div__4AmVT",JT="login_left-half__XXGEK",$T="login_right-half__67nN4",ZT="login_paragraph-signup__4CH5f",eC="login_password-container__mQMWH",tC="login_password-input__xgYyX",nC="login_eye-icon__oBrsu",rC="login_slider__UoGbl",iC="login_slider-button__M1gri",oC="login_image-card__KOY6A",sC=n.p+"static/media/piggybank.891cdc00635a4aabebc5.png",aC=n.p+"static/media/piggybank2.88577515624ddd92cb33.png",lC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAACXBIWXMAAAdiAAAHYgE4epnbAAAE7WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CiAgICAgICAgPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpkYz0naHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nPgogICAgICAgIDxkYzp0aXRsZT4KICAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPk1vbmV5TWFwcyAtIDE8L3JkZjpsaT4KICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgPC9kYzp0aXRsZT4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogICAgICAgIDxBdHRyaWI6QWRzPgogICAgICAgIDxyZGY6U2VxPgogICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTA3LTE1PC9BdHRyaWI6Q3JlYXRlZD4KICAgICAgICA8QXR0cmliOkV4dElkPjIzMGZkZjQ4LWQyYzItNGY5MC05NmE3LThhZWViZmQ0YTIwMjwvQXR0cmliOkV4dElkPgogICAgICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgPC9yZGY6U2VxPgogICAgICAgIDwvQXR0cmliOkFkcz4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogICAgICAgIDxwZGY6QXV0aG9yPnVtZXIgbmFlZW08L3BkZjpBdXRob3I+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CgogICAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgICAgICAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhIChSZW5kZXJlcik8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgICAKICAgICAgICA8L3JkZjpSREY+CiAgICAgICAgPC94OnhtcG1ldGE+XiJrDwAAF01JREFUeJzt3Xl4TFfjB/Bv9iBEUbGEauRVTYiqBol9iVgjiFBBX2sstbxRL6UlaBWtlFaINNSuTUgotQQtpWIpivKiqNYaIpKIJcvM/P7IL5PcJDNzZ4mYOd/P83ge5+beMzd5nu+cc+859x4r1zf6qEBEFs26rE+AiEofg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kAAadSAAMOpEAGHQiATDoRAJg0IkEwKATCYBBJxIAg04kANuyPoHS5OpiBecKVsjKUSE9E3jwSFXWp6RV0yYNMHXSIMm22PgD2LbzsF71RHz2Pmq4VFOX7yWnIOzDZVqPiVwchldeqaQunzh1EUsiY7UesyFmFqytS24rVCol0tOfICU1HafOXMbeA8fx/Hm2Hr8FmZLFBb1SBSuEh9qiv59NsZ/dSlYhZlsuVm1TvNBzatqkAfw6emPRlxu17lfllYpo4+sl2VbH9VXs3H0UuQp55+zX0Rv9+3SUbPvr77taj2nh7YGAHq0l2xp7umFFTAKysnI0Htfaxws2Nro7hcMGd0d6RiYWfrkJ6zfv0bk/mZ5Fdd093ayRtNa+xJADeS18eKgdYhfao1IFq1I/n5o1qmLJwknY/t1nqP96LYPqqFe3Jt4N9pO9//jRffX+jKDe7Yttq+zshB7+vnrXpYlzJSfMnz0a08JCTFYnyWcxLbqrixViF9nJCrCPlzViZtkheFrpdCXt7e0wdmQgxo/ui3KODkbXFzosAJtj9+ls1Tu1b4Zmb72hV912drbo0ql5iT/r3aMN4n84JKue5Pup+GbNDnXZ2toaVatUQmsfL3i++bp6+9gRfXD417M4evwPvc6TjGMxQY8IkxfyfD5e1ujvZ4O4fabtxvt19Mbs6cPwWt0aJqvztbo1MGiAH9Zt0t7tHT+6n951d+/igyqFrs2zsnLg4GAHAGjt0xjVqlZGysM0nfWkpWdi5ertJf5secQU9OreCgBgY2ONkOAuDPoLZhFdd083a/h46f+rhIWY7nvO3a024tbPw+rlH5o05PlCh/WGrU3JlyQA0KHt2/B+u6He9Qb2aqP+f65Cgchv4tVle3s7BAW217vOouYu/FZSbtrkX0bXSfqxiKAbEnIgr7vv6Wbcn6CysxPCZwzHvh1L0NLb06i6ilIolOr/163jgpCBXTTuOyG0oDVXqVRQKnWPMFSr6ow2Pk3U5RO//Q9rNuyS3IDr1a2VvqddzL3kVKQ+yij43GqVja6T9GMRQXd1MfzGWiUnw46ztrbC0EFdcThxOUYM7am1tTXUT4dOITu7IHRjhveGnV3xXkjbVm/Bu9mb6vKBIsdp0iegnbqbDgC7EpPwKO0xjiSdU29r7OmGN994zdBfAQDg4GCHSpUqqMuZmc+Mqo/0ZxFBNzSshmrp7Ynd8Yvx6azRqOxceh/+ICUNCTt+UZdda1dHSHDxVn3CmILWXKlUYenyOFn1BxRqrbOycvDDj0cAAD/uTVJvt7KyQv/ADnqfe2HvDeom+SK8ev2WUfWR/iwi6LeSDZ8Ik5Epf9+aNapi5VdTEbd+Hjwa1jP4M/XxVdQWSVc6dHiApFVv4+sluWRIPHACv5/7U2e9DdzroEljd3X5SNI5PEp7DAD4cc9RZGY+Vf+sm7+PzvpsbGxQu2Y19T/X2tXxTtOGmBYWgv9Olg6pbd95RGd9ZFoWcdd971El/mPA8OzjJ8CF60qd+5VzdMCYkYEYOzLQ4OGyJ0+fG3TcPzeTEbftZwwekNeSu9aujsEDuuDbDbsAAO+HBqn3VSiUWLpC+2y2fMF9O8LKquCSZ1diQSv+9Nlz/Hz4jPr63LXWq2jfpikOHj6jsT53t9o49nO0zs/99dh5bN6yT9Y5kulYRIt+4boSx87rDmxRMdtyde4T0KM1Du7+GmHvDzAo5NnZOfh65VZ8ODtK72PzLYvagmfPs9Tl0cPyWnXfFo3g26KRevuuxCT8cfEvWXV279JS/f/MJ8/w456jkp/v3C0t9+nV1pBTl0g8cALjwxbLulFIpmURLToAhEflYk+kvez9L15XISZB8xi6R8N6mDNzhFF30g8ePoOZc6Pxz81kg+sAgNt3UxC79Se8F9INQF6rPvTdrujc4R31PrkKhexr87at3kIdVxd1+dCR34v1OBIPnMDD1AxUrZI3xu7XwRvlyzni6TN5PROVSoXHj58iJTUd5/64hm07f8GBg6dkHUumZzFBv3BdibCIHESE2enc9+J1FUbMzUbGk+ItS2VnJ0yfMhjvBvnB2tqwu/n/3EzGzLnRWru6+loWvRVBfTqgQnlHAMDEsUGSiS4/7jmKy3/+I6uuvgHtJOXGHm5I2Dy/2H6F57FXrFgePbv5Ijb+pxLrvPznP+jca7Ksz6cXz2KCDgBx+xS4eE2F8DG2aNm45KuSuP0KhEflFgu5tbUVBg/0x9RJgwy+k/7seRaWrYxH1Kptsoa39HEvORXfbz2A4UN6AIAk5Lm5CiyR2ZqXL+cIv0I9ASBvjL5uHRcNRxQI7NlGY9Dp5WZRQQfyWvb+/82Gp5s1/H0Lwn4zWYWkc8oS79C39PbEnJkjDL6TrlKpsHX7ISxashF37z009NR1ioyOR3CfDnByKi/Zvm3nYVy9Jm/Iqmc3X8mYtj58mjdCrZrVcOduikHHU9mxuKDnu3BdqfOOes0aVRE+Yzi6d9E9fKTJxUs3MH12FM6cvaJ1P4+G9XDx0g2DPwcA7j94hM1x+zFqWIB6W3Z2Dr5aIa81B4DeRR5HnfVJDK7fuKNx/74B7dRdfVtbG/QLaIevV27V88yprFls0LUp5+iA0cMDjHq6LC09E4uWbMLG7/dqvYvs7lYbn80Zg9RHGQid+Lmhp6y2PCYBA4M6o2LFvFY9YccvOp83z1fDpQp8WzRWl+8lp6qH6TR5/Pip5Jq+Z7dWDLoZEi7oAT1aY+YHQ1GrZjXdO5dAqVRhU9w+LIzYgLR0zbNtKjs7YfL4YLwXkjcrrPA4tTFSHqajeYfRsLPNm2mW+UT+dNL+gR1ga1swQ23P/mM6jzl99gqu37gDt3p5z9N7NKyHxp71cf7CNT3PnMqSMEE3xXDZmbNXMH12lNYuuClu6ulSeNaaPnoWeUBl2w55r6jas+84xo3qoy7379OBQTczFjFhRpvKzk5YMHcMdscvNjjkd+6mYNx/FqP3wA+1hvxFzYE3RGMPN8nNxmt/3cap3y/LOnbbzl8k5W5+LQ0eeqSyYeX6Rh+LnKZka2ODQQP8jGpZs7NzsPLbH/D1CunMtKLk3NTblZhkkmt0IkNYZNe9pbcnPpszBu5utQ2uQ86sNlO/MoqotFhU0OvWccHMqUONGi6TO6utNF4ZRVRaLCLo5RwdMHFcEEb/OwD29rqnwJZE7qy2/OEyU79Nhqg0mX3QvRrVR8yy6ahZo6rBdSTs+AWfLV6vdVZb0eEyInNi9kFv1dLL4JDLndU2fEgPhE0YAGcjXmVj7Kw4ImOYfdANIXdWm7Fz4AHg6vXb+HB2FI6dvGBwHUTGEirocme1mWIOfFp6Jj5fugmbvte98AJRaRMm6HJmtZliDrxSqcLmLfuwYLH2L5OXmZ2dLXJydL99h8yHxQf9zt0UfLJoLXbuOQqVSnM33dg58ABw7OQFzP50lcHX42W1mqp/5xbo4e8Dr0b14VqrOhwc7KBQKPEwNR1Xrt7EoSO/4/utB9QvjyxqULAfenYtmF6beOAE1mzU/rAMIF2N9eatZEybtQIAED5jOBq415X1u+b768YdVK3qjEoVCx7BXbtpN/buP671uIgFE1CjesE9HjnHmCOLDbrcWW2mmAN/524KPv1infp1yYZ60auper/dEPM+HiVZGy2fjY01qr/6Cqq/+gpa+3hhQmg/RH4Tj+XfJBTb161eLcl5e7/dEMd/u4D/Xf5b67kWXo218NtxmjR2xztN9Vt1prJzBRxJOoexIwvm5Feu7KQ1tJ3aN5O8yjrlYTp+PXZer881FxY51/3g4TPo0GMiFn25UWPITTEHPjs7B8uit6J9twlGh1yT0lpNdWBQZ3y/dm6JIS9JpUoV8OGUIfg2agbKl3PUuq+joz0Wzh37wufDL/8mQbIiTGMPN/h3bqFx/7Ej+kjKq9buNPiBoZedRbXocma1mWIOPJA3d/3Tz9cZ/eJHOUy9mmrPrr5YMGeM5J1wCoUSv52+hNNnLyPlYTrKl3eEu1tttPFtInltVef272DpokkYNWGh1s9o2qQBxo/uh6+jtug8H13mLVyD7Gzt9wwepqYjLT0TazbuRtj7A9TbQ4f3LrFV92neCC28PdTle8mpiFm3o9h+lsIigi53Vpsp5sCXxXCZKVdTreFSBfPDQyUhv3Tlb/z34xUlzidwruSEaWEhGDLQX72tq18LvBfSDWs37tb6WRPHBGH/zyd1duF1iUv4WeP9gaKiV29HSLAfXKpXAZB3GdHG1wuHj56T7Dd2ZKCkvHL1Njx/XjrLaL8MzL7rfu6Pq2jX9X18tSJOY8gLr7BiaMjT0jMxc240/HpNLpMxcVOtpjp5fDBeqVxRXf7z6k30H/KxxklD6RmZmBG+EitipNfmk8cFv5Rd+CdPnyP62x8k28aOlF7OeDWqj3atm6rLN28lY62OL1FzZ/ZB//XYeY1TV8s5OmDSuP44tGeZwWPiSqUKG2MT0abLOKzbtKdY99nTzRpdfKwxItAGLRtb67VGuy6mXk21QnlHBPZsK9lv6kfLZQ0DLojYIBlNqFbVGf16tytx38LXyfld+Bdp7abduHX7vrrc2qex5ObeuFF9JV8+kdEJFj+caPZB1yR/hZUPJr5r8Jj4sZMX0K3vFEyfFVUsDP072yBpjQP2RNpj1Sx7hIfaIW6RPS5scUBEmJ1RK7zmM/Vqqh3bN1O/Fx4Ajv92UfbLJ5RKFdZvlrZ6Hds3K3HfyOh4ZGQ8UZcnjgkyekVWfWRl5UhGB6ysrNRvyPmXex34d26u/tnV67eFWCLK4oLu0bAe4tbPQ+TiMIPHxO/cTcH4KRHoP+TjEsfEI8LsEDFFc5j7+9lgb6Q9+vsZ9/CLqVdTbdLIXVJOOv6HXuez/+BvkrkIDRuUHN6Uh+lYELFBXS6LLvzG2ERcvX5bXe7YrhkaebyOsSMDJZdAy1ZuEWKJKIu4GQeYZoWVZ8+zEBkdj+jVP2gclosIs5MV4EoVrBARZoeL11SyFnLU5KuoLQjs2Va9jnno8ABsjE1UdzX1WU216Bff1b9ul7ifJveSU5GWnqm+xq/povlhovXf7YV/5xZo1/otAMbdhT91eJXWnyffT4VPpzGSbUqlCstWbsGShZMA5M0LmPHBUDRvVnCn/eKlG9i6/ZDe52OOzL5Ft7GxxtBBXXE4cTlCgrsYHPJdiUlo1/V9LF0epzHkPl7WerfSMbMMez4+X/5qqvnyV1PNp89qquXKSS9h0g2Yovuk0FtnbWysJZcCRU2fHYX0QutSG9qFt7Oz1fmvJFu3H8KF/xUsOtnGt4n6CxOAXu/DN3dmH/QhA7sa9TLGi5duIHjoLIRO/FznKisjA/XvALm6WMHfx7guvKlWUy16w0nXXfOSODoWLGSpUqm0zjq8dfs+Fiw2vguvUCi1/stVaO4xabqMOXP2Cn7ca5pXcJsDs++6F22l5Mp/umzDd9ofVS2si49h34v+vtbYm2T4E2ymWk015WG6pKzvPYzy5RxR2blgaO5R2mOdf7sN3yeiS6fm6ND2bQCGdeGbthomexy9qN37juHU75eLTSRaslzeOvKWwuxbdH3lKhRYtW6nerhMbsg93Qz/U9UxwR34ZdFbJUsbTxwbhNY+BfPL5aymWvTncmbRFdayuYdkAYhrf2leyqmwGeErJaMWL/oufNH5+afPXsFPh06/sM9/GQgV9GMnL8Cv12SEz19tdo+Q5q+mms+Q1VQPHDwl+WLr2L6Zev1zOQb06yQpJx2X9wDIrTsP8Nni9epyfhf+Rblz94GknJKS9sI++2UhRNALD5cVHnLRhzF3zjNM9J0SGR1f4kMXcldTvXX7Po4WCmeF8o4InzFC1md3at8M/p0KHhDJyclFbMLPWo6Q2hS7T9KKNm3SQDINl0qXRf+lnz3PwhdfbTbZ02UXrxs23rrHiOvzwvJXUy1M39VUl63cKmnVA3u2wdyPRmqdXtu+TVMsXTRJEsyEHb/g73/u6XH2wIzwKIOvtV8kR0d7tPD2gHt917I+FZMx+5txmuxKTEL4/NUmXa88ZlsuIsL0Gy67dV+FvUcN7w0UZcxqqkDelOF1m3fj3yHd1duGDe6ONr5NEBv/E5JO/IF7yQ/h5FQeHg3roYe/D7p2li7BdOv2fcz/Yp3e5377bgrmf7Een38yTq/j8n9XbXIVCjx+bPwjpjVcqiB23Ty8/lpNqFQqfLNmB+YtXGN0vWXN4oJ+8dINzP50Vak8eBK3T4Fgv7w57XKFR+Ui44npZl4Zs5pqvjnzv0VNl6qSZ7Xd3WpjxgdDdB57/8EjjJqwEA9TM3TuW5LvtuyHf+fm6Nz+Hd07/79f963Quc/5C9fQvd9Ug86psPdCuuH112oCyJs6O+rfvbBy9Xbcf/DI6LrLksV03fOfLuvWd0qpPl02Yk6O7C58WESOUcNqmmRmPsWjtMd4lPbYoIcxchUKjJ64CCtiEpCbK//8Tp6+hKDBH2kdq5fjoznRL20XXlVkFEalgkVMkTX7oCsMHC4zVMYTFfzHZ+HLjbl4/KTkfW7dVyF4Wjbi9r28b39VKlWY/8V69AiaivgfDmkchVAolDh5+hImT1uKvoNm6HWZoMntuyn49HP9u/4vwur1u3Dl6k0Aeb97ZPRWpDw0/7v0Zr+aqq2tjV6tkik52APurtYovK7D1ZsqPHhkfn9SWxsbvNmwHuq/XgsVncojKzsHyfdTcfb8VbMbijSWrY0N3nzjNaQ+ysDtuyllfTomYfZBJyLdzL7rTkS6MehEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAmDQiQTAoBMJgEEnEgCDTiQABp1IAAw6kQAYdCIBMOhEAvg/k/kqygs5SEYAAAAASUVORK5CYII=";function cC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uC=n(579);var hC=function(){return hC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hC.apply(this,arguments)};Object.create;function dC(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var fC=n(324),pC=n.n(fC),mC="-ms-",gC="-moz-",yC="-webkit-",vC="comm",_C="rule",bC="decl",wC="@import",EC="@keyframes",SC="@layer",TC=Math.abs,CC=String.fromCharCode,IC=Object.assign;function kC(e){return e.trim()}function AC(e,t){return(e=t.exec(e))?e[0]:e}function PC(e,t,n){return e.replace(t,n)}function RC(e,t,n){return e.indexOf(t,n)}function NC(e,t){return 0|e.charCodeAt(t)}function xC(e,t,n){return e.slice(t,n)}function DC(e){return e.length}function OC(e){return e.length}function LC(e,t){return t.push(e),e}function MC(e,t){return e.filter((function(e){return!AC(e,t)}))}var UC=1,FC=1,jC=0,VC=0,zC=0,BC="";function HC(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:UC,column:FC,length:s,return:"",siblings:a}}function qC(e,t){return IC(HC("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function WC(e){for(;e.root;)e=qC(e.root,{children:[e]});LC(e,e.siblings)}function KC(){return zC=VC>0?NC(BC,--VC):0,FC--,10===zC&&(FC=1,UC--),zC}function GC(){return zC=VC<jC?NC(BC,VC++):0,FC++,10===zC&&(FC=1,UC++),zC}function QC(){return NC(BC,VC)}function YC(){return VC}function XC(e,t){return xC(BC,e,t)}function JC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $C(e){return UC=FC=1,jC=DC(BC=e),VC=0,[]}function ZC(e){return BC="",e}function eI(e){return kC(XC(VC-1,rI(91===e?e+2:40===e?e+1:e)))}function tI(e){for(;(zC=QC())&&zC<33;)GC();return JC(e)>2||JC(zC)>3?"":" "}function nI(e,t){for(;--t&&GC()&&!(zC<48||zC>102||zC>57&&zC<65||zC>70&&zC<97););return XC(e,YC()+(t<6&&32==QC()&&32==GC()))}function rI(e){for(;GC();)switch(zC){case e:return VC;case 34:case 39:34!==e&&39!==e&&rI(zC);break;case 40:41===e&&rI(e);break;case 92:GC()}return VC}function iI(e,t){for(;GC()&&e+zC!==57&&(e+zC!==84||47!==QC()););return"/*"+XC(t,VC-1)+"*"+CC(47===e?e:GC())}function oI(e){for(;!JC(QC());)GC();return XC(e,VC)}function sI(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function aI(e,t,n,r){switch(e.type){case SC:if(e.children.length)break;case wC:case bC:return e.return=e.return||e.value;case vC:return"";case EC:return e.return=e.value+"{"+sI(e.children,r)+"}";case _C:if(!DC(e.value=e.props.join(",")))return""}return DC(n=sI(e.children,r))?e.return=e.value+"{"+n+"}":""}function lI(e,t,n){switch(function(e,t){return 45^NC(e,0)?(((t<<2^NC(e,0))<<2^NC(e,1))<<2^NC(e,2))<<2^NC(e,3):0}(e,t)){case 5103:return yC+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yC+e+e;case 4789:return gC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yC+e+gC+e+mC+e+e;case 5936:switch(NC(e,t+11)){case 114:return yC+e+mC+PC(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yC+e+mC+PC(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yC+e+mC+PC(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return yC+e+mC+e+e;case 6165:return yC+e+mC+"flex-"+e+e;case 5187:return yC+e+PC(e,/(\w+).+(:[^]+)/,yC+"box-$1$2"+mC+"flex-$1$2")+e;case 5443:return yC+e+mC+"flex-item-"+PC(e,/flex-|-self/g,"")+(AC(e,/flex-|baseline/)?"":mC+"grid-row-"+PC(e,/flex-|-self/g,""))+e;case 4675:return yC+e+mC+"flex-line-pack"+PC(e,/align-content|flex-|-self/g,"")+e;case 5548:return yC+e+mC+PC(e,"shrink","negative")+e;case 5292:return yC+e+mC+PC(e,"basis","preferred-size")+e;case 6060:return yC+"box-"+PC(e,"-grow","")+yC+e+mC+PC(e,"grow","positive")+e;case 4554:return yC+PC(e,/([^-])(transform)/g,"$1"+yC+"$2")+e;case 6187:return PC(PC(PC(e,/(zoom-|grab)/,yC+"$1"),/(image-set)/,yC+"$1"),e,"")+e;case 5495:case 3959:return PC(e,/(image-set\([^]*)/,yC+"$1$`$1");case 4968:return PC(PC(e,/(.+:)(flex-)?(.*)/,yC+"box-pack:$3"+mC+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yC+e+e;case 4200:if(!AC(e,/flex-|baseline/))return mC+"grid-column-align"+xC(e,t)+e;break;case 2592:case 3360:return mC+PC(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,AC(e.props,/grid-\w+-end/)}))?~RC(e+(n=n[t].value),"span",0)?e:mC+PC(e,"-start","")+e+mC+"grid-row-span:"+(~RC(n,"span",0)?AC(n,/\d+/):+AC(n,/\d+/)-+AC(e,/\d+/))+";":mC+PC(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return AC(e.props,/grid-\w+-start/)}))?e:mC+PC(PC(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return PC(e,/(.+)-inline(.+)/,yC+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(DC(e)-1-t>6)switch(NC(e,t+1)){case 109:if(45!==NC(e,t+4))break;case 102:return PC(e,/(.+:)(.+)-([^]+)/,"$1"+yC+"$2-$3$1"+gC+(108==NC(e,t+3)?"$3":"$2-$3"))+e;case 115:return~RC(e,"stretch",0)?lI(PC(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return PC(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,s,a){return mC+n+":"+r+a+(i?mC+n+"-span:"+(o?s:+s-+r)+a:"")+e}));case 4949:if(121===NC(e,t+6))return PC(e,":",":"+yC)+e;break;case 6444:switch(NC(e,45===NC(e,14)?18:11)){case 120:return PC(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+yC+(45===NC(e,14)?"inline-":"")+"box$3$1"+yC+"$2$3$1"+mC+"$2box$3")+e;case 100:return PC(e,":",":"+mC)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return PC(e,"scroll-","scroll-snap-")+e}return e}function cI(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case bC:return void(e.return=lI(e.value,e.length,n));case EC:return sI([qC(e,{value:PC(e.value,"@","@"+yC)})],r);case _C:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(AC(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":WC(qC(e,{props:[PC(t,/:(read-\w+)/,":"+gC+"$1")]})),WC(qC(e,{props:[t]})),IC(e,{props:MC(n,r)});break;case"::placeholder":WC(qC(e,{props:[PC(t,/:(plac\w+)/,":"+yC+"input-$1")]})),WC(qC(e,{props:[PC(t,/:(plac\w+)/,":"+gC+"$1")]})),WC(qC(e,{props:[PC(t,/:(plac\w+)/,mC+"input-$1")]})),WC(qC(e,{props:[t]})),IC(e,{props:MC(n,r)})}return""}))}}function uI(e){return ZC(hI("",null,null,null,[""],e=$C(e),0,[0],e))}function hI(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,y=1,v=0,_="",b=i,w=o,E=r,S=_;g;)switch(p=v,v=GC()){case 40:if(108!=p&&58==NC(S,h-1)){-1!=RC(S+=PC(eI(v),"&","&\f"),"&\f",TC(c?a[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=eI(v);break;case 9:case 10:case 13:case 32:S+=tI(p);break;case 92:S+=nI(YC()-1,7);continue;case 47:switch(QC()){case 42:case 47:LC(fI(iI(GC(),YC()),t,n,l),l);break;default:S+="/"}break;case 123*m:a[c++]=DC(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=PC(S,/\f/g,"")),f>0&&DC(S)-h&&LC(f>32?pI(S+";",r,n,h-1,l):pI(PC(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(LC(E=dI(S,t,n,c,u,i,a,_,b=[],w=[],h,o),o),123===v)if(0===u)hI(S,t,E,E,b,o,h,a,w);else switch(99===d&&110===NC(S,3)?100:d){case 100:case 108:case 109:case 115:hI(e,E,E,r&&LC(dI(e,E,E,0,0,i,a,_,i,b=[],h,w),w),i,w,h,a,r?b:w);break;default:hI(S,E,E,E,[""],w,0,a,w)}}c=u=f=0,m=y=1,_=S="",h=s;break;case 58:h=1+DC(S),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==KC())continue;switch(S+=CC(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(DC(S)-1)*y,y=1;break;case 64:45===QC()&&(S+=eI(GC())),d=QC(),u=h=DC(_=S+=oI(YC())),v++;break;case 45:45===p&&2==DC(S)&&(m=0)}}return o}function dI(e,t,n,r,i,o,s,a,l,c,u,h){for(var d=i-1,f=0===i?o:[""],p=OC(f),m=0,g=0,y=0;m<r;++m)for(var v=0,_=xC(e,d+1,d=TC(g=s[m])),b=e;v<p;++v)(b=kC(g>0?f[v]+" "+_:PC(_,/&\f/g,f[v])))&&(l[y++]=b);return HC(e,t,n,0===i?_C:a,l,c,u,h)}function fI(e,t,n,r){return HC(e,t,n,vC,CC(zC),xC(e,2,-2),0,r)}function pI(e,t,n,r,i){return HC(e,t,n,bC,xC(e,0,r),xC(e,r+1,-1),r,i)}var mI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gI="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.SC_ATTR)||"data-styled",yI="active",vI="data-styled-version",_I="6.1.11",bI="/*!sc*/\n",wI="undefined"!=typeof window&&"HTMLElement"in window,EI=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyDcRUCNQ_HHXd-YlW0DOnQ49MheeKLPlCY",REACT_APP_APPID:"1:662422929470:web:5145e926694cedc661116f",REACT_APP_AUTHDOMAIN:"financeapp-4593b.firebaseapp.com",REACT_APP_DESCRIPTION:"Using .env file in React js",REACT_APP_MEASUREMENTID:"G-GGB1Y3R83Z",REACT_APP_MESSAGINGSENDERID:"662422929470",REACT_APP_PROJECTID:"financeapp-4593b",REACT_APP_STORAGEBUCKET:"financeapp-4593b.appspot.com",REACT_APP_TITLE:"Finance App"}.SC_DISABLE_SPEEDY)),SI=(new Set,Object.freeze([])),TI=Object.freeze({});function CI(e,t,n){return void 0===n&&(n=TI),e.theme!==n.theme&&e.theme||t||n.theme}var II=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,AI=/(^-|-$)/g;function PI(e){return e.replace(kI,"-").replace(AI,"")}var RI=/(a)(d)/gi,NI=52,xI=function(e){return String.fromCharCode(e+(e>25?39:97))};function DI(e){var t,n="";for(t=Math.abs(e);t>NI;t=t/NI|0)n=xI(t%NI)+n;return(xI(t%NI)+n).replace(RI,"$1-$2")}var OI,LI=5381,MI=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},UI=function(e){return MI(LI,e)};function FI(e){return DI(UI(e)>>>0)}function jI(e){return e.displayName||e.name||"Component"}function VI(e){return"string"==typeof e&&!0}var zI="function"==typeof Symbol&&Symbol.for,BI=zI?Symbol.for("react.memo"):60115,HI=zI?Symbol.for("react.forward_ref"):60112,qI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GI=((OI={})[HI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OI[BI]=KI,OI);function QI(e){return("type"in(t=e)&&t.type.$$typeof)===BI?KI:"$$typeof"in e?GI[e.$$typeof]:qI;var t}var YI=Object.defineProperty,XI=Object.getOwnPropertyNames,JI=Object.getOwnPropertySymbols,$I=Object.getOwnPropertyDescriptor,ZI=Object.getPrototypeOf,ek=Object.prototype;function tk(e,t,n){if("string"!=typeof t){if(ek){var r=ZI(t);r&&r!==ek&&tk(e,r,n)}var i=XI(t);JI&&(i=i.concat(JI(t)));for(var o=QI(e),s=QI(t),a=0;a<i.length;++a){var l=i[a];if(!(l in WI||n&&n[l]||s&&l in s||o&&l in o)){var c=$I(t,l);try{YI(e,l,c)}catch(e){}}}}return e}function nk(e){return"function"==typeof e}function rk(e){return"object"==typeof e&&"styledComponentId"in e}function ik(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ok(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function sk(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ak(e,t,n){if(void 0===n&&(n=!1),!n&&!sk(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=ak(e[r],t[r]);else if(sk(t))for(var r in t)e[r]=ak(e[r],t[r]);return e}function lk(e,t){Object.defineProperty(e,"toString",{value:t})}function ck(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var uk=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw ck(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=(o=0,t.length);o<a;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(bI);return t},e}(),hk=new Map,dk=new Map,fk=1,pk=function(e){if(hk.has(e))return hk.get(e);for(;dk.has(fk);)fk++;var t=fk++;return hk.set(e,t),dk.set(t,e),t},mk=function(e,t){fk=t+1,hk.set(e,t),dk.set(t,e)},gk="style[".concat(gI,"][").concat(vI,'="').concat(_I,'"]'),yk=new RegExp("^".concat(gI,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),vk=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},_k=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(bI),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(yk);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(mk(u,c),vk(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function bk(){return n.nc}var wk=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(gI,"]")));return t[t.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(gI,yI),r.setAttribute(vI,_I);var s=bk();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Ek=function(){function e(e){this.element=wk(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw ck(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Sk=function(){function e(e){this.element=wk(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Tk=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ck=wI,Ik={isServer:!wI,useCSSOMInjection:!EI},kk=function(){function e(e,t,n){void 0===e&&(e=TI),void 0===t&&(t={});var r=this;this.options=hC(hC({},Ik),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&wI&&Ck&&(Ck=!1,function(e){for(var t=document.querySelectorAll(gk),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(gI)!==yI&&(_k(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),lk(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return dk.get(e)}(n);if(void 0===i)return"continue";var o=e.names.get(i),s=t.getGroup(n);if(void 0===o||0===s.length)return"continue";var a="".concat(gI,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(a,'{content:"').concat(l,'"}').concat(bI)},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return pk(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(hC(hC({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Tk(n):t?new Ek(n):new Sk(n)}(this.options),new uk(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(pk(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(pk(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(pk(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ak=/&/g,Pk=/^\s*\/\/.*$/gm;function Rk(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Rk(e.children,t)),e}))}function Nk(e){var t,n,r,i=void 0===e?TI:e,o=i.options,s=void 0===o?TI:o,a=i.plugins,l=void 0===a?SI:a,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===_C&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Ak,n).replace(r,c))})),s.prefix&&u.push(cI),u.push(aI);var h=function(e,i,o,a){void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Pk,""),c=uI(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);s.namespace&&(c=Rk(c,s.namespace));var h=[];return sI(c,function(e){var t=OC(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(u.concat(function(e){return function(t){t.root||(t=t.return)&&e(t)}}((function(e){return h.push(e)}))))),h};return h.hash=l.length?l.reduce((function(e,t){return t.name||ck(15),MI(e,t.name)}),LI).toString():"",h}var xk=new kk,Dk=Nk(),Ok=e.createContext({shouldForwardProp:void 0,styleSheet:xk,stylis:Dk}),Lk=(Ok.Consumer,e.createContext(void 0));function Mk(){return(0,e.useContext)(Ok)}function Uk(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=Mk().styleSheet,s=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,o]),a=(0,e.useMemo)((function(){return Nk({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:r})}),[t.enableVendorPrefixes,t.namespace,r]);(0,e.useEffect)((function(){pC()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]);var l=(0,e.useMemo)((function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:s,stylis:a}}),[t.shouldForwardProp,s,a]);return e.createElement(Ok.Provider,{value:l},e.createElement(Lk.Provider,{value:a},t.children))}var Fk=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Dk);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,lk(this,(function(){throw ck(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Dk),this.name+e.hash},e}(),jk=function(e){return e>="A"&&e<="Z"};function Vk(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;jk(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var zk=function(e){return null==e||!1===e||""===e},Bk=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!zk(o)&&(Array.isArray(o)&&o.isCss||nk(o)?r.push("".concat(Vk(i),":"),o,";"):sk(o)?r.push.apply(r,dC(dC(["".concat(i," {")],Bk(o),!1),["}"],!1)):r.push("".concat(Vk(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in mI||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Hk(e,t,n,r){return zk(e)?[]:rk(e)?[".".concat(e.styledComponentId)]:nk(e)?!nk(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Hk(e(t),t,n,r):e instanceof Fk?n?(e.inject(n,r),[e.getName(r)]):[e]:sk(e)?Bk(e):Array.isArray(e)?Array.prototype.concat.apply(SI,e.map((function(e){return Hk(e,t,n,r)}))):[e.toString()];var i}function qk(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(nk(n)&&!rk(n))return!1}return!0}var Wk=UI(_I),Kk=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&qk(e),this.componentId=t,this.baseHash=MI(Wk,t),this.baseStyle=n,kk.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=ik(r,this.staticRulesId);else{var i=ok(Hk(this.rules,e,t,n)),o=DI(MI(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}r=ik(r,o),this.staticRulesId=o}else{for(var a=MI(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=ok(Hk(u,e,t,n));a=MI(a,h+c),l+=h}}if(l){var d=DI(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=ik(r,d)}}return r},e}(),Gk=e.createContext(void 0);Gk.Consumer;var Qk={};new Set;function Yk(t,n,r){var i=rk(t),o=t,s=!VI(t),a=n.attrs,l=void 0===a?SI:a,c=n.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":PI(e);Qk[n]=(Qk[n]||0)+1;var r="".concat(n,"-").concat(FI(_I+n+Qk[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,h=n.displayName,d=void 0===h?function(e){return VI(e)?"styled.".concat(e):"Styled(".concat(jI(e),")")}(t):h,f=n.displayName&&n.componentId?"".concat(PI(n.displayName),"-").concat(n.componentId):n.componentId||u,p=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,m=n.shouldForwardProp;if(i&&o.shouldForwardProp){var g=o.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;m=function(e,t){return g(e,t)&&y(e,t)}}else m=g}var v=new Kk(r,f,i?o.componentStyle:void 0);function _(t,n){return function(t,n,r){var i=t.attrs,o=t.componentStyle,s=t.defaultProps,a=t.foldedComponentIds,l=t.styledComponentId,c=t.target,u=e.useContext(Gk),h=Mk(),d=t.shouldForwardProp||h.shouldForwardProp,f=CI(n,u,s)||TI,p=function(e,t,n){for(var r,i=hC(hC({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var s=nk(r=e[o])?r(i):r;for(var a in s)i[a]="className"===a?ik(i[a],s[a]):"style"===a?hC(hC({},i[a]),s[a]):s[a]}return t.className&&(i.className=ik(i.className,t.className)),i}(i,n,f),m=p.as||c,g={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y&&p.theme===f||("forwardedAs"===y?g.as=p.forwardedAs:d&&!d(y,m)||(g[y]=p[y]));var v=function(e,t){var n=Mk();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,p),_=ik(a,l);return v&&(_+=" "+v),p.className&&(_+=" "+p.className),g[VI(m)&&!II.has(m)?"class":"className"]=_,g.ref=r,(0,e.createElement)(m,g)}(b,t,n)}_.displayName=d;var b=e.forwardRef(_);return b.attrs=p,b.componentStyle=v,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=i?ik(o.foldedComponentIds,o.styledComponentId):"",b.styledComponentId=f,b.target=i?o.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)ak(e,i[r],!0);return e}({},o.defaultProps,e):e}}),lk(b,(function(){return".".concat(b.styledComponentId)})),s&&tk(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Xk(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Jk=function(e){return Object.assign(e,{isCss:!0})};function $k(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(nk(e)||sk(e))return Jk(Hk(Xk(SI,dC([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Hk(r):Jk(Hk(Xk(r,t)))}function Zk(e,t,n){if(void 0===n&&(n=TI),!t)throw ck(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,$k.apply(void 0,dC([r],i,!1)))};return r.attrs=function(r){return Zk(e,t,hC(hC({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Zk(e,t,hC(hC({},n),r))},r}var eA=function(e){return Zk(Yk,e)},tA=eA;II.forEach((function(e){tA[e]=eA(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=qk(e),kk.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(ok(Hk(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&kk.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function nA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ok($k.apply(void 0,dC([e],t,!1))),i=FI(r);return new Fk(i,r)}var rA,iA,oA,sA,aA,lA,cA,uA,hA;(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=bk(),r=ok([n&&'nonce="'.concat(n,'"'),"".concat(gI,'="true"'),"".concat(vI,'="').concat(_I,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw ck(2);return t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)throw ck(2);var r=((n={})[gI]="",n[vI]=_I,n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=bk();return i&&(r.nonce=i),[e.createElement("style",hC({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new kk({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw ck(2);return e.createElement(Uk,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(e){throw ck(3)}})(),"__sc-".concat(gI,"__");const dA="#4fa94d",fA={"aria-busy":!0,role:"progressbar"},pA=tA.div(rA||(rA=cC(["\n  display: ",";\n"])),(e=>e.$visible?"flex":"none")),mA="http://www.w3.org/2000/svg",gA=242.776657104492,yA=nA(iA||(iA=cC(["\n12.5% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n43.75% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n100% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n"])),33.98873199462888,gA,26.70543228149412,84.97182998657219,gA,84.97182998657219,2.42776657104492,gA,240.34889053344708),vA=(tA.path(oA||(oA=cC(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),2.42776657104492,gA,yA,1.6),nA(sA||(sA=cC(["\nto {\n   transform: rotate(360deg);\n }\n"])))),_A=(tA.svg(aA||(aA=cC(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: 0.75s;\n"])),vA),tA.polyline(lA||(lA=cC(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(e=>e.width)),nA(cA||(cA=cC(["\nto {\n   stroke-dashoffset: 136;\n }\n"])))),bA=tA.polygon(uA||(uA=cC(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),_A),wA=tA.svg(hA||(hA=cC(["\n  transform-origin: 50% 65%;\n"]))),EA=e=>{let{height:t=80,width:n=80,color:r=dA,ariaLabel:i="triangle-loading",wrapperStyle:o,wrapperClass:s,visible:a=!0}=e;return(0,uC.jsx)(pA,{style:o,$visible:a,className:"".concat(s),"data-testid":"triangle-loading","aria-label":i,...fA,children:(0,uC.jsx)(wA,{id:"triangle",width:n,height:t,xmlns:mA,viewBox:"-3 -4 39 39","data-testid":"triangle-svg",children:(0,uC.jsx)(bA,{fill:"transparent",stroke:r,strokeWidth:"1",points:"16,0 32,32 0,32"})})})},SA="apploader_loader-overlay__AsAGY",TA="apploader_loader-container__SQMyZ";const CA=function(){return(0,uC.jsx)("div",{className:SA,children:(0,uC.jsx)("div",{className:TA,children:(0,uC.jsx)(EA,{visible:!0,height:"80",width:"80",color:"#4fa94d",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClass:""})})})};let IA={data:""},kA=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||IA,AA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PA=/\/\*[^]*?\*\/|  +/g,RA=/\n+/g,NA=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?NA(s,o):o+"{"+NA(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=NA(s,t?t.replace(/([^,])+/g,(e=>o.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=NA.p?NA.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},xA={},DA=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+DA(e[n]);return t}return e},OA=(e,t,n,r,i)=>{let o=DA(e),s=xA[o]||(xA[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!xA[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=AA.exec(e.replace(PA,""));)t[4]?r.shift():t[3]?(n=t[3].replace(RA," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(RA," ").trim();return r[0]})(e);xA[s]=NA(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&xA.g?xA.g:null;return n&&(xA.g=xA[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(xA[s],t,r,a),s},LA=(e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":NA(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),"");function MA(e){let t=this||{},n=e.call?e(t.p):e;return OA(n.unshift?n.raw?LA(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,kA(t.target),t.g,t.o,t.k)}MA.bind({g:1});let UA,FA,jA,VA=MA.bind({k:1});function zA(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:FA&&FA()},a),n.o=/ *go\d+/.test(l),a.className=MA.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),jA&&c[0]&&jA(a),UA(c,a)}return t?t(i):i}}var BA,HA,qA,WA,KA,GA,QA,YA,XA,JA,$A,ZA,eP,tP,nP,rP,iP=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,oP=(()=>{let e=0;return()=>(++e).toString()})(),sP=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),aP=new Map,lP=e=>{if(aP.has(e))return;let t=setTimeout((()=>{aP.delete(e),dP({type:4,toastId:e})}),1e3);aP.set(e,t)},cP=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=aP.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?cP(e,{type:1,toast:n}):cP(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?lP(r):e.toasts.forEach((e=>{lP(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},uP=[],hP={toasts:[],pausedAt:void 0},dP=e=>{hP=cP(hP,e),uP.forEach((e=>{e(hP)}))},fP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pP=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||oP()}}(t,e,n);return dP({type:2,toast:r}),r.id},mP=(e,t)=>pP("blank")(e,t);mP.error=pP("error"),mP.success=pP("success"),mP.loading=pP("loading"),mP.custom=pP("custom"),mP.dismiss=e=>{dP({type:3,toastId:e})},mP.remove=e=>dP({type:4,toastId:e}),mP.promise=(e,t,n)=>{let r=mP.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(mP.success(iP(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{mP.error(iP(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var gP=(e,t)=>{dP({type:1,toast:{id:e,height:t}})},yP=()=>{dP({type:5,time:Date.now()})},vP=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(hP);(0,e.useEffect)((()=>(uP.push(r),()=>{let e=uP.indexOf(r);e>-1&&uP.splice(e,1)})),[n]);let i=n.toasts.map((e=>{var n,r;return{...t,...t[e.type],...e,duration:e.duration||(null==(n=t[e.type])?void 0:n.duration)||(null==t?void 0:t.duration)||fP[e.type],style:{...t.style,...null==(r=t[e.type])?void 0:r.style,...e.style}}}));return{...n,toasts:i}}(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>mP.dismiss(t.id)),n);t.visible&&mP.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,e.useCallback)((()=>{r&&dP({type:6,time:Date.now()})}),[r]),o=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},s=n.filter((t=>(t.position||o)===(e.position||o)&&t.height)),a=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<a&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return{toasts:n,handlers:{updateHeight:gP,startPause:yP,endPause:i,calculateOffset:o}}},_P=VA(BA||(BA=cC(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),bP=VA(HA||(HA=cC(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),wP=VA(qA||(qA=cC(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),EP=zA("div")(WA||(WA=cC(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),_P,bP,(e=>e.secondary||"#fff"),wP),SP=VA(KA||(KA=cC(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),TP=zA("div")(GA||(GA=cC(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),SP),CP=VA(QA||(QA=cC(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),IP=VA(YA||(YA=cC(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),kP=zA("div")(XA||(XA=cC(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),CP,IP,(e=>e.secondary||"#fff")),AP=zA("div")(JA||(JA=cC(["\n  position: absolute;\n"]))),PP=zA("div")($A||($A=cC(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),RP=VA(ZA||(ZA=cC(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),NP=zA("div")(eP||(eP=cC(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),RP),xP=t=>{let{toast:n}=t,{icon:r,type:i,iconTheme:o}=n;return void 0!==r?"string"==typeof r?e.createElement(NP,null,r):r:"blank"===i?null:e.createElement(PP,null,e.createElement(TP,{...o}),"loading"!==i&&e.createElement(AP,null,"error"===i?e.createElement(EP,{...o}):e.createElement(kP,{...o})))},DP=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),OP=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),LP=zA("div")(tP||(tP=cC(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),MP=zA("div")(nP||(nP=cC(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),UP=e.memo((t=>{let{toast:n,position:r,style:i,children:o}=t,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=sP()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[DP(n),OP(n)];return{animation:t?"".concat(VA(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(VA(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},a=e.createElement(xP,{toast:n}),l=e.createElement(MP,{...n.ariaProps},iP(n.message,n));return e.createElement(LP,{className:n.className,style:{...s,...i,...n.style}},"function"==typeof o?o({icon:a,message:l}):e.createElement(e.Fragment,null,a,l))}));!function(e,t,n,r){NA.p=t,UA=e,FA=n,jA=r}(e.createElement);var FP=t=>{let{id:n,className:r,style:i,onHeightUpdate:o,children:s}=t,a=e.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;o(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,o]);return e.createElement("div",{ref:a,className:r,style:i},s)},jP=MA(rP||(rP=cC(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),VP=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:o,children:s,containerStyle:a,containerClassName:l}=t,{toasts:c,handlers:u}=vP(i);return e.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((t=>{let i=t.position||r,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...r,...i}})(i,u.calculateOffset(t,{reverseOrder:n,gutter:o,defaultPosition:r}));return e.createElement(FP,{id:t.id,key:t.id,onHeightUpdate:u.updateHeight,className:t.visible?jP:"",style:a},"custom"===t.type?iP(t.message,t):s?s(t):e.createElement(UP,{toast:t,position:i}))})))},zP=mP;const BP=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(0),[o,s]=(0,e.useState)(!1),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),h=ya(tE),d=A(),f=pT(),p=[sC,aC];return(0,e.useEffect)((()=>{const e=setInterval((()=>{i((r+1)%p.length)}),5e3);return()=>clearInterval(e)}),[r,p.length]),(0,uC.jsxs)("div",{className:YT,children:[(0,uC.jsx)(VP,{})," ",(0,uC.jsxs)("div",{className:JT,children:[(0,uC.jsx)("div",{className:XT,children:(0,uC.jsx)("img",{src:lC,alt:"Icon"})}),(0,uC.jsx)("h1",{children:"Hello, Welcome Back!"}),(0,uC.jsx)("p",{children:"Please sign in to your account"}),(0,uC.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{await function(e,t,n){return Ur(e.app)?Promise.reject(hi(e)):Jo(Tn(e),Uo.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$o(e),t}))}(h,a,c);const e=h.currentUser;d(cE({username:a,password:t}));let n=await d(iE());n.payload&&d(uE({userTransaction:n.payload})),e?f("/home"):zP.error("Incorrect user or password")}catch(Dy){zP.error(Dy.message)}finally{s(!1)}},children:[(0,uC.jsx)("input",{type:"email",placeholder:"Email",value:a,onChange:e=>l(e.target.value)}),(0,uC.jsxs)("div",{className:eC,children:[(0,uC.jsx)("input",{type:t?"text":"password",placeholder:"Password",value:c,onChange:e=>u(e.target.value),className:tC}),(0,uC.jsx)("div",{className:nC,onClick:()=>{n(!t)},children:t?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),(0,uC.jsx)("button",{type:"submit",children:"Login"})]}),(0,uC.jsxs)("p",{className:ZT,children:["Don't have an account? ",(0,uC.jsx)("span",{children:"Sign Up"})]})]}),(0,uC.jsx)("div",{className:$T,children:(0,uC.jsxs)("div",{className:rC,children:[(0,uC.jsx)("button",{className:iC,onClick:()=>{i((r-1+p.length)%p.length)},children:"\u2039"}),(0,uC.jsx)("div",{className:oC,children:(0,uC.jsx)("img",{src:p[r],alt:"Slider"})}),(0,uC.jsx)("button",{className:iC,onClick:()=>{i((r+1)%p.length)},children:"\u203a"})]})}),o&&(0,uC.jsx)(CA,{})," "]})};const HP=function(){return(0,uC.jsx)(uC.Fragment,{children:(0,uC.jsx)(BP,{})})},qP={"main-container":"home_main-container__NTNq5","left-nav":"home_left-nav__DTKCZ","nav-link":"home_nav-link__k6w5w","right-card":"home_right-card__sFuqt","card-container":"home_card-container__dpkR+",card:"home_card__605A4","icon-div":"home_icon-div__vjl5y","nav-links":"home_nav-links__+5Rx5"},WP="monetaryview_monetary-container__HAdr5",KP="monetaryview_balance-container__DoFYa",GP="monetaryview_expense-container__7QVPy",QP="monetaryview_income-container__Pvg8H",YP="monetaryview_balance-text__-HWA4",XP="monetaryview_balance-amount__uXqzP",JP="monetaryview_income-amount__ThwDv",$P="monetaryview_expenses-amount__okktV";const ZP=function(){var e,t,n;const r=_((e=>{var t;return null===(t=e.appData.userTransactions)||void 0===t?void 0:t.Transactions})),i=Number(null!==(e=r.userBalance)&&void 0!==e?e:0).toLocaleString("en-US",{style:"currency",currency:"USD"}),o=Number(null!==(t=r.userExpense)&&void 0!==t?t:0).toLocaleString("en-US",{style:"currency",currency:"USD"}),s=Number(null!==(n=r.userIncome)&&void 0!==n?n:0).toLocaleString("en-US",{style:"currency",currency:"USD"});return(0,uC.jsxs)("div",{className:WP,children:[(0,uC.jsxs)("div",{className:QP,children:[(0,uC.jsx)("div",{className:YP,children:"Income"}),(0,uC.jsx)("div",{className:JP,children:s})]}),(0,uC.jsxs)("div",{className:GP,children:[(0,uC.jsx)("div",{className:YP,children:"Expense"}),(0,uC.jsx)("div",{className:$P,children:o})]}),(0,uC.jsxs)("div",{className:KP,children:[(0,uC.jsx)("div",{className:YP,children:"Balance"}),(0,uC.jsx)("div",{className:XP,children:i})]})]})};const eR=function(){const t=_((e=>e.appData)),n=A(),r=nE.currentUser&&nE.currentUser.email?nE.currentUser.email:"",[i,o]=(0,e.useState)({userIncome:"",userExpense:"",userBalance:""}),[s,a]=(0,e.useState)({income:!1,expense:!1,balance:!1}),l=qp(rE,"userTransactions"),[c,u]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{await function(e){e=Fp(e,zp);const t=Fp(e.firestore,Gp),n=Qp(t),r=new Om(t);return Cm(e._query),Np(n,e._query).then((n=>new Nm(t,r,e,n)))}(l)})();(async()=>{try{let e=await n(iE());e.payload?(n(uE({userTransaction:e.payload})),o(e.payload)):console.log("No Data to be found")}catch(Dy){console.error("Error fetching user transactions:",Dy)}})()}),[n]);const h=e=>{a((t=>({...t,[e]:!t[e]})))},d=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))},f=async e=>{u(!0);try{await function(e,t){const n=Fp(e.firestore,Gp),r=Wp(e),i=km(e.converter,t);return Um(n,[am(sm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mu.exists(!1))]).then((()=>r))}(l,i);let s=parseInt(i[e],10)||0,a=0,c={};if("userExpense"===e){if(s>parseInt(t.userTransactions.Transactions.userBalance,10))return zP.error("Expense cannot be greater than balance!");a=s+parseInt(t.userTransactions.Transactions[e],10);let n=parseInt(t.userTransactions.Transactions.userBalance,10)-s;c={...t.userTransactions.Transactions,[e]:a.toString(),userBalance:n.toString()}}else if("userIncome"===e){a=s+parseInt(t.userTransactions.Transactions[e],10);let n=s+parseInt(t.userTransactions.Transactions.userBalance,10);c={...t.userTransactions.Transactions,[e]:a.toString(),userBalance:n.toString()}}else a=s+parseInt(t.userTransactions.Transactions[e],10),c={...t.userTransactions.Transactions,[e]:a.toString()};o((t=>({...t,[e]:a.toString(),currentUser:r}))),n(hE({newObject:c})),n(oE(c)),zP.success("".concat(e.charAt(0).toUpperCase()+e.slice(1)," Updated Successfully!"));const u=new Date,h=u.getDate().toString().padStart(2,"0"),d=(u.getMonth()+1).toString().padStart(2,"0"),f=u.getFullYear(),p="".concat(h,"/").concat(d,"/").concat(f);let m="",g=null;"userIncome"===e?(m="Income",g="https://firebasestorage.googleapis.com/v0/b/financeapp-4593b.appspot.com/o/images%2Fincome.png?alt=media&token=6f3f562b-0857-4366-9063-10aeca355ab3"):"userExpense"===e?(m="Expense",g="https://firebasestorage.googleapis.com/v0/b/financeapp-4593b.appspot.com/o/images%2Fexpense.png?alt=media&token=c5d9fa75-417e-4a71-b436-5b08da927f3c"):(m="Balance",g="https://firebasestorage.googleapis.com/v0/b/financeapp-4593b.appspot.com/o/images%2Fbalance.png?alt=media&token=ea9ce38e-e48d-44c9-81aa-0b9866c1b329");let y={description:m,method:"added manually",date:p,amount:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(s)),image:g};[].push(y),n(sE(y)),n(dE(y))}catch(Dy){zP.error(Dy.message)}finally{u(!1)}};return(0,uC.jsxs)("div",{className:"addmonetary-container",children:[(0,uC.jsxs)("div",{className:"addmonetary-section ".concat(s.income?"active":""),children:[(0,uC.jsxs)("div",{className:"addmonetary-section-left",children:[(0,uC.jsx)("button",{className:"add-income-button",onClick:()=>h("income"),children:(0,uC.jsx)("span",{className:"material-symbols-outlined",children:"loupe"})}),(0,uC.jsxs)("div",{className:"incomeDiv paragraphDiv ".concat(s.income?"hidden":""),children:[(0,uC.jsx)("h2",{style:{display:"flex",height:"20px"},children:"Add Income"}),(0,uC.jsx)("p",{children:"Create an income manually"})]})]}),(0,uC.jsxs)("div",{className:"addmonetary-section-right",children:[(0,uC.jsx)("input",{name:"userIncome",value:i.userIncome,onChange:d,style:{display:s.income?"block":"none"}}),(0,uC.jsx)("button",{className:"add-submit-button",onClick:()=>f("userIncome"),style:{display:s.income?"block":"none"},children:"Submit Income"})]})]}),(0,uC.jsxs)("div",{className:"addmonetary-section ".concat(s.expense?"active":""),children:[(0,uC.jsxs)("div",{className:"addmonetary-section-left",children:[(0,uC.jsx)("button",{className:"add-expense-button",onClick:()=>h("expense"),children:(0,uC.jsx)("span",{className:"material-symbols-outlined",children:"currency_exchange"})}),(0,uC.jsxs)("div",{className:"expenseDiv paragraphDiv ".concat(s.expense?"hidden":""),children:[(0,uC.jsx)("h2",{style:{display:"flex",height:"20px"},children:"Add Expense"}),(0,uC.jsx)("p",{children:"Create an expense manually"})]})]}),(0,uC.jsxs)("div",{className:"addmonetary-section-right",children:[(0,uC.jsx)("input",{name:"userExpense",value:i.userExpense,onChange:d,style:{display:s.expense?"block":"none"}}),(0,uC.jsx)("button",{className:"add-submit-button",onClick:()=>f("userExpense"),style:{display:s.expense?"block":"none"},children:"Submit Expense"})]})]}),(0,uC.jsxs)("div",{className:"addmonetary-section ".concat(s.balance?"active":""),children:[(0,uC.jsxs)("div",{className:"addmonetary-section-left",children:[(0,uC.jsx)("button",{className:"add-balance-button",onClick:()=>h("balance"),children:(0,uC.jsx)("span",{className:"material-symbols-outlined",children:"account_balance"})}),(0,uC.jsxs)("div",{className:"balanceDiv paragraphDiv ".concat(s.balance?"hidden":""),children:[(0,uC.jsx)("h2",{style:{display:"flex",height:"20px"},children:"Add Balance"}),(0,uC.jsx)("p",{children:"Create a balance manually"})]})]}),(0,uC.jsxs)("div",{className:"addmonetary-section-right",children:[(0,uC.jsx)("input",{name:"userBalance",value:i.userBalance,onChange:d,style:{display:s.balance?"block":"none"}}),(0,uC.jsx)("button",{className:"add-submit-button",onClick:()=>f("userBalance"),style:{display:s.balance?"block":"none"},children:"Submit Balance"})]})]}),c&&(0,uC.jsx)(CA,{})]})};function tR(){return tR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tR.apply(this,arguments)}function nR(e,t,n,r){const i=Math.PI*n/180,o=Math.PI*r/180;return{x1:e+e*t*Math.cos(i),y1:e+e*t*Math.sin(i),x2:e+e*t*Math.cos(o),y2:e+e*t*Math.sin(o)}}function rR(e,t,n,r,i){const o=e/2*t;return"A".concat(o,", ").concat(o," 0 ").concat(n," ").concat(r,", ").concat(i)}function iR(e,t,n,r,i){const o=t+e,s=e>180?"1 1":"0 1",a=e>180?"1 0":"0 0",l=n/2,c=nR(l,i,t,o),u=nR(l,r,t,o),h=rR(n,i,s,c.x2,c.y2),d=rR(n,r,a,u.x1,u.y1);return"M".concat(c.x1,",").concat(c.y1,"\n  ").concat(h,"\n  L").concat(u.x2,",").concat(u.y2,"\n  ").concat(d," z")}const oR=t=>{let{item:n}=t;const{className:r,emptyOffset:i,graphWidth:o,innerRadius:s,outerRadius:a,selected:l,selectedOffset:c,toggledOffset:u,toggleSelect:h,total:d}=(0,e.useContext)(lR),{angle:f,classNames:p,clickHandlers:m,index:g,isEmpty:y,label:v,value:_,...b}=n,w=Number.isNaN(_/d)||d/_===1?359.99:_/d*360;let[E,S]=[s,a];return y?(E+=i,S-=i):(null===l||void 0===l?void 0:l.label)===v&&(h?(E-=u,S+=u):S+=c),e.createElement("path",tR({},m,b,{className:"".concat(r,"-arcs-path ").concat(p),d:iR(w,f,o,E,S)}))};function sR(){return sR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sR.apply(this,arguments)}const aR=t=>{let{item:n}=t;const{className:r,graphWidth:i,width:o}=(0,e.useContext)(lR),{classNames:s,clickHandlers:a,index:l,isEmpty:c,label:u,value:h,...d}=n,f="legend-item",p=o-i,m=p/10;return e.createElement("g",sR({},a,{className:"".concat(r,"-").concat(f," ").concat(s),transform:"translate(".concat(o-p,", ").concat(1.5*l*m,")")}),e.createElement("rect",sR({},d,{height:m,width:m})),e.createElement("text",{className:"".concat(r,"-").concat(f,"-label ").concat(s),dy:".35em",x:m+m/2,y:m/2},"".concat(u," - ").concat(h)))},lR=(0,e.createContext)(void 0),cR=t=>{let{className:n="donutchart",clickToggle:r=!0,colorFunction:i=(e,t)=>e[t%e.length],colors:o=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],data:s=[{className:"",label:"",value:100,isEmpty:!0}],emptyColor:a="#e0e0e0",emptyOffset:l=.08,formatValues:c=(e,t)=>Number.isNaN(e/t)?"--":"".concat((e/t*100).toFixed(2),"%"),height:u=500,interactive:h=!0,innerRadius:d=.7,legend:f=!0,onMouseEnter:p=e=>e,onMouseLeave:m=e=>e,onClick:g=(e,t)=>t?e:null,outerRadius:y=.9,selectedOffset:v=.03,strokeColor:_="#212121",toggledOffset:b=.04,width:w=750}=t;const[E,S]=(0,e.useState)(h?s[0]:null),[T,C]=(0,e.useState)(!1);(0,e.useEffect)((()=>{h&&(S(s[0]),C(!1))}),[h,s]);const I=f?w*(2/3):w,k=s.reduce(((e,t)=>{let{value:n}=t;return e+n}),0),{dataWithRenderProps:A}=s.reduce(((e,t,n)=>{let{angle:s,dataWithRenderProps:l}=e;const{className:c,isEmpty:u,label:d,value:f}=t,y=(null===E||void 0===E?void 0:E.label)===d,v=y&&T;return{angle:s+f/k*360,dataWithRenderProps:[...l,{angle:s,index:n,...t,classNames:"".concat(null!==c&&void 0!==c?c:""," ").concat(u?"empty":""," ").concat(y?"selected":""," ").concat(v?"toggled":"").trim(),fill:u?a:i(o,n),opacity:y&&!T?.5:1,stroke:u?a:_,clickHandlers:h?{onClick:()=>{if((null===E||void 0===E?void 0:E.label)===d){const e=!!r&&!T;S(t),C(e),g(t,e)}},onMouseEnter:()=>{T||(S(t),p(t))},onMouseLeave:()=>{T||m(t)}}:void 0}],total:k+f}}),{angle:0,dataWithRenderProps:[]});return e.createElement(lR.Provider,{value:{className:n,emptyOffset:l,graphWidth:I,innerRadius:d,outerRadius:y,selected:E,selectedOffset:v,toggledOffset:b,toggleSelect:T,total:k,width:w}},e.createElement("svg",{className:n,style:{height:u,width:w},viewBox:"0 0 ".concat(w," ").concat(u)},e.createElement("g",{className:"".concat(n,"-arcs")},A.map((t=>e.createElement(oR,{item:t,key:"arcpath".concat(t.index)})))),E&&e.createElement("g",{className:"".concat(n,"-innertext")},e.createElement("text",{className:"".concat(n,"-innertext-label"),x:I/2,y:"45%",textAnchor:"middle"},E.label),e.createElement("text",{className:"".concat(n,"-innertext-value"),x:I/2,y:"60%",textAnchor:"middle"},c(E.value,k))),f&&e.createElement("g",{className:"".concat(n,"-legend")},A.map((t=>e.createElement(aR,{key:"legenditem".concat(t.index),item:t}))))))},uR=cR;const hR=function(e){let{color:t,icon:n,title:r,percentage:i}=e;return(0,uC.jsxs)("div",{className:"doughnut-labels",children:[(0,uC.jsx)("div",{className:"iconsDiv",style:{backgroundColor:t},children:(0,uC.jsx)("span",{className:"material-symbols-outlined",style:{fontSize:"1rem"},children:n})}),(0,uC.jsxs)("div",{className:"textDiv",children:[(0,uC.jsx)("p",{className:"sort-text",children:r}),(0,uC.jsx)("div",{className:"sort-percentage",children:(0,uC.jsxs)("p",{children:[i," %"]})})]})]})};const dR=function(e){let t=_((e=>e.appData)).userTransactions.Transactions,n=[{label:"Balance",value:parseInt(t.userBalance)},{label:"Income",value:parseInt(t.userIncome)},{label:"Expense",value:parseInt(t.userExpense)}],r=parseInt(t.userIncome),i=parseInt(t.userBalance),o=parseInt(t.userExpense),s=r+o+i,a=(r/s*100).toFixed(1),l=(o/s*100).toFixed(1),c=[{label:"Balance",icon:"home",value:(i/s*100).toFixed(1),color:"#F04438"},{label:"Income",icon:"local_shipping",value:a,color:"#36A2EB"},{label:"Expense",icon:"credit_card",value:l,color:"#FFCE56"}];return(0,uC.jsxs)("div",{className:"main-doughnut-div",children:[(0,uC.jsx)(uR,{selectedOffset:!1,colors:["#F04438","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],data:n,className:"newclass"})," ",(0,uC.jsx)("div",{className:"doughnut-labels",children:c.map(((e,t)=>(0,uC.jsx)(hR,{icon:e.icon,title:e.label,percentage:e.value,color:e.color},t)))})]})},fR="recenttransactions_main-container__7qyvv",pR="recenttransactions_recentSegment__IUX8y",mR="recenttransactions_imagetype__oWNE+",gR=n.p+"static/media/Avatar.6641bf7efc0194d2f3b9.png";const yR=function(e){return(0,uC.jsxs)("div",{className:pR,children:[(0,uC.jsx)("div",{style:{position:"relative",top:"5px"},children:(0,uC.jsx)("img",{className:mR,src:e.image})}),(0,uC.jsxs)("div",{style:{Width:"64vh",position:"relative",top:"5px"},children:[(0,uC.jsx)("h3",{children:e.title}),(0,uC.jsx)("p",{children:e.method})]}),(0,uC.jsxs)("div",{style:{position:"relative",top:"5px"},children:[(0,uC.jsx)("h3",{children:e.amount}),(0,uC.jsx)("p",{children:e.date})]})]})};const vR=function(){let e=_((e=>e.appData)).lastTransactions;return(0,uC.jsxs)("div",{className:fR,children:[(0,uC.jsx)("h3",{children:"Recent Transactions"}),(0,uC.jsx)("p",{children:"All your recent transactions can be viewed here."}),(0,uC.jsx)(uC.Fragment,{children:e.length>0?e.slice().reverse().slice(0,3).map(((e,t)=>(0,uC.jsx)(yR,{image:e.image,title:e.description,amount:e.amount,date:e.date,method:e.method},t))):(0,uC.jsx)("p",{children:"No transactions found."})})]})},_R="profile_main-profile-container__2OQjp",bR="profile_avatarDiv__HM1pV",wR="profile_avatarimg__vxoyH";const ER=function(){const t=fy(),[n,r]=(0,e.useState)(""),[i,o]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1),l=(pT(),A());return(0,uC.jsxs)("div",{className:_R,children:[(0,uC.jsx)("h2",{children:"Profile"}),(0,uC.jsx)("div",{className:bR,children:(0,uC.jsx)("img",{className:wR,src:i||gR})}),(0,uC.jsx)("h3",{children:"Hi Umer!"}),(0,uC.jsxs)("form",{className:"profile-form",onSubmit:function(e){if(e.preventDefault(),!n)return void zP.error("Please select a file to upload.");var r,i;a(!0);const s=dy((r=t,i="images/"+n.name,sy(r=Tn(r),i)),n);s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading file:",e),a(!1),zP.error("Error uploading file. Please try again.")}),(()=>{(function(e){return ry(e=Tn(e))})(s.snapshot.ref).then((e=>{console.log("File available at",e),o(e),l(pE(e)),a(!1),zP.success("File uploaded successfully!")}))}))},children:[(0,uC.jsx)("input",{style:{padding:"10px"},type:"file",id:"myFile",onChange:function(e){e.target.files[0]&&r(e.target.files[0])},disabled:s}),(0,uC.jsx)("input",{style:{padding:"10px"},type:"submit",value:"Upload",disabled:s})]}),s&&(0,uC.jsx)("div",{children:(0,uC.jsx)(CA,{})})]})};const SR=function(){_((e=>e.appData)).lastTransactions;let t=A();qp(rE,"userTransactions");const[n,r]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{(async()=>{try{let e=await t(aE());t(fE(e.payload.lastTransactions))}catch(Dy){console.error("Error fetching user last transactions:",Dy)}})()}),[t]),(0,uC.jsxs)("div",{className:qP["main-container"],children:[(0,uC.jsxs)("div",{className:qP["left-nav"],children:[(0,uC.jsx)("div",{className:qP["icon-div"],children:(0,uC.jsx)("img",{src:lC,alt:"Icon"})}),(0,uC.jsxs)("nav",{className:qP["nav-links"],children:[(0,uC.jsx)(WT,{to:"/home",className:qP["nav-link"],activeclassname:qP.active,children:"Overview"}),(0,uC.jsx)(WT,{to:"/account",className:qP["nav-link"],activeclassname:qP.active,children:"Account"}),(0,uC.jsx)(WT,{to:"/transactions",className:qP["nav-link"],activeclassname:qP.active,children:"Transactions"}),(0,uC.jsx)(WT,{to:"/wallet",className:qP["nav-link"],activeclassname:qP.active,children:"Wallet"})]})]}),(0,uC.jsx)("div",{className:qP["right-card"],children:(0,uC.jsxs)("div",{className:qP["card-container"],children:[(0,uC.jsx)(uC.Fragment,{children:(0,uC.jsx)(vR,{})}),(0,uC.jsx)(dR,{}),(0,uC.jsx)(ER,{}),(0,uC.jsx)(ZP,{}),(0,uC.jsx)(eR,{})]})})]})},TR=document.getElementById("root"),CR=(0,r.H)(TR);IR=[{path:"/",element:(0,uC.jsx)(HP,{})},{path:"/map-money",element:(0,uC.jsx)(HP,{})},{path:"/home",element:(0,uC.jsx)(SR,{})}],gS({basename:null==kR?void 0:kR.basename,future:DT({},null==kR?void 0:kR.future,{v7_prependBasename:!0}),history:wE({window:null==kR?void 0:kR.window}),hydrationData:(null==kR?void 0:kR.hydrationData)||UT(),routes:IR,mapRouteProperties:xT,unstable_dataStrategy:null==kR?void 0:kR.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==kR?void 0:kR.unstable_patchRoutesOnMiss,window:null==kR?void 0:kR.window}).initialize();var IR,kR;CR.render((0,uC.jsx)(e.StrictMode,{children:(0,uC.jsx)(T,{store:gE,children:(0,uC.jsx)(zT,{children:(0,uC.jsxs)(RT,{children:[(0,uC.jsx)(AT,{path:"/",element:(0,uC.jsx)(HP,{})}),(0,uC.jsx)(AT,{path:"/map-money",element:(0,uC.jsx)(HP,{})}),(0,uC.jsx)(AT,{path:"/home",element:(0,uC.jsx)(SR,{})})]})})})})),yE()})()})();
//# sourceMappingURL=main.8f43bf28.js.map